<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Callback closure for collecting the model coefficients history of a gblinear booster
during its training. — cb.gblinear.history • xgboost</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Callback closure for collecting the model coefficients history of a gblinear booster
during its training. — cb.gblinear.history" />
<meta property="og:description" content="Callback closure for collecting the model coefficients history of a gblinear booster
during its training." />
<meta name="twitter:card" content="summary" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">xgboost</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.90.0.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fas fa fas fa-archive fa-lg"></span>
     
    R Packages
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../../boot/index.html">boot</a>
    </li>
    <li>
      <a href="../../broom/index.html">broom</a>
    </li>
    <li>
      <a href="../../caret/index.html">caret</a>
    </li>
    <li>
      <a href="../../cluster/index.html">cluster</a>
    </li>
    <li>
      <a href="../../coefplot/index.html">coefplot</a>
    </li>
    <li>
      <a href="../../data.table/index.html">data.table</a>
    </li>
    <li>
      <a href="../../devtools/index.html">devtools</a>
    </li>
    <li>
      <a href="../../dplyr/index.html">dplyr</a>
    </li>
    <li>
      <a href="../../e1071/index.html">e1071</a>
    </li>
    <li>
      <a href="../../forcats/index.html">forcats</a>
    </li>
    <li>
      <a href="../../gbm/index.html">gbm</a>
    </li>
    <li>
      <a href="../../ggplot2/index.html">ggplot2</a>
    </li>
    <li>
      <a href="../../glmnet/index.html">glmnet</a>
    </li>
    <li>
      <a href="../../gridExtra/index.html">gridExtra</a>
    </li>
    <li>
      <a href="../../ISLR/index.html">ISLR</a>
    </li>
    <li>
      <a href="../../MASS/index.html">MASS</a>
    </li>
    <li>
      <a href="../../pdp/index.html">pdp</a>
    </li>
    <li>
      <a href="../../pls/index.html">pls</a>
    </li>
    <li>
      <a href="../../plyr/index.html">plyr</a>
    </li>
    <li>
      <a href="../../pROC/index.html">pROC</a>
    </li>
    <li>
      <a href="../../purrr/index.html">purrr</a>
    </li>
    <li>
      <a href="../../randomForest/index.html">randomForest</a>
    </li>
    <li>
      <a href="../../readr/index.html">readr</a>
    </li>
    <li>
      <a href="../../rpart/index.html">rpart</a>
    </li>
    <li>
      <a href="../../rpart.plot/index.html">rpart.plot</a>
    </li>
    <li>
      <a href="../../stringr/index.html">stringr</a>
    </li>
    <li>
      <a href="../../tibble/index.html">tibble</a>
    </li>
    <li>
      <a href="../../tidyr/index.html">tidyr</a>
    </li>
    <li>
      <a href="../../xgboost/index.html">xgboost</a>
    </li>
  </ul>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/discoverYourData.html">Understand your dataset with Xgboost</a>
    </li>
    <li>
      <a href="../articles/xgboostPresentation.html">Xgboost presentation</a>
    </li>
    <li>
      <a href="../articles/xgboostfromJSON.html">XGBoost from JSON</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/dmlc/xgboost">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Callback closure for collecting the model coefficients history of a gblinear booster
during its training.</h1>
    <small class="dont-index">Source: <a href='https://github.com/dmlc/xgboost/blob/master/R/callbacks.R'><code>R/callbacks.R</code></a></small>
    <div class="hidden name"><code>cb.gblinear.history.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Callback closure for collecting the model coefficients history of a gblinear booster
during its training.</p>
    </div>

    <pre class="usage"><span class='fu'>cb.gblinear.history</span>(<span class='kw'>sparse</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>sparse</th>
      <td><p>when set to FALSE/TURE, a dense/sparse matrix is used to store the result.
Sparse format is useful when one expects only a subset of coefficients to be non-zero,
when using the "thrifty" feature selector with fairly small number of top features
selected per iteration.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>Results are stored in the <code>coefs</code> element of the closure.
The <code><a href='xgb.gblinear.history.html'>xgb.gblinear.history</a></code> convenience function provides an easy way to access it.
With <code>xgb.train</code>, it is either a dense of a sparse matrix.
While with <code>xgb.cv</code>, it is a list (an element per each fold) of such matrices.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>To keep things fast and simple, gblinear booster does not internally store the history of linear
model coefficients at each boosting iteration. This callback provides a workaround for storing
the coefficients' path, by extracting them after each training iteration.</p>
<p>Callback function expects the following values to be set in its calling frame:
<code>bst</code> (or <code>bst_folds</code>).</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='callbacks.html'>callbacks</a></code>, <code><a href='xgb.gblinear.history.html'>xgb.gblinear.history</a></code>.</p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'>#### Binary classification:</span>
<span class='co'>#</span>
<span class='co'># In the iris dataset, it is hard to linearly separate Versicolor class from the rest</span>
<span class='co'># without considering the 2nd order interactions:</span>
<span class='fu'><a href='https://rdrr.io/r/base/library.html'>require</a></span>(<span class='no'>magrittr</span>)</div><div class='output co'>#&gt; <span class='message'>Loading required package: magrittr</span></div><div class='input'><span class='no'>x</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/model.matrix.html'>model.matrix</a></span>(<span class='no'>Species</span> ~ <span class='no'>.</span>^<span class='fl'>2</span>, <span class='no'>iris</span>)[,-<span class='fl'>1</span>]
<span class='fu'><a href='https://rdrr.io/r/base/colnames.html'>colnames</a></span>(<span class='no'>x</span>)</div><div class='output co'>#&gt;  [1] "Sepal.Length"              "Sepal.Width"              
#&gt;  [3] "Petal.Length"              "Petal.Width"              
#&gt;  [5] "Sepal.Length:Sepal.Width"  "Sepal.Length:Petal.Length"
#&gt;  [7] "Sepal.Length:Petal.Width"  "Sepal.Width:Petal.Length" 
#&gt;  [9] "Sepal.Width:Petal.Width"   "Petal.Length:Petal.Width" </div><div class='input'><span class='no'>dtrain</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='xgb.DMatrix.html'>xgb.DMatrix</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/scale.html'>scale</a></span>(<span class='no'>x</span>), <span class='kw'>label</span> <span class='kw'>=</span> <span class='fl'>1</span>*(<span class='no'>iris</span>$<span class='no'>Species</span> <span class='kw'>==</span> <span class='st'>"versicolor"</span>))
<span class='no'>param</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(<span class='kw'>booster</span> <span class='kw'>=</span> <span class='st'>"gblinear"</span>, <span class='kw'>objective</span> <span class='kw'>=</span> <span class='st'>"reg:logistic"</span>, <span class='kw'>eval_metric</span> <span class='kw'>=</span> <span class='st'>"auc"</span>,
              <span class='kw'>lambda</span> <span class='kw'>=</span> <span class='fl'>0.0003</span>, <span class='kw'>alpha</span> <span class='kw'>=</span> <span class='fl'>0.0003</span>, <span class='kw'>nthread</span> <span class='kw'>=</span> <span class='fl'>2</span>)
<span class='co'># For 'shotgun', which is a default linear updater, using high eta values may result in</span>
<span class='co'># unstable behaviour in some datasets. With this simple dataset, however, the high learning</span>
<span class='co'># rate does not break the convergence, but allows us to illustrate the typical pattern of</span>
<span class='co'># "stochastic explosion" behaviour of this lock-free algorithm at early boosting iterations.</span>
<span class='no'>bst</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='xgb.train.html'>xgb.train</a></span>(<span class='no'>param</span>, <span class='no'>dtrain</span>, <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(<span class='kw'>tr</span><span class='kw'>=</span><span class='no'>dtrain</span>), <span class='kw'>nrounds</span> <span class='kw'>=</span> <span class='fl'>200</span>, <span class='kw'>eta</span> <span class='kw'>=</span> <span class='fl'>1.</span>,
                 <span class='kw'>callbacks</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(<span class='fu'>cb.gblinear.history</span>()))</div><div class='output co'>#&gt; [1]	tr-auc:0.809600 
#&gt; [2]	tr-auc:0.828400 
#&gt; [3]	tr-auc:0.837800 
#&gt; [4]	tr-auc:0.844000 
#&gt; [5]	tr-auc:0.849800 
#&gt; [6]	tr-auc:0.857000 
#&gt; [7]	tr-auc:0.868000 
#&gt; [8]	tr-auc:0.875000 
#&gt; [9]	tr-auc:0.881400 
#&gt; [10]	tr-auc:0.890200 
#&gt; [11]	tr-auc:0.898800 
#&gt; [12]	tr-auc:0.908600 
#&gt; [13]	tr-auc:0.918000 
#&gt; [14]	tr-auc:0.925000 
#&gt; [15]	tr-auc:0.935800 
#&gt; [16]	tr-auc:0.942000 
#&gt; [17]	tr-auc:0.948600 
#&gt; [18]	tr-auc:0.954600 
#&gt; [19]	tr-auc:0.960800 
#&gt; [20]	tr-auc:0.965000 
#&gt; [21]	tr-auc:0.969600 
#&gt; [22]	tr-auc:0.972400 
#&gt; [23]	tr-auc:0.977000 
#&gt; [24]	tr-auc:0.979800 
#&gt; [25]	tr-auc:0.982600 
#&gt; [26]	tr-auc:0.984400 
#&gt; [27]	tr-auc:0.986800 
#&gt; [28]	tr-auc:0.988800 
#&gt; [29]	tr-auc:0.991000 
#&gt; [30]	tr-auc:0.993200 
#&gt; [31]	tr-auc:0.994000 
#&gt; [32]	tr-auc:0.994400 
#&gt; [33]	tr-auc:0.995800 
#&gt; [34]	tr-auc:0.996200 
#&gt; [35]	tr-auc:0.996400 
#&gt; [36]	tr-auc:0.997000 
#&gt; [37]	tr-auc:0.997200 
#&gt; [38]	tr-auc:0.997400 
#&gt; [39]	tr-auc:0.997400 
#&gt; [40]	tr-auc:0.997600 
#&gt; [41]	tr-auc:0.998000 
#&gt; [42]	tr-auc:0.998000 
#&gt; [43]	tr-auc:0.998000 
#&gt; [44]	tr-auc:0.998000 
#&gt; [45]	tr-auc:0.998000 
#&gt; [46]	tr-auc:0.998000 
#&gt; [47]	tr-auc:0.998000 
#&gt; [48]	tr-auc:0.998000 
#&gt; [49]	tr-auc:0.998000 
#&gt; [50]	tr-auc:0.998000 
#&gt; [51]	tr-auc:0.998000 
#&gt; [52]	tr-auc:0.998000 
#&gt; [53]	tr-auc:0.998000 
#&gt; [54]	tr-auc:0.998000 
#&gt; [55]	tr-auc:0.998000 
#&gt; [56]	tr-auc:0.998000 
#&gt; [57]	tr-auc:0.998000 
#&gt; [58]	tr-auc:0.998000 
#&gt; [59]	tr-auc:0.998000 
#&gt; [60]	tr-auc:0.998000 
#&gt; [61]	tr-auc:0.998000 
#&gt; [62]	tr-auc:0.998200 
#&gt; [63]	tr-auc:0.998200 
#&gt; [64]	tr-auc:0.998000 
#&gt; [65]	tr-auc:0.998000 
#&gt; [66]	tr-auc:0.998000 
#&gt; [67]	tr-auc:0.998000 
#&gt; [68]	tr-auc:0.998000 
#&gt; [69]	tr-auc:0.998000 
#&gt; [70]	tr-auc:0.998000 
#&gt; [71]	tr-auc:0.998000 
#&gt; [72]	tr-auc:0.998200 
#&gt; [73]	tr-auc:0.998200 
#&gt; [74]	tr-auc:0.998200 
#&gt; [75]	tr-auc:0.998200 
#&gt; [76]	tr-auc:0.998200 
#&gt; [77]	tr-auc:0.998200 
#&gt; [78]	tr-auc:0.998200 
#&gt; [79]	tr-auc:0.998200 
#&gt; [80]	tr-auc:0.998200 
#&gt; [81]	tr-auc:0.998200 
#&gt; [82]	tr-auc:0.998200 
#&gt; [83]	tr-auc:0.998200 
#&gt; [84]	tr-auc:0.998400 
#&gt; [85]	tr-auc:0.998400 
#&gt; [86]	tr-auc:0.998400 
#&gt; [87]	tr-auc:0.998400 
#&gt; [88]	tr-auc:0.998400 
#&gt; [89]	tr-auc:0.998400 
#&gt; [90]	tr-auc:0.998400 
#&gt; [91]	tr-auc:0.998400 
#&gt; [92]	tr-auc:0.998400 
#&gt; [93]	tr-auc:0.998400 
#&gt; [94]	tr-auc:0.998400 
#&gt; [95]	tr-auc:0.998200 
#&gt; [96]	tr-auc:0.998200 
#&gt; [97]	tr-auc:0.998200 
#&gt; [98]	tr-auc:0.998200 
#&gt; [99]	tr-auc:0.998200 
#&gt; [100]	tr-auc:0.998200 
#&gt; [101]	tr-auc:0.998200 
#&gt; [102]	tr-auc:0.998200 
#&gt; [103]	tr-auc:0.998200 
#&gt; [104]	tr-auc:0.998200 
#&gt; [105]	tr-auc:0.998200 
#&gt; [106]	tr-auc:0.998200 
#&gt; [107]	tr-auc:0.998200 
#&gt; [108]	tr-auc:0.998200 
#&gt; [109]	tr-auc:0.998200 
#&gt; [110]	tr-auc:0.998200 
#&gt; [111]	tr-auc:0.998400 
#&gt; [112]	tr-auc:0.998400 
#&gt; [113]	tr-auc:0.998400 
#&gt; [114]	tr-auc:0.998400 
#&gt; [115]	tr-auc:0.998400 
#&gt; [116]	tr-auc:0.998400 
#&gt; [117]	tr-auc:0.998400 
#&gt; [118]	tr-auc:0.998600 
#&gt; [119]	tr-auc:0.998600 
#&gt; [120]	tr-auc:0.998600 
#&gt; [121]	tr-auc:0.998600 
#&gt; [122]	tr-auc:0.998600 
#&gt; [123]	tr-auc:0.998600 
#&gt; [124]	tr-auc:0.998600 
#&gt; [125]	tr-auc:0.998600 
#&gt; [126]	tr-auc:0.998600 
#&gt; [127]	tr-auc:0.998600 
#&gt; [128]	tr-auc:0.998600 
#&gt; [129]	tr-auc:0.998600 
#&gt; [130]	tr-auc:0.998600 
#&gt; [131]	tr-auc:0.998600 
#&gt; [132]	tr-auc:0.998600 
#&gt; [133]	tr-auc:0.998600 
#&gt; [134]	tr-auc:0.998600 
#&gt; [135]	tr-auc:0.998600 
#&gt; [136]	tr-auc:0.998600 
#&gt; [137]	tr-auc:0.998600 
#&gt; [138]	tr-auc:0.998600 
#&gt; [139]	tr-auc:0.998600 
#&gt; [140]	tr-auc:0.998600 
#&gt; [141]	tr-auc:0.998600 
#&gt; [142]	tr-auc:0.998600 
#&gt; [143]	tr-auc:0.998400 
#&gt; [144]	tr-auc:0.998400 
#&gt; [145]	tr-auc:0.998400 
#&gt; [146]	tr-auc:0.998400 
#&gt; [147]	tr-auc:0.998400 
#&gt; [148]	tr-auc:0.998400 
#&gt; [149]	tr-auc:0.998400 
#&gt; [150]	tr-auc:0.998400 
#&gt; [151]	tr-auc:0.998400 
#&gt; [152]	tr-auc:0.998400 
#&gt; [153]	tr-auc:0.998400 
#&gt; [154]	tr-auc:0.998400 
#&gt; [155]	tr-auc:0.998400 
#&gt; [156]	tr-auc:0.998400 
#&gt; [157]	tr-auc:0.998400 
#&gt; [158]	tr-auc:0.998400 
#&gt; [159]	tr-auc:0.998400 
#&gt; [160]	tr-auc:0.998400 
#&gt; [161]	tr-auc:0.998400 
#&gt; [162]	tr-auc:0.998400 
#&gt; [163]	tr-auc:0.998400 
#&gt; [164]	tr-auc:0.998400 
#&gt; [165]	tr-auc:0.998400 
#&gt; [166]	tr-auc:0.998400 
#&gt; [167]	tr-auc:0.998400 
#&gt; [168]	tr-auc:0.998400 
#&gt; [169]	tr-auc:0.998400 
#&gt; [170]	tr-auc:0.998400 
#&gt; [171]	tr-auc:0.998400 
#&gt; [172]	tr-auc:0.998400 
#&gt; [173]	tr-auc:0.998400 
#&gt; [174]	tr-auc:0.998400 
#&gt; [175]	tr-auc:0.998400 
#&gt; [176]	tr-auc:0.998400 
#&gt; [177]	tr-auc:0.998400 
#&gt; [178]	tr-auc:0.998400 
#&gt; [179]	tr-auc:0.998400 
#&gt; [180]	tr-auc:0.998400 
#&gt; [181]	tr-auc:0.998400 
#&gt; [182]	tr-auc:0.998200 
#&gt; [183]	tr-auc:0.998200 
#&gt; [184]	tr-auc:0.998200 
#&gt; [185]	tr-auc:0.998200 
#&gt; [186]	tr-auc:0.998200 
#&gt; [187]	tr-auc:0.998200 
#&gt; [188]	tr-auc:0.998200 
#&gt; [189]	tr-auc:0.998200 
#&gt; [190]	tr-auc:0.998200 
#&gt; [191]	tr-auc:0.998200 
#&gt; [192]	tr-auc:0.998200 
#&gt; [193]	tr-auc:0.998200 
#&gt; [194]	tr-auc:0.998200 
#&gt; [195]	tr-auc:0.998200 
#&gt; [196]	tr-auc:0.998200 
#&gt; [197]	tr-auc:0.998200 
#&gt; [198]	tr-auc:0.998200 
#&gt; [199]	tr-auc:0.998200 
#&gt; [200]	tr-auc:0.998200 </div><div class='input'><span class='co'># Extract the coefficients' path and plot them vs boosting iteration number:</span>
<span class='no'>coef_path</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='xgb.gblinear.history.html'>xgb.gblinear.history</a></span>(<span class='no'>bst</span>)
<span class='fu'><a href='https://rdrr.io/r/graphics/matplot.html'>matplot</a></span>(<span class='no'>coef_path</span>, <span class='kw'>type</span> <span class='kw'>=</span> <span class='st'>'l'</span>)</div><div class='img'><img src='cb.gblinear.history-1.png' alt='' width='700' height='433' /></div><div class='input'>
<span class='co'># With the deterministic coordinate descent updater, it is safer to use higher learning rates.</span>
<span class='co'># Will try the classical componentwise boosting which selects a single best feature per round:</span>
<span class='no'>bst</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='xgb.train.html'>xgb.train</a></span>(<span class='no'>param</span>, <span class='no'>dtrain</span>, <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(<span class='kw'>tr</span><span class='kw'>=</span><span class='no'>dtrain</span>), <span class='kw'>nrounds</span> <span class='kw'>=</span> <span class='fl'>200</span>, <span class='kw'>eta</span> <span class='kw'>=</span> <span class='fl'>0.8</span>,
                 <span class='kw'>updater</span> <span class='kw'>=</span> <span class='st'>'coord_descent'</span>, <span class='kw'>feature_selector</span> <span class='kw'>=</span> <span class='st'>'thrifty'</span>, <span class='kw'>top_k</span> <span class='kw'>=</span> <span class='fl'>1</span>,
                 <span class='kw'>callbacks</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(<span class='fu'>cb.gblinear.history</span>()))</div><div class='output co'>#&gt; [1]	tr-auc:0.794200 
#&gt; [2]	tr-auc:0.794200 
#&gt; [3]	tr-auc:0.802200 
#&gt; [4]	tr-auc:0.822800 
#&gt; [5]	tr-auc:0.839800 
#&gt; [6]	tr-auc:0.849000 
#&gt; [7]	tr-auc:0.865200 
#&gt; [8]	tr-auc:0.852200 
#&gt; [9]	tr-auc:0.859800 
#&gt; [10]	tr-auc:0.873800 
#&gt; [11]	tr-auc:0.880800 
#&gt; [12]	tr-auc:0.892800 
#&gt; [13]	tr-auc:0.898600 
#&gt; [14]	tr-auc:0.910000 
#&gt; [15]	tr-auc:0.912400 
#&gt; [16]	tr-auc:0.926200 
#&gt; [17]	tr-auc:0.919400 
#&gt; [18]	tr-auc:0.930800 
#&gt; [19]	tr-auc:0.933000 
#&gt; [20]	tr-auc:0.939600 
#&gt; [21]	tr-auc:0.937600 
#&gt; [22]	tr-auc:0.942200 
#&gt; [23]	tr-auc:0.940200 
#&gt; [24]	tr-auc:0.944000 
#&gt; [25]	tr-auc:0.943800 
#&gt; [26]	tr-auc:0.947600 
#&gt; [27]	tr-auc:0.951000 
#&gt; [28]	tr-auc:0.953800 
#&gt; [29]	tr-auc:0.952800 
#&gt; [30]	tr-auc:0.956000 
#&gt; [31]	tr-auc:0.958200 
#&gt; [32]	tr-auc:0.959800 
#&gt; [33]	tr-auc:0.952800 
#&gt; [34]	tr-auc:0.954600 
#&gt; [35]	tr-auc:0.957800 
#&gt; [36]	tr-auc:0.958400 
#&gt; [37]	tr-auc:0.961400 
#&gt; [38]	tr-auc:0.962400 
#&gt; [39]	tr-auc:0.964800 
#&gt; [40]	tr-auc:0.967600 
#&gt; [41]	tr-auc:0.968600 
#&gt; [42]	tr-auc:0.967200 
#&gt; [43]	tr-auc:0.968000 
#&gt; [44]	tr-auc:0.970200 
#&gt; [45]	tr-auc:0.972000 
#&gt; [46]	tr-auc:0.970600 
#&gt; [47]	tr-auc:0.972200 
#&gt; [48]	tr-auc:0.974200 
#&gt; [49]	tr-auc:0.974600 
#&gt; [50]	tr-auc:0.974000 
#&gt; [51]	tr-auc:0.974800 
#&gt; [52]	tr-auc:0.976000 
#&gt; [53]	tr-auc:0.976200 
#&gt; [54]	tr-auc:0.976200 
#&gt; [55]	tr-auc:0.976400 
#&gt; [56]	tr-auc:0.978000 
#&gt; [57]	tr-auc:0.978800 
#&gt; [58]	tr-auc:0.979600 
#&gt; [59]	tr-auc:0.980200 
#&gt; [60]	tr-auc:0.979400 
#&gt; [61]	tr-auc:0.979800 
#&gt; [62]	tr-auc:0.981400 
#&gt; [63]	tr-auc:0.982400 
#&gt; [64]	tr-auc:0.983000 
#&gt; [65]	tr-auc:0.983800 
#&gt; [66]	tr-auc:0.982000 
#&gt; [67]	tr-auc:0.983600 
#&gt; [68]	tr-auc:0.984600 
#&gt; [69]	tr-auc:0.985600 
#&gt; [70]	tr-auc:0.986000 
#&gt; [71]	tr-auc:0.986200 
#&gt; [72]	tr-auc:0.986000 
#&gt; [73]	tr-auc:0.986800 
#&gt; [74]	tr-auc:0.987400 
#&gt; [75]	tr-auc:0.987400 
#&gt; [76]	tr-auc:0.987800 
#&gt; [77]	tr-auc:0.988200 
#&gt; [78]	tr-auc:0.989600 
#&gt; [79]	tr-auc:0.989600 
#&gt; [80]	tr-auc:0.989600 
#&gt; [81]	tr-auc:0.989600 
#&gt; [82]	tr-auc:0.989800 
#&gt; [83]	tr-auc:0.990200 
#&gt; [84]	tr-auc:0.990200 
#&gt; [85]	tr-auc:0.991600 
#&gt; [86]	tr-auc:0.992800 
#&gt; [87]	tr-auc:0.992800 
#&gt; [88]	tr-auc:0.992000 
#&gt; [89]	tr-auc:0.992600 
#&gt; [90]	tr-auc:0.992800 
#&gt; [91]	tr-auc:0.993000 
#&gt; [92]	tr-auc:0.992200 
#&gt; [93]	tr-auc:0.992600 
#&gt; [94]	tr-auc:0.993400 
#&gt; [95]	tr-auc:0.993400 
#&gt; [96]	tr-auc:0.993600 
#&gt; [97]	tr-auc:0.993600 
#&gt; [98]	tr-auc:0.993200 
#&gt; [99]	tr-auc:0.993400 
#&gt; [100]	tr-auc:0.993600 
#&gt; [101]	tr-auc:0.994000 
#&gt; [102]	tr-auc:0.994000 
#&gt; [103]	tr-auc:0.994400 
#&gt; [104]	tr-auc:0.995000 
#&gt; [105]	tr-auc:0.995400 
#&gt; [106]	tr-auc:0.993000 
#&gt; [107]	tr-auc:0.993800 
#&gt; [108]	tr-auc:0.993800 
#&gt; [109]	tr-auc:0.994400 
#&gt; [110]	tr-auc:0.994600 
#&gt; [111]	tr-auc:0.995400 
#&gt; [112]	tr-auc:0.995400 
#&gt; [113]	tr-auc:0.995600 
#&gt; [114]	tr-auc:0.995800 
#&gt; [115]	tr-auc:0.995400 
#&gt; [116]	tr-auc:0.995600 
#&gt; [117]	tr-auc:0.996000 
#&gt; [118]	tr-auc:0.995800 
#&gt; [119]	tr-auc:0.995400 
#&gt; [120]	tr-auc:0.995800 
#&gt; [121]	tr-auc:0.995800 
#&gt; [122]	tr-auc:0.995800 
#&gt; [123]	tr-auc:0.995800 
#&gt; [124]	tr-auc:0.995800 
#&gt; [125]	tr-auc:0.996000 
#&gt; [126]	tr-auc:0.995800 
#&gt; [127]	tr-auc:0.996000 
#&gt; [128]	tr-auc:0.996000 
#&gt; [129]	tr-auc:0.996400 
#&gt; [130]	tr-auc:0.996400 
#&gt; [131]	tr-auc:0.997200 
#&gt; [132]	tr-auc:0.997000 
#&gt; [133]	tr-auc:0.995800 
#&gt; [134]	tr-auc:0.995800 
#&gt; [135]	tr-auc:0.995600 
#&gt; [136]	tr-auc:0.996600 
#&gt; [137]	tr-auc:0.996600 
#&gt; [138]	tr-auc:0.997600 
#&gt; [139]	tr-auc:0.997600 
#&gt; [140]	tr-auc:0.997200 
#&gt; [141]	tr-auc:0.997000 
#&gt; [142]	tr-auc:0.997200 
#&gt; [143]	tr-auc:0.997200 
#&gt; [144]	tr-auc:0.997600 
#&gt; [145]	tr-auc:0.997600 
#&gt; [146]	tr-auc:0.997800 
#&gt; [147]	tr-auc:0.997600 
#&gt; [148]	tr-auc:0.997800 
#&gt; [149]	tr-auc:0.997600 
#&gt; [150]	tr-auc:0.997800 
#&gt; [151]	tr-auc:0.997600 
#&gt; [152]	tr-auc:0.997800 
#&gt; [153]	tr-auc:0.997600 
#&gt; [154]	tr-auc:0.997800 
#&gt; [155]	tr-auc:0.997800 
#&gt; [156]	tr-auc:0.997800 
#&gt; [157]	tr-auc:0.997800 
#&gt; [158]	tr-auc:0.997800 
#&gt; [159]	tr-auc:0.997800 
#&gt; [160]	tr-auc:0.997800 
#&gt; [161]	tr-auc:0.997800 
#&gt; [162]	tr-auc:0.997600 
#&gt; [163]	tr-auc:0.997800 
#&gt; [164]	tr-auc:0.997600 
#&gt; [165]	tr-auc:0.997800 
#&gt; [166]	tr-auc:0.997600 
#&gt; [167]	tr-auc:0.997800 
#&gt; [168]	tr-auc:0.997800 
#&gt; [169]	tr-auc:0.997800 
#&gt; [170]	tr-auc:0.997800 
#&gt; [171]	tr-auc:0.997800 
#&gt; [172]	tr-auc:0.997800 
#&gt; [173]	tr-auc:0.997800 
#&gt; [174]	tr-auc:0.997800 
#&gt; [175]	tr-auc:0.998000 
#&gt; [176]	tr-auc:0.997800 
#&gt; [177]	tr-auc:0.997600 
#&gt; [178]	tr-auc:0.997800 
#&gt; [179]	tr-auc:0.997600 
#&gt; [180]	tr-auc:0.997800 
#&gt; [181]	tr-auc:0.997800 
#&gt; [182]	tr-auc:0.997800 
#&gt; [183]	tr-auc:0.997800 
#&gt; [184]	tr-auc:0.998000 
#&gt; [185]	tr-auc:0.998000 
#&gt; [186]	tr-auc:0.998000 
#&gt; [187]	tr-auc:0.998000 
#&gt; [188]	tr-auc:0.998000 
#&gt; [189]	tr-auc:0.998000 
#&gt; [190]	tr-auc:0.998000 
#&gt; [191]	tr-auc:0.998000 
#&gt; [192]	tr-auc:0.997800 
#&gt; [193]	tr-auc:0.997800 
#&gt; [194]	tr-auc:0.997800 
#&gt; [195]	tr-auc:0.998000 
#&gt; [196]	tr-auc:0.998000 
#&gt; [197]	tr-auc:0.998000 
#&gt; [198]	tr-auc:0.998000 
#&gt; [199]	tr-auc:0.998000 
#&gt; [200]	tr-auc:0.998000 </div><div class='input'><span class='fu'><a href='xgb.gblinear.history.html'>xgb.gblinear.history</a></span>(<span class='no'>bst</span>) <span class='kw'>%&gt;%</span> <span class='fu'><a href='https://rdrr.io/r/graphics/matplot.html'>matplot</a></span>(<span class='kw'>type</span> <span class='kw'>=</span> <span class='st'>'l'</span>)</div><div class='img'><img src='cb.gblinear.history-2.png' alt='' width='700' height='433' /></div><div class='input'><span class='co'>#  Componentwise boosting is known to have similar effect to Lasso regularization.</span>
<span class='co'># Try experimenting with various values of top_k, eta, nrounds,</span>
<span class='co'># as well as different feature_selectors.</span>

<span class='co'># For xgb.cv:</span>
<span class='no'>bst</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='xgb.cv.html'>xgb.cv</a></span>(<span class='no'>param</span>, <span class='no'>dtrain</span>, <span class='kw'>nfold</span> <span class='kw'>=</span> <span class='fl'>5</span>, <span class='kw'>nrounds</span> <span class='kw'>=</span> <span class='fl'>100</span>, <span class='kw'>eta</span> <span class='kw'>=</span> <span class='fl'>0.8</span>,
             <span class='kw'>callbacks</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(<span class='fu'>cb.gblinear.history</span>()))</div><div class='output co'>#&gt; [1]	train-auc:0.798619+0.021563	test-auc:0.788499+0.047345 
#&gt; [2]	train-auc:0.819404+0.016125	test-auc:0.801833+0.056760 
#&gt; [3]	train-auc:0.832885+0.014773	test-auc:0.817516+0.048291 
#&gt; [4]	train-auc:0.842838+0.011585	test-auc:0.828184+0.047063 
#&gt; [5]	train-auc:0.852049+0.012732	test-auc:0.836114+0.045305 
#&gt; [6]	train-auc:0.860210+0.011438	test-auc:0.844614+0.038267 
#&gt; [7]	train-auc:0.867770+0.011018	test-auc:0.853918+0.036294 
#&gt; [8]	train-auc:0.876364+0.009814	test-auc:0.861866+0.035590 
#&gt; [9]	train-auc:0.885279+0.006994	test-auc:0.869651+0.032062 
#&gt; [10]	train-auc:0.892647+0.006623	test-auc:0.876032+0.033012 
#&gt; [11]	train-auc:0.900299+0.006017	test-auc:0.884202+0.034917 
#&gt; [12]	train-auc:0.908298+0.006210	test-auc:0.894898+0.028738 
#&gt; [13]	train-auc:0.915673+0.006255	test-auc:0.904936+0.032066 
#&gt; [14]	train-auc:0.923655+0.004716	test-auc:0.914853+0.026752 
#&gt; [15]	train-auc:0.931582+0.004344	test-auc:0.919662+0.018956 
#&gt; [16]	train-auc:0.939087+0.004481	test-auc:0.932470+0.024079 
#&gt; [17]	train-auc:0.944701+0.003502	test-auc:0.938367+0.026528 
#&gt; [18]	train-auc:0.949587+0.004042	test-auc:0.943523+0.026728 
#&gt; [19]	train-auc:0.953457+0.004403	test-auc:0.947679+0.025742 
#&gt; [20]	train-auc:0.957893+0.003744	test-auc:0.955775+0.025170 
#&gt; [21]	train-auc:0.961577+0.004718	test-auc:0.958795+0.024802 
#&gt; [22]	train-auc:0.965403+0.005074	test-auc:0.960647+0.022896 
#&gt; [23]	train-auc:0.968781+0.005015	test-auc:0.962604+0.024881 
#&gt; [24]	train-auc:0.971024+0.004890	test-auc:0.964486+0.024657 
#&gt; [25]	train-auc:0.973480+0.004687	test-auc:0.969568+0.024358 
#&gt; [26]	train-auc:0.975597+0.004899	test-auc:0.971583+0.023431 
#&gt; [27]	train-auc:0.977545+0.004447	test-auc:0.971583+0.023431 
#&gt; [28]	train-auc:0.979222+0.004213	test-auc:0.973497+0.025215 
#&gt; [29]	train-auc:0.980784+0.003917	test-auc:0.976695+0.025223 
#&gt; [30]	train-auc:0.982735+0.003726	test-auc:0.976695+0.025223 
#&gt; [31]	train-auc:0.984364+0.003856	test-auc:0.976695+0.025223 
#&gt; [32]	train-auc:0.985862+0.003863	test-auc:0.978758+0.025215 
#&gt; [33]	train-auc:0.986990+0.003979	test-auc:0.978758+0.025215 
#&gt; [34]	train-auc:0.987929+0.003616	test-auc:0.979816+0.023471 
#&gt; [35]	train-auc:0.988804+0.003289	test-auc:0.979816+0.023471 
#&gt; [36]	train-auc:0.989739+0.003182	test-auc:0.979816+0.023471 
#&gt; [37]	train-auc:0.991051+0.002745	test-auc:0.979816+0.023471 
#&gt; [38]	train-auc:0.992113+0.002540	test-auc:0.980742+0.022871 
#&gt; [39]	train-auc:0.992611+0.002173	test-auc:0.980742+0.022871 
#&gt; [40]	train-auc:0.993241+0.002172	test-auc:0.980742+0.022871 
#&gt; [41]	train-auc:0.993994+0.002188	test-auc:0.982858+0.019395 
#&gt; [42]	train-auc:0.994494+0.001678	test-auc:0.983917+0.017781 
#&gt; [43]	train-auc:0.994808+0.001528	test-auc:0.984842+0.017011 
#&gt; [44]	train-auc:0.995122+0.001660	test-auc:0.985901+0.015373 
#&gt; [45]	train-auc:0.995307+0.001597	test-auc:0.986959+0.013866 
#&gt; [46]	train-auc:0.995680+0.001385	test-auc:0.988017+0.012536 
#&gt; [47]	train-auc:0.996055+0.001280	test-auc:0.989075+0.011446 
#&gt; [48]	train-auc:0.996307+0.001445	test-auc:0.989075+0.011446 
#&gt; [49]	train-auc:0.996497+0.001400	test-auc:0.989075+0.011446 
#&gt; [50]	train-auc:0.996624+0.001310	test-auc:0.990001+0.010160 
#&gt; [51]	train-auc:0.996876+0.001242	test-auc:0.990001+0.010160 
#&gt; [52]	train-auc:0.996999+0.001205	test-auc:0.990001+0.010160 
#&gt; [53]	train-auc:0.997314+0.001007	test-auc:0.991853+0.008261 
#&gt; [54]	train-auc:0.997439+0.000860	test-auc:0.991853+0.008261 
#&gt; [55]	train-auc:0.997628+0.000883	test-auc:0.991853+0.008261 
#&gt; [56]	train-auc:0.997754+0.000857	test-auc:0.991853+0.008261 
#&gt; [57]	train-auc:0.997754+0.000904	test-auc:0.992779+0.007813 
#&gt; [58]	train-auc:0.997816+0.000804	test-auc:0.992779+0.007813 
#&gt; [59]	train-auc:0.997816+0.000804	test-auc:0.994763+0.005806 
#&gt; [60]	train-auc:0.997816+0.000804	test-auc:0.994763+0.005806 
#&gt; [61]	train-auc:0.997940+0.000748	test-auc:0.994763+0.005806 
#&gt; [62]	train-auc:0.998004+0.000797	test-auc:0.994763+0.005806 
#&gt; [63]	train-auc:0.998004+0.000797	test-auc:0.994763+0.005806 
#&gt; [64]	train-auc:0.998004+0.000797	test-auc:0.994763+0.005806 
#&gt; [65]	train-auc:0.998004+0.000797	test-auc:0.995821+0.003960 
#&gt; [66]	train-auc:0.998004+0.000797	test-auc:0.995821+0.003960 
#&gt; [67]	train-auc:0.998004+0.000797	test-auc:0.996879+0.002570 
#&gt; [68]	train-auc:0.998004+0.000797	test-auc:0.996879+0.002570 
#&gt; [69]	train-auc:0.998066+0.000793	test-auc:0.996879+0.002570 
#&gt; [70]	train-auc:0.998066+0.000793	test-auc:0.996879+0.002570 
#&gt; [71]	train-auc:0.998066+0.000793	test-auc:0.998864+0.002273 
#&gt; [72]	train-auc:0.998066+0.000793	test-auc:0.998864+0.002273 
#&gt; [73]	train-auc:0.998129+0.000854	test-auc:0.998864+0.002273 
#&gt; [74]	train-auc:0.998129+0.000854	test-auc:0.998864+0.002273 
#&gt; [75]	train-auc:0.998191+0.000741	test-auc:0.998864+0.002273 
#&gt; [76]	train-auc:0.998191+0.000741	test-auc:0.998864+0.002273 
#&gt; [77]	train-auc:0.998191+0.000741	test-auc:0.998864+0.002273 
#&gt; [78]	train-auc:0.998255+0.000821	test-auc:0.998864+0.002273 
#&gt; [79]	train-auc:0.998317+0.000720	test-auc:0.998864+0.002273 
#&gt; [80]	train-auc:0.998317+0.000720	test-auc:0.998864+0.002273 
#&gt; [81]	train-auc:0.998318+0.000744	test-auc:0.998864+0.002273 
#&gt; [82]	train-auc:0.998379+0.000716	test-auc:0.998864+0.002273 
#&gt; [83]	train-auc:0.998440+0.000708	test-auc:0.998864+0.002273 
#&gt; [84]	train-auc:0.998504+0.000744	test-auc:0.998864+0.002273 
#&gt; [85]	train-auc:0.998504+0.000744	test-auc:0.998864+0.002273 
#&gt; [86]	train-auc:0.998504+0.000744	test-auc:0.998864+0.002273 
#&gt; [87]	train-auc:0.998504+0.000744	test-auc:0.998864+0.002273 
#&gt; [88]	train-auc:0.998504+0.000744	test-auc:0.998864+0.002273 
#&gt; [89]	train-auc:0.998504+0.000744	test-auc:0.998864+0.002273 
#&gt; [90]	train-auc:0.998504+0.000744	test-auc:0.998864+0.002273 
#&gt; [91]	train-auc:0.998504+0.000744	test-auc:0.998864+0.002273 
#&gt; [92]	train-auc:0.998504+0.000744	test-auc:0.998864+0.002273 
#&gt; [93]	train-auc:0.998504+0.000744	test-auc:0.998864+0.002273 
#&gt; [94]	train-auc:0.998504+0.000744	test-auc:0.998864+0.002273 
#&gt; [95]	train-auc:0.998504+0.000744	test-auc:0.998864+0.002273 
#&gt; [96]	train-auc:0.998504+0.000744	test-auc:0.998864+0.002273 
#&gt; [97]	train-auc:0.998504+0.000744	test-auc:0.998864+0.002273 
#&gt; [98]	train-auc:0.998504+0.000744	test-auc:0.998864+0.002273 
#&gt; [99]	train-auc:0.998504+0.000744	test-auc:0.998864+0.002273 
#&gt; [100]	train-auc:0.998442+0.000856	test-auc:0.998864+0.002273 </div><div class='input'><span class='co'># coefficients in the CV fold #3</span>
<span class='fu'><a href='xgb.gblinear.history.html'>xgb.gblinear.history</a></span>(<span class='no'>bst</span>)<span class='kw'>[[</span><span class='fl'>3</span>]] <span class='kw'>%&gt;%</span> <span class='fu'><a href='https://rdrr.io/r/graphics/matplot.html'>matplot</a></span>(<span class='kw'>type</span> <span class='kw'>=</span> <span class='st'>'l'</span>)</div><div class='img'><img src='cb.gblinear.history-3.png' alt='' width='700' height='433' /></div><div class='input'>

<span class='co'>#### Multiclass classification:</span>
<span class='co'>#</span>
<span class='no'>dtrain</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='xgb.DMatrix.html'>xgb.DMatrix</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/scale.html'>scale</a></span>(<span class='no'>x</span>), <span class='kw'>label</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/numeric.html'>as.numeric</a></span>(<span class='no'>iris</span>$<span class='no'>Species</span>) - <span class='fl'>1</span>)
<span class='no'>param</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(<span class='kw'>booster</span> <span class='kw'>=</span> <span class='st'>"gblinear"</span>, <span class='kw'>objective</span> <span class='kw'>=</span> <span class='st'>"multi:softprob"</span>, <span class='kw'>num_class</span> <span class='kw'>=</span> <span class='fl'>3</span>,
              <span class='kw'>lambda</span> <span class='kw'>=</span> <span class='fl'>0.0003</span>, <span class='kw'>alpha</span> <span class='kw'>=</span> <span class='fl'>0.0003</span>, <span class='kw'>nthread</span> <span class='kw'>=</span> <span class='fl'>2</span>)
<span class='co'># For the default linear updater 'shotgun' it sometimes is helpful</span>
<span class='co'># to use smaller eta to reduce instability</span>
<span class='no'>bst</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='xgb.train.html'>xgb.train</a></span>(<span class='no'>param</span>, <span class='no'>dtrain</span>, <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(<span class='kw'>tr</span><span class='kw'>=</span><span class='no'>dtrain</span>), <span class='kw'>nrounds</span> <span class='kw'>=</span> <span class='fl'>70</span>, <span class='kw'>eta</span> <span class='kw'>=</span> <span class='fl'>0.5</span>,
                 <span class='kw'>callbacks</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(<span class='fu'>cb.gblinear.history</span>()))</div><div class='output co'>#&gt; [1]	tr-merror:0.186667 
#&gt; [2]	tr-merror:0.153333 
#&gt; [3]	tr-merror:0.140000 
#&gt; [4]	tr-merror:0.106667 
#&gt; [5]	tr-merror:0.080000 
#&gt; [6]	tr-merror:0.066667 
#&gt; [7]	tr-merror:0.053333 
#&gt; [8]	tr-merror:0.053333 
#&gt; [9]	tr-merror:0.040000 
#&gt; [10]	tr-merror:0.040000 
#&gt; [11]	tr-merror:0.033333 
#&gt; [12]	tr-merror:0.033333 
#&gt; [13]	tr-merror:0.033333 
#&gt; [14]	tr-merror:0.033333 
#&gt; [15]	tr-merror:0.033333 
#&gt; [16]	tr-merror:0.026667 
#&gt; [17]	tr-merror:0.026667 
#&gt; [18]	tr-merror:0.026667 
#&gt; [19]	tr-merror:0.026667 
#&gt; [20]	tr-merror:0.026667 
#&gt; [21]	tr-merror:0.026667 
#&gt; [22]	tr-merror:0.026667 
#&gt; [23]	tr-merror:0.026667 
#&gt; [24]	tr-merror:0.026667 
#&gt; [25]	tr-merror:0.026667 
#&gt; [26]	tr-merror:0.026667 
#&gt; [27]	tr-merror:0.026667 
#&gt; [28]	tr-merror:0.026667 
#&gt; [29]	tr-merror:0.026667 
#&gt; [30]	tr-merror:0.026667 
#&gt; [31]	tr-merror:0.026667 
#&gt; [32]	tr-merror:0.026667 
#&gt; [33]	tr-merror:0.026667 
#&gt; [34]	tr-merror:0.026667 
#&gt; [35]	tr-merror:0.026667 
#&gt; [36]	tr-merror:0.020000 
#&gt; [37]	tr-merror:0.020000 
#&gt; [38]	tr-merror:0.020000 
#&gt; [39]	tr-merror:0.020000 
#&gt; [40]	tr-merror:0.020000 
#&gt; [41]	tr-merror:0.020000 
#&gt; [42]	tr-merror:0.020000 
#&gt; [43]	tr-merror:0.020000 
#&gt; [44]	tr-merror:0.020000 
#&gt; [45]	tr-merror:0.020000 
#&gt; [46]	tr-merror:0.020000 
#&gt; [47]	tr-merror:0.020000 
#&gt; [48]	tr-merror:0.020000 
#&gt; [49]	tr-merror:0.020000 
#&gt; [50]	tr-merror:0.020000 
#&gt; [51]	tr-merror:0.020000 
#&gt; [52]	tr-merror:0.020000 
#&gt; [53]	tr-merror:0.020000 
#&gt; [54]	tr-merror:0.020000 
#&gt; [55]	tr-merror:0.020000 
#&gt; [56]	tr-merror:0.020000 
#&gt; [57]	tr-merror:0.020000 
#&gt; [58]	tr-merror:0.020000 
#&gt; [59]	tr-merror:0.020000 
#&gt; [60]	tr-merror:0.020000 
#&gt; [61]	tr-merror:0.020000 
#&gt; [62]	tr-merror:0.020000 
#&gt; [63]	tr-merror:0.020000 
#&gt; [64]	tr-merror:0.020000 
#&gt; [65]	tr-merror:0.020000 
#&gt; [66]	tr-merror:0.020000 
#&gt; [67]	tr-merror:0.020000 
#&gt; [68]	tr-merror:0.020000 
#&gt; [69]	tr-merror:0.020000 
#&gt; [70]	tr-merror:0.020000 </div><div class='input'><span class='co'># Will plot the coefficient paths separately for each class:</span>
<span class='fu'><a href='xgb.gblinear.history.html'>xgb.gblinear.history</a></span>(<span class='no'>bst</span>, <span class='kw'>class_index</span> <span class='kw'>=</span> <span class='fl'>0</span>) <span class='kw'>%&gt;%</span> <span class='fu'><a href='https://rdrr.io/r/graphics/matplot.html'>matplot</a></span>(<span class='kw'>type</span> <span class='kw'>=</span> <span class='st'>'l'</span>)</div><div class='img'><img src='cb.gblinear.history-4.png' alt='' width='700' height='433' /></div><div class='input'><span class='fu'><a href='xgb.gblinear.history.html'>xgb.gblinear.history</a></span>(<span class='no'>bst</span>, <span class='kw'>class_index</span> <span class='kw'>=</span> <span class='fl'>1</span>) <span class='kw'>%&gt;%</span> <span class='fu'><a href='https://rdrr.io/r/graphics/matplot.html'>matplot</a></span>(<span class='kw'>type</span> <span class='kw'>=</span> <span class='st'>'l'</span>)</div><div class='img'><img src='cb.gblinear.history-5.png' alt='' width='700' height='433' /></div><div class='input'><span class='fu'><a href='xgb.gblinear.history.html'>xgb.gblinear.history</a></span>(<span class='no'>bst</span>, <span class='kw'>class_index</span> <span class='kw'>=</span> <span class='fl'>2</span>) <span class='kw'>%&gt;%</span> <span class='fu'><a href='https://rdrr.io/r/graphics/matplot.html'>matplot</a></span>(<span class='kw'>type</span> <span class='kw'>=</span> <span class='st'>'l'</span>)</div><div class='img'><img src='cb.gblinear.history-6.png' alt='' width='700' height='433' /></div><div class='input'>
<span class='co'># CV:</span>
<span class='no'>bst</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='xgb.cv.html'>xgb.cv</a></span>(<span class='no'>param</span>, <span class='no'>dtrain</span>, <span class='kw'>nfold</span> <span class='kw'>=</span> <span class='fl'>5</span>, <span class='kw'>nrounds</span> <span class='kw'>=</span> <span class='fl'>70</span>, <span class='kw'>eta</span> <span class='kw'>=</span> <span class='fl'>0.5</span>,
              <span class='kw'>callbacks</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(<span class='fu'>cb.gblinear.history</span>(<span class='fl'>FALSE</span>)))</div><div class='output co'>#&gt; [1]	train-merror:0.188333+0.023333	test-merror:0.186667+0.088443 
#&gt; [2]	train-merror:0.160000+0.021985	test-merror:0.173333+0.077172 
#&gt; [3]	train-merror:0.136667+0.023921	test-merror:0.160000+0.077172 
#&gt; [4]	train-merror:0.111667+0.026141	test-merror:0.113333+0.085894 
#&gt; [5]	train-merror:0.080000+0.008498	test-merror:0.080000+0.061824 
#&gt; [6]	train-merror:0.063333+0.011304	test-merror:0.080000+0.074833 
#&gt; [7]	train-merror:0.051667+0.008165	test-merror:0.066667+0.059628 
#&gt; [8]	train-merror:0.046667+0.004082	test-merror:0.060000+0.053333 
#&gt; [9]	train-merror:0.041667+0.007454	test-merror:0.046667+0.040000 
#&gt; [10]	train-merror:0.040000+0.006236	test-merror:0.040000+0.032660 
#&gt; [11]	train-merror:0.035000+0.008165	test-merror:0.040000+0.032660 
#&gt; [12]	train-merror:0.033334+0.010541	test-merror:0.046667+0.026667 
#&gt; [13]	train-merror:0.031667+0.009718	test-merror:0.046667+0.026667 
#&gt; [14]	train-merror:0.031667+0.009718	test-merror:0.046667+0.026667 
#&gt; [15]	train-merror:0.031667+0.009718	test-merror:0.046667+0.026667 
#&gt; [16]	train-merror:0.033333+0.007454	test-merror:0.046667+0.026667 
#&gt; [17]	train-merror:0.033333+0.007454	test-merror:0.046667+0.026667 
#&gt; [18]	train-merror:0.031667+0.006236	test-merror:0.046667+0.026667 
#&gt; [19]	train-merror:0.030000+0.006667	test-merror:0.040000+0.024945 
#&gt; [20]	train-merror:0.030000+0.006667	test-merror:0.040000+0.024945 
#&gt; [21]	train-merror:0.030000+0.006667	test-merror:0.040000+0.024945 
#&gt; [22]	train-merror:0.028333+0.008498	test-merror:0.040000+0.024945 
#&gt; [23]	train-merror:0.028333+0.008498	test-merror:0.033333+0.021082 
#&gt; [24]	train-merror:0.028333+0.008498	test-merror:0.033333+0.021082 
#&gt; [25]	train-merror:0.025000+0.009129	test-merror:0.033333+0.021082 
#&gt; [26]	train-merror:0.023333+0.011056	test-merror:0.033333+0.021082 
#&gt; [27]	train-merror:0.023333+0.011056	test-merror:0.026667+0.024944 
#&gt; [28]	train-merror:0.023333+0.011056	test-merror:0.026667+0.024944 
#&gt; [29]	train-merror:0.023333+0.011056	test-merror:0.026667+0.024944 
#&gt; [30]	train-merror:0.023333+0.011056	test-merror:0.026667+0.024944 
#&gt; [31]	train-merror:0.023333+0.011056	test-merror:0.026667+0.024944 
#&gt; [32]	train-merror:0.023333+0.011056	test-merror:0.026667+0.024944 
#&gt; [33]	train-merror:0.023333+0.011056	test-merror:0.026667+0.024944 
#&gt; [34]	train-merror:0.023333+0.011056	test-merror:0.026667+0.024944 
#&gt; [35]	train-merror:0.023333+0.011056	test-merror:0.026667+0.024944 
#&gt; [36]	train-merror:0.021667+0.008498	test-merror:0.026667+0.024944 
#&gt; [37]	train-merror:0.020000+0.006667	test-merror:0.026667+0.024944 
#&gt; [38]	train-merror:0.020000+0.006667	test-merror:0.026667+0.024944 
#&gt; [39]	train-merror:0.020000+0.006667	test-merror:0.026667+0.024944 
#&gt; [40]	train-merror:0.020000+0.006667	test-merror:0.026667+0.024944 
#&gt; [41]	train-merror:0.020000+0.006667	test-merror:0.026667+0.024944 
#&gt; [42]	train-merror:0.020000+0.006667	test-merror:0.026667+0.024944 
#&gt; [43]	train-merror:0.020000+0.006667	test-merror:0.026667+0.024944 
#&gt; [44]	train-merror:0.020000+0.006667	test-merror:0.026667+0.024944 
#&gt; [45]	train-merror:0.020000+0.006667	test-merror:0.026667+0.024944 
#&gt; [46]	train-merror:0.020000+0.006667	test-merror:0.026667+0.024944 
#&gt; [47]	train-merror:0.020000+0.006667	test-merror:0.026667+0.024944 
#&gt; [48]	train-merror:0.020000+0.006667	test-merror:0.026667+0.024944 
#&gt; [49]	train-merror:0.020000+0.006667	test-merror:0.026667+0.024944 
#&gt; [50]	train-merror:0.020000+0.006667	test-merror:0.026667+0.024944 
#&gt; [51]	train-merror:0.020000+0.006667	test-merror:0.026667+0.024944 
#&gt; [52]	train-merror:0.020000+0.006667	test-merror:0.026667+0.024944 
#&gt; [53]	train-merror:0.020000+0.006667	test-merror:0.026667+0.024944 
#&gt; [54]	train-merror:0.020000+0.006667	test-merror:0.026667+0.024944 
#&gt; [55]	train-merror:0.020000+0.006667	test-merror:0.026667+0.024944 
#&gt; [56]	train-merror:0.020000+0.006667	test-merror:0.026667+0.024944 
#&gt; [57]	train-merror:0.018333+0.006236	test-merror:0.026667+0.024944 
#&gt; [58]	train-merror:0.018333+0.006236	test-merror:0.026667+0.024944 
#&gt; [59]	train-merror:0.018333+0.006236	test-merror:0.026667+0.024944 
#&gt; [60]	train-merror:0.018333+0.006236	test-merror:0.026667+0.024944 
#&gt; [61]	train-merror:0.018333+0.006236	test-merror:0.026667+0.024944 
#&gt; [62]	train-merror:0.018333+0.006236	test-merror:0.026667+0.024944 
#&gt; [63]	train-merror:0.018333+0.006236	test-merror:0.026667+0.024944 
#&gt; [64]	train-merror:0.016667+0.007454	test-merror:0.026667+0.024944 
#&gt; [65]	train-merror:0.016667+0.007454	test-merror:0.026667+0.024944 
#&gt; [66]	train-merror:0.016667+0.007454	test-merror:0.026667+0.024944 
#&gt; [67]	train-merror:0.016667+0.007454	test-merror:0.026667+0.024944 
#&gt; [68]	train-merror:0.016667+0.007454	test-merror:0.026667+0.024944 
#&gt; [69]	train-merror:0.016667+0.007454	test-merror:0.026667+0.024944 
#&gt; [70]	train-merror:0.016667+0.007454	test-merror:0.026667+0.024944 </div><div class='input'><span class='co'># 1st forld of 1st class</span>
<span class='fu'><a href='xgb.gblinear.history.html'>xgb.gblinear.history</a></span>(<span class='no'>bst</span>, <span class='kw'>class_index</span> <span class='kw'>=</span> <span class='fl'>0</span>)<span class='kw'>[[</span><span class='fl'>1</span>]] <span class='kw'>%&gt;%</span> <span class='fu'><a href='https://rdrr.io/r/graphics/matplot.html'>matplot</a></span>(<span class='kw'>type</span> <span class='kw'>=</span> <span class='st'>'l'</span>)</div><div class='img'><img src='cb.gblinear.history-7.png' alt='' width='700' height='433' /></div><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      <li><a href="#value">Value</a></li>
      <li><a href="#details">Details</a></li>
      <li><a href="#see-also">See also</a></li>
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Tianqi Chen, Tong He, Michael Benesty, Vadim Khotilovich, Yuan Tang, Hyunsu Cho, Kailong Chen, Rory Mitchell, Ignacio Cano, Tianyi Zhou, Mu Li, Junyuan Xie, Min Lin, Yifeng Geng, Yutian Li.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


