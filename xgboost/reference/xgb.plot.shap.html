<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>SHAP contribution dependency plots — xgb.plot.shap • xgboost</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="SHAP contribution dependency plots — xgb.plot.shap" />
<meta property="og:description" content="Visualizing the SHAP feature contribution to prediction dependencies on feature value." />
<meta name="twitter:card" content="summary" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">xgboost</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.90.0.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fas fa fas fa-archive fa-lg"></span>
     
    R Packages
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../../boot/index.html">boot</a>
    </li>
    <li>
      <a href="../../broom/index.html">broom</a>
    </li>
    <li>
      <a href="../../caret/index.html">caret</a>
    </li>
    <li>
      <a href="../../cluster/index.html">cluster</a>
    </li>
    <li>
      <a href="../../coefplot/index.html">coefplot</a>
    </li>
    <li>
      <a href="../../data.table/index.html">data.table</a>
    </li>
    <li>
      <a href="../../devtools/index.html">devtools</a>
    </li>
    <li>
      <a href="../../dplyr/index.html">dplyr</a>
    </li>
    <li>
      <a href="../../e1071/index.html">e1071</a>
    </li>
    <li>
      <a href="../../forcats/index.html">forcats</a>
    </li>
    <li>
      <a href="../../gbm/index.html">gbm</a>
    </li>
    <li>
      <a href="../../ggplot2/index.html">ggplot2</a>
    </li>
    <li>
      <a href="../../glmnet/index.html">glmnet</a>
    </li>
    <li>
      <a href="../../gridExtra/index.html">gridExtra</a>
    </li>
    <li>
      <a href="../../ISLR/index.html">ISLR</a>
    </li>
    <li>
      <a href="../../MASS/index.html">MASS</a>
    </li>
    <li>
      <a href="../../pdp/index.html">pdp</a>
    </li>
    <li>
      <a href="../../pls/index.html">pls</a>
    </li>
    <li>
      <a href="../../plyr/index.html">plyr</a>
    </li>
    <li>
      <a href="../../pROC/index.html">pROC</a>
    </li>
    <li>
      <a href="../../purrr/index.html">purrr</a>
    </li>
    <li>
      <a href="../../randomForest/index.html">randomForest</a>
    </li>
    <li>
      <a href="../../readr/index.html">readr</a>
    </li>
    <li>
      <a href="../../rpart/index.html">rpart</a>
    </li>
    <li>
      <a href="../../rpart.plot/index.html">rpart.plot</a>
    </li>
    <li>
      <a href="../../stringr/index.html">stringr</a>
    </li>
    <li>
      <a href="../../tibble/index.html">tibble</a>
    </li>
    <li>
      <a href="../../tidyr/index.html">tidyr</a>
    </li>
    <li>
      <a href="../../xgboost/index.html">xgboost</a>
    </li>
  </ul>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/discoverYourData.html">Understand your dataset with Xgboost</a>
    </li>
    <li>
      <a href="../articles/xgboostPresentation.html">Xgboost presentation</a>
    </li>
    <li>
      <a href="../articles/xgboostfromJSON.html">XGBoost from JSON</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/dmlc/xgboost">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>SHAP contribution dependency plots</h1>
    <small class="dont-index">Source: <a href='https://github.com/dmlc/xgboost/blob/master/R/xgb.plot.shap.R'><code>R/xgb.plot.shap.R</code></a></small>
    <div class="hidden name"><code>xgb.plot.shap.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Visualizing the SHAP feature contribution to prediction dependencies on feature value.</p>
    </div>

    <pre class="usage"><span class='fu'>xgb.plot.shap</span>(<span class='no'>data</span>, <span class='kw'>shap_contrib</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>features</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>top_n</span> <span class='kw'>=</span> <span class='fl'>1</span>,
  <span class='kw'>model</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>trees</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>target_class</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>approxcontrib</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>subsample</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>n_col</span> <span class='kw'>=</span> <span class='fl'>1</span>, <span class='kw'>col</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/grDevices/rgb.html'>rgb</a></span>(<span class='fl'>0</span>, <span class='fl'>0</span>, <span class='fl'>1</span>,
  <span class='fl'>0.2</span>), <span class='kw'>pch</span> <span class='kw'>=</span> <span class='st'>"."</span>, <span class='kw'>discrete_n_uniq</span> <span class='kw'>=</span> <span class='fl'>5</span>, <span class='kw'>discrete_jitter</span> <span class='kw'>=</span> <span class='fl'>0.01</span>,
  <span class='kw'>ylab</span> <span class='kw'>=</span> <span class='st'>"SHAP"</span>, <span class='kw'>plot_NA</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>col_NA</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/grDevices/rgb.html'>rgb</a></span>(<span class='fl'>0.7</span>, <span class='fl'>0</span>, <span class='fl'>1</span>, <span class='fl'>0.6</span>),
  <span class='kw'>pch_NA</span> <span class='kw'>=</span> <span class='st'>"."</span>, <span class='kw'>pos_NA</span> <span class='kw'>=</span> <span class='fl'>1.07</span>, <span class='kw'>plot_loess</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>col_loess</span> <span class='kw'>=</span> <span class='fl'>2</span>,
  <span class='kw'>span_loess</span> <span class='kw'>=</span> <span class='fl'>0.5</span>, <span class='kw'>which</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"1d"</span>, <span class='st'>"2d"</span>), <span class='kw'>plot</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='no'>...</span>)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>data</th>
      <td><p>data as a <code>matrix</code> or <code>dgCMatrix</code>.</p></td>
    </tr>
    <tr>
      <th>shap_contrib</th>
      <td><p>a matrix of SHAP contributions that was computed earlier for the above
<code>data</code>. When it is NULL, it is computed internally using <code>model</code> and <code>data</code>.</p></td>
    </tr>
    <tr>
      <th>features</th>
      <td><p>a vector of either column indices or of feature names to plot. When it is NULL,
feature importance is calculated, and <code>top_n</code> high ranked features are taken.</p></td>
    </tr>
    <tr>
      <th>top_n</th>
      <td><p>when <code>features</code> is NULL, top_n [1, 100] most important features in a model are taken.</p></td>
    </tr>
    <tr>
      <th>model</th>
      <td><p>an <code>xgb.Booster</code> model. It has to be provided when either <code>shap_contrib</code>
or <code>features</code> is missing.</p></td>
    </tr>
    <tr>
      <th>trees</th>
      <td><p>passed to <code><a href='xgb.importance.html'>xgb.importance</a></code> when <code>features = NULL</code>.</p></td>
    </tr>
    <tr>
      <th>target_class</th>
      <td><p>is only relevant for multiclass models. When it is set to a 0-based class index,
only SHAP contributions for that specific class are used.
If it is not set, SHAP importances are averaged over all classes.</p></td>
    </tr>
    <tr>
      <th>approxcontrib</th>
      <td><p>passed to <code><a href='predict.xgb.Booster.html'>predict.xgb.Booster</a></code> when <code>shap_contrib = NULL</code>.</p></td>
    </tr>
    <tr>
      <th>subsample</th>
      <td><p>a random fraction of data points to use for plotting. When it is NULL,
it is set so that up to 100K data points are used.</p></td>
    </tr>
    <tr>
      <th>n_col</th>
      <td><p>a number of columns in a grid of plots.</p></td>
    </tr>
    <tr>
      <th>col</th>
      <td><p>color of the scatterplot markers.</p></td>
    </tr>
    <tr>
      <th>pch</th>
      <td><p>scatterplot marker.</p></td>
    </tr>
    <tr>
      <th>discrete_n_uniq</th>
      <td><p>a maximal number of unique values in a feature to consider it as discrete.</p></td>
    </tr>
    <tr>
      <th>discrete_jitter</th>
      <td><p>an <code>amount</code> parameter of jitter added to discrete features' positions.</p></td>
    </tr>
    <tr>
      <th>ylab</th>
      <td><p>a y-axis label in 1D plots.</p></td>
    </tr>
    <tr>
      <th>plot_NA</th>
      <td><p>whether the contributions of cases with missing values should also be plotted.</p></td>
    </tr>
    <tr>
      <th>col_NA</th>
      <td><p>a color of marker for missing value contributions.</p></td>
    </tr>
    <tr>
      <th>pch_NA</th>
      <td><p>a marker type for NA values.</p></td>
    </tr>
    <tr>
      <th>pos_NA</th>
      <td><p>a relative position of the x-location where NA values are shown:
<code>min(x) + (max(x) - min(x)) * pos_NA</code>.</p></td>
    </tr>
    <tr>
      <th>plot_loess</th>
      <td><p>whether to plot loess-smoothed curves. The smoothing is only done for features with
more than 5 distinct values.</p></td>
    </tr>
    <tr>
      <th>col_loess</th>
      <td><p>a color to use for the loess curves.</p></td>
    </tr>
    <tr>
      <th>span_loess</th>
      <td><p>the <code>span</code> parameter in <code><a href='https://rdrr.io/r/stats/loess.html'>loess</a></code>'s call.</p></td>
    </tr>
    <tr>
      <th>which</th>
      <td><p>whether to do univariate or bivariate plotting. NOTE: only 1D is implemented so far.</p></td>
    </tr>
    <tr>
      <th>plot</th>
      <td><p>whether a plot should be drawn. If FALSE, only a lits of matrices is returned.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>other parameters passed to <code>plot</code>.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>In addition to producing plots (when <code>plot=TRUE</code>), it silently returns a list of two matrices:</p><ul>
<li><p><code>data</code> the values of selected features;</p></li>
<li><p><code>shap_contrib</code> the contributions of selected features.</p></li>
</ul>

    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>These scatterplots represent how SHAP feature contributions depend of feature values.
The similarity to partial dependency plots is that they also give an idea for how feature values
affect predictions. However, in partial dependency plots, we usually see marginal dependencies
of model prediction on feature value, while SHAP contribution dependency plots display the estimated
contributions of a feature to model prediction for each individual case.</p>
<p>When <code>plot_loess = TRUE</code> is set, feature values are rounded to 3 significant digits and
weighted LOESS is computed and plotted, where weights are the numbers of data points
at each rounded value.</p>
<p>Note: SHAP contributions are shown on the scale of model margin. E.g., for a logistic binomial objective,
the margin is prediction before a sigmoidal transform into probability-like values.
Also, since SHAP stands for "SHapley Additive exPlanation" (model prediction = sum of SHAP
contributions for all features + bias), depending on the objective used, transforming SHAP
contributions for a feature from the marginal to the prediction space is not necessarily
a meaningful thing to do.</p>
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>Scott M. Lundberg, Su-In Lee, "A Unified Approach to Interpreting Model Predictions", NIPS Proceedings 2017, <a href='https://arxiv.org/abs/1705.07874'>https://arxiv.org/abs/1705.07874</a></p>
<p>Scott M. Lundberg, Su-In Lee, "Consistent feature attribution for tree ensembles", <a href='https://arxiv.org/abs/1706.06060'>https://arxiv.org/abs/1706.06060</a></p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'>
<span class='fu'><a href='https://rdrr.io/r/utils/data.html'>data</a></span>(<span class='no'>agaricus.train</span>, <span class='kw'>package</span><span class='kw'>=</span><span class='st'>'xgboost'</span>)
<span class='fu'><a href='https://rdrr.io/r/utils/data.html'>data</a></span>(<span class='no'>agaricus.test</span>, <span class='kw'>package</span><span class='kw'>=</span><span class='st'>'xgboost'</span>)

<span class='no'>bst</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='xgb.train.html'>xgboost</a></span>(<span class='no'>agaricus.train</span>$<span class='no'>data</span>, <span class='no'>agaricus.train</span>$<span class='no'>label</span>, <span class='kw'>nrounds</span> <span class='kw'>=</span> <span class='fl'>50</span>,
               <span class='kw'>eta</span> <span class='kw'>=</span> <span class='fl'>0.1</span>, <span class='kw'>max_depth</span> <span class='kw'>=</span> <span class='fl'>3</span>, <span class='kw'>subsample</span> <span class='kw'>=</span> <span class='fl'>.5</span>,
               <span class='kw'>method</span> <span class='kw'>=</span> <span class='st'>"hist"</span>, <span class='kw'>objective</span> <span class='kw'>=</span> <span class='st'>"binary:logistic"</span>, <span class='kw'>nthread</span> <span class='kw'>=</span> <span class='fl'>2</span>, <span class='kw'>verbose</span> <span class='kw'>=</span> <span class='fl'>0</span>)

<span class='fu'>xgb.plot.shap</span>(<span class='no'>agaricus.test</span>$<span class='no'>data</span>, <span class='kw'>model</span> <span class='kw'>=</span> <span class='no'>bst</span>, <span class='kw'>features</span> <span class='kw'>=</span> <span class='st'>"odor=none"</span>)</div><div class='img'><img src='xgb.plot.shap-1.png' alt='' width='700' height='433' /></div><div class='input'><span class='no'>contr</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/predict.html'>predict</a></span>(<span class='no'>bst</span>, <span class='no'>agaricus.test</span>$<span class='no'>data</span>, <span class='kw'>predcontrib</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)
<span class='fu'>xgb.plot.shap</span>(<span class='no'>agaricus.test</span>$<span class='no'>data</span>, <span class='no'>contr</span>, <span class='kw'>model</span> <span class='kw'>=</span> <span class='no'>bst</span>, <span class='kw'>top_n</span> <span class='kw'>=</span> <span class='fl'>12</span>, <span class='kw'>n_col</span> <span class='kw'>=</span> <span class='fl'>3</span>)</div><div class='img'><img src='xgb.plot.shap-2.png' alt='' width='700' height='433' /></div><div class='input'>
<span class='co'># multiclass example - plots for each class separately:</span>
<span class='no'>nclass</span> <span class='kw'>&lt;-</span> <span class='fl'>3</span>
<span class='no'>nrounds</span> <span class='kw'>&lt;-</span> <span class='fl'>20</span>
<span class='no'>x</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/matrix.html'>as.matrix</a></span>(<span class='no'>iris</span>[, -<span class='fl'>5</span>])
<span class='fu'><a href='https://rdrr.io/r/base/Random.html'>set.seed</a></span>(<span class='fl'>123</span>)
<span class='fu'><a href='https://rdrr.io/r/base/NA.html'>is.na</a></span>(<span class='no'>x</span>[<span class='fu'><a href='https://rdrr.io/r/base/sample.html'>sample</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/nrow.html'>nrow</a></span>(<span class='no'>x</span>) * <span class='fl'>4</span>, <span class='fl'>30</span>)]) <span class='kw'>&lt;-</span> <span class='fl'>TRUE</span> <span class='co'># introduce some missing values</span>
<span class='no'>mbst</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='xgb.train.html'>xgboost</a></span>(<span class='kw'>data</span> <span class='kw'>=</span> <span class='no'>x</span>, <span class='kw'>label</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/numeric.html'>as.numeric</a></span>(<span class='no'>iris</span>$<span class='no'>Species</span>) - <span class='fl'>1</span>, <span class='kw'>nrounds</span> <span class='kw'>=</span> <span class='no'>nrounds</span>,
                <span class='kw'>max_depth</span> <span class='kw'>=</span> <span class='fl'>2</span>, <span class='kw'>eta</span> <span class='kw'>=</span> <span class='fl'>0.3</span>, <span class='kw'>subsample</span> <span class='kw'>=</span> <span class='fl'>.5</span>, <span class='kw'>nthread</span> <span class='kw'>=</span> <span class='fl'>2</span>,
                <span class='kw'>objective</span> <span class='kw'>=</span> <span class='st'>"multi:softprob"</span>, <span class='kw'>num_class</span> <span class='kw'>=</span> <span class='no'>nclass</span>, <span class='kw'>verbose</span> <span class='kw'>=</span> <span class='fl'>0</span>)
<span class='no'>trees0</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/seq.html'>seq</a></span>(<span class='kw'>from</span><span class='kw'>=</span><span class='fl'>0</span>, <span class='kw'>by</span><span class='kw'>=</span><span class='no'>nclass</span>, <span class='kw'>length.out</span><span class='kw'>=</span><span class='no'>nrounds</span>)
<span class='no'>col</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/grDevices/rgb.html'>rgb</a></span>(<span class='fl'>0</span>, <span class='fl'>0</span>, <span class='fl'>1</span>, <span class='fl'>0.5</span>)
<span class='fu'>xgb.plot.shap</span>(<span class='no'>x</span>, <span class='kw'>model</span> <span class='kw'>=</span> <span class='no'>mbst</span>, <span class='kw'>trees</span> <span class='kw'>=</span> <span class='no'>trees0</span>, <span class='kw'>target_class</span> <span class='kw'>=</span> <span class='fl'>0</span>, <span class='kw'>top_n</span> <span class='kw'>=</span> <span class='fl'>4</span>,
              <span class='kw'>n_col</span> <span class='kw'>=</span> <span class='fl'>2</span>, <span class='kw'>col</span> <span class='kw'>=</span> <span class='no'>col</span>, <span class='kw'>pch</span> <span class='kw'>=</span> <span class='fl'>16</span>, <span class='kw'>pch_NA</span> <span class='kw'>=</span> <span class='fl'>17</span>)</div><div class='img'><img src='xgb.plot.shap-3.png' alt='' width='700' height='433' /></div><div class='input'><span class='fu'>xgb.plot.shap</span>(<span class='no'>x</span>, <span class='kw'>model</span> <span class='kw'>=</span> <span class='no'>mbst</span>, <span class='kw'>trees</span> <span class='kw'>=</span> <span class='no'>trees0</span> + <span class='fl'>1</span>, <span class='kw'>target_class</span> <span class='kw'>=</span> <span class='fl'>1</span>, <span class='kw'>top_n</span> <span class='kw'>=</span> <span class='fl'>4</span>,
              <span class='kw'>n_col</span> <span class='kw'>=</span> <span class='fl'>2</span>, <span class='kw'>col</span> <span class='kw'>=</span> <span class='no'>col</span>, <span class='kw'>pch</span> <span class='kw'>=</span> <span class='fl'>16</span>, <span class='kw'>pch_NA</span> <span class='kw'>=</span> <span class='fl'>17</span>)</div><div class='img'><img src='xgb.plot.shap-4.png' alt='' width='700' height='433' /></div><div class='input'><span class='fu'>xgb.plot.shap</span>(<span class='no'>x</span>, <span class='kw'>model</span> <span class='kw'>=</span> <span class='no'>mbst</span>, <span class='kw'>trees</span> <span class='kw'>=</span> <span class='no'>trees0</span> + <span class='fl'>2</span>, <span class='kw'>target_class</span> <span class='kw'>=</span> <span class='fl'>2</span>, <span class='kw'>top_n</span> <span class='kw'>=</span> <span class='fl'>4</span>,
              <span class='kw'>n_col</span> <span class='kw'>=</span> <span class='fl'>2</span>, <span class='kw'>col</span> <span class='kw'>=</span> <span class='no'>col</span>, <span class='kw'>pch</span> <span class='kw'>=</span> <span class='fl'>16</span>, <span class='kw'>pch_NA</span> <span class='kw'>=</span> <span class='fl'>17</span>)</div><div class='img'><img src='xgb.plot.shap-5.png' alt='' width='700' height='433' /></div><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      <li><a href="#value">Value</a></li>
      <li><a href="#details">Details</a></li>
      <li><a href="#references">References</a></li>
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Tianqi Chen, Tong He, Michael Benesty, Vadim Khotilovich, Yuan Tang, Hyunsu Cho, Kailong Chen, Rory Mitchell, Ignacio Cano, Tianyi Zhou, Mu Li, Junyuan Xie, Min Lin, Yifeng Geng, Yutian Li.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


