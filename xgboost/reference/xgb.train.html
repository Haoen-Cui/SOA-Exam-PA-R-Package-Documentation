<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>eXtreme Gradient Boosting Training — xgb.train • xgboost</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="eXtreme Gradient Boosting Training — xgb.train" />
<meta property="og:description" content="xgb.train is an advanced interface for training an xgboost model.
The xgboost function is a simpler wrapper for xgb.train." />
<meta name="twitter:card" content="summary" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">xgboost</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.90.0.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fas fa fas fa-archive fa-lg"></span>
     
    R Packages
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../../boot/index.html">boot</a>
    </li>
    <li>
      <a href="../../broom/index.html">broom</a>
    </li>
    <li>
      <a href="../../caret/index.html">caret</a>
    </li>
    <li>
      <a href="../../cluster/index.html">cluster</a>
    </li>
    <li>
      <a href="../../coefplot/index.html">coefplot</a>
    </li>
    <li>
      <a href="../../data.table/index.html">data.table</a>
    </li>
    <li>
      <a href="../../devtools/index.html">devtools</a>
    </li>
    <li>
      <a href="../../dplyr/index.html">dplyr</a>
    </li>
    <li>
      <a href="../../e1071/index.html">e1071</a>
    </li>
    <li>
      <a href="../../forcats/index.html">forcats</a>
    </li>
    <li>
      <a href="../../gbm/index.html">gbm</a>
    </li>
    <li>
      <a href="../../ggplot2/index.html">ggplot2</a>
    </li>
    <li>
      <a href="../../glmnet/index.html">glmnet</a>
    </li>
    <li>
      <a href="../../gridExtra/index.html">gridExtra</a>
    </li>
    <li>
      <a href="../../ISLR/index.html">ISLR</a>
    </li>
    <li>
      <a href="../../MASS/index.html">MASS</a>
    </li>
    <li>
      <a href="../../pdp/index.html">pdp</a>
    </li>
    <li>
      <a href="../../pls/index.html">pls</a>
    </li>
    <li>
      <a href="../../plyr/index.html">plyr</a>
    </li>
    <li>
      <a href="../../pROC/index.html">pROC</a>
    </li>
    <li>
      <a href="../../purrr/index.html">purrr</a>
    </li>
    <li>
      <a href="../../randomForest/index.html">randomForest</a>
    </li>
    <li>
      <a href="../../readr/index.html">readr</a>
    </li>
    <li>
      <a href="../../rpart/index.html">rpart</a>
    </li>
    <li>
      <a href="../../rpart.plot/index.html">rpart.plot</a>
    </li>
    <li>
      <a href="../../stringr/index.html">stringr</a>
    </li>
    <li>
      <a href="../../tibble/index.html">tibble</a>
    </li>
    <li>
      <a href="../../tidyr/index.html">tidyr</a>
    </li>
    <li>
      <a href="../../xgboost/index.html">xgboost</a>
    </li>
  </ul>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/discoverYourData.html">Understand your dataset with Xgboost</a>
    </li>
    <li>
      <a href="../articles/xgboostPresentation.html">Xgboost presentation</a>
    </li>
    <li>
      <a href="../articles/xgboostfromJSON.html">XGBoost from JSON</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/dmlc/xgboost">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>eXtreme Gradient Boosting Training</h1>
    <small class="dont-index">Source: <a href='https://github.com/dmlc/xgboost/blob/master/R/xgb.train.R'><code>R/xgb.train.R</code></a>, <a href='https://github.com/dmlc/xgboost/blob/master/R/xgboost.R'><code>R/xgboost.R</code></a></small>
    <div class="hidden name"><code>xgb.train.Rd</code></div>
    </div>

    <div class="ref-description">
    <p><code>xgb.train</code> is an advanced interface for training an xgboost model.
The <code>xgboost</code> function is a simpler wrapper for <code>xgb.train</code>.</p>
    </div>

    <pre class="usage"><span class='fu'>xgb.train</span>(<span class='kw'>params</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(), <span class='no'>data</span>, <span class='no'>nrounds</span>, <span class='kw'>watchlist</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(), <span class='kw'>obj</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>feval</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>verbose</span> <span class='kw'>=</span> <span class='fl'>1</span>, <span class='kw'>print_every_n</span> <span class='kw'>=</span> <span class='fl'>1L</span>,
  <span class='kw'>early_stopping_rounds</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>maximize</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>save_period</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>save_name</span> <span class='kw'>=</span> <span class='st'>"xgboost.model"</span>, <span class='kw'>xgb_model</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>callbacks</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(), <span class='no'>...</span>)

<span class='fu'>xgboost</span>(<span class='kw'>data</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>label</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>missing</span> <span class='kw'>=</span> <span class='fl'>NA</span>, <span class='kw'>weight</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>params</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(), <span class='no'>nrounds</span>, <span class='kw'>verbose</span> <span class='kw'>=</span> <span class='fl'>1</span>, <span class='kw'>print_every_n</span> <span class='kw'>=</span> <span class='fl'>1L</span>,
  <span class='kw'>early_stopping_rounds</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>maximize</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>save_period</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>save_name</span> <span class='kw'>=</span> <span class='st'>"xgboost.model"</span>, <span class='kw'>xgb_model</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>callbacks</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(), <span class='no'>...</span>)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>params</th>
      <td><p>the list of parameters.
       The complete list of parameters is available at <a href='http://xgboost.readthedocs.io/en/latest/parameter.html'>http://xgboost.readthedocs.io/en/latest/parameter.html</a>.
       Below is a shorter summary:</p>
<p>1. General Parameters</p>
<ul>
<li><p><code>booster</code> which booster to use, can be <code>gbtree</code> or <code>gblinear</code>. Default: <code>gbtree</code>.</p></li>
</ul>

<p>2. Booster Parameters</p>
<p>2.1. Parameter for Tree Booster</p>
<ul>
<li><p><code>eta</code> control the learning rate: scale the contribution of each tree by a factor of <code>0 &lt; eta &lt; 1</code> when it is added to the current approximation. Used to prevent overfitting by making the boosting process more conservative. Lower value for <code>eta</code> implies larger value for <code>nrounds</code>: low <code>eta</code> value means model more robust to overfitting but slower to compute. Default: 0.3</p></li>
<li><p><code>gamma</code> minimum loss reduction required to make a further partition on a leaf node of the tree. the larger, the more conservative the algorithm will be.</p></li>
<li><p><code>max_depth</code> maximum depth of a tree. Default: 6</p></li>
<li><p><code>min_child_weight</code> minimum sum of instance weight (hessian) needed in a child. If the tree partition step results in a leaf node with the sum of instance weight less than min_child_weight, then the building process will give up further partitioning. In linear regression mode, this simply corresponds to minimum number of instances needed to be in each node. The larger, the more conservative the algorithm will be. Default: 1</p></li>
<li><p><code>subsample</code> subsample ratio of the training instance. Setting it to 0.5 means that xgboost randomly collected half of the data instances to grow trees and this will prevent overfitting. It makes computation shorter (because less data to analyse). It is advised to use this parameter with <code>eta</code> and increase <code>nrounds</code>. Default: 1</p></li>
<li><p><code>colsample_bytree</code> subsample ratio of columns when constructing each tree. Default: 1</p></li>
<li><p><code>num_parallel_tree</code> Experimental parameter. number of trees to grow per round. Useful to test Random Forest through Xgboost (set <code>colsample_bytree &lt; 1</code>, <code>subsample  &lt; 1</code>  and <code>round = 1</code>) accordingly. Default: 1</p></li>
<li><p><code>monotone_constraints</code> A numerical vector consists of <code>1</code>, <code>0</code> and <code>-1</code> with its length equals to the number of features in the training data. <code>1</code> is increasing, <code>-1</code> is decreasing and <code>0</code> is no constraint.</p></li>
<li><p><code>interaction_constraints</code> A list of vectors specifying feature indices of permitted interactions. Each item of the list represents one permitted interaction where specified features are allowed to interact with each other. Feature index values should start from <code>0</code> (<code>0</code> references the first column).  Leave argument unspecified for no interaction constraints.</p></li>
</ul>

<p>2.2. Parameter for Linear Booster</p>
<ul>
<li><p><code>lambda</code> L2 regularization term on weights. Default: 0</p></li>
<li><p><code>lambda_bias</code> L2 regularization term on bias. Default: 0</p></li>
<li><p><code>alpha</code> L1 regularization term on weights. (there is no L1 reg on bias because it is not important). Default: 0</p></li>
</ul>

<p>3. Task Parameters</p>
<ul>
<li><p><code>objective</code> specify the learning task and the corresponding learning objective, users can pass a self-defined function to it. The default objective options are below:</p><ul>
<li><p><code>reg:squarederror</code> Regression with squared loss (Default).</p></li>
<li><p><code>reg:logistic</code> logistic regression.</p></li>
<li><p><code>binary:logistic</code> logistic regression for binary classification. Output probability.</p></li>
<li><p><code>binary:logitraw</code> logistic regression for binary classification, output score before logistic transformation.</p></li>
<li><p><code>num_class</code> set the number of classes. To use only with multiclass objectives.</p></li>
<li><p><code>multi:softmax</code> set xgboost to do multiclass classification using the softmax objective. Class is represented by a number and should be from 0 to <code>num_class - 1</code>.</p></li>
<li><p><code>multi:softprob</code> same as softmax, but prediction outputs a vector of ndata * nclass elements, which can be further reshaped to ndata, nclass matrix. The result contains predicted probabilities of each data point belonging to each class.</p></li>
<li><p><code>rank:pairwise</code> set xgboost to do ranking task by minimizing the pairwise loss.</p></li>
</ul></li>
<li><p><code>base_score</code> the initial prediction score of all instances, global bias. Default: 0.5</p></li>
<li><p><code>eval_metric</code> evaluation metrics for validation data. Users can pass a self-defined function to it. Default: metric will be assigned according to objective(rmse for regression, and error for classification, mean average precision for ranking). List is provided in detail section.</p></li>
</ul></td>
    </tr>
    <tr>
      <th>data</th>
      <td><p>training dataset. <code>xgb.train</code> accepts only an <code>xgb.DMatrix</code> as the input.
<code>xgboost</code>, in addition, also accepts <code>matrix</code>, <code>dgCMatrix</code>, or name of a local data file.</p></td>
    </tr>
    <tr>
      <th>nrounds</th>
      <td><p>max number of boosting iterations.</p></td>
    </tr>
    <tr>
      <th>watchlist</th>
      <td><p>named list of xgb.DMatrix datasets to use for evaluating model performance.
Metrics specified in either <code>eval_metric</code> or <code>feval</code> will be computed for each
of these datasets during each boosting iteration, and stored in the end as a field named
<code>evaluation_log</code> in the resulting object. When either <code>verbose&gt;=1</code> or
<code><a href='cb.print.evaluation.html'>cb.print.evaluation</a></code> callback is engaged, the performance results are continuously
printed out during the training.
E.g., specifying <code>watchlist=list(validation1=mat1, validation2=mat2)</code> allows to track
the performance of each round's model on mat1 and mat2.</p></td>
    </tr>
    <tr>
      <th>obj</th>
      <td><p>customized objective function. Returns gradient and second order
gradient with given prediction and dtrain.</p></td>
    </tr>
    <tr>
      <th>feval</th>
      <td><p>customized evaluation function. Returns
<code><a href='https://rdrr.io/r/base/list.html'>list(metric='metric-name', value='metric-value')</a></code> with given
prediction and dtrain.</p></td>
    </tr>
    <tr>
      <th>verbose</th>
      <td><p>If 0, xgboost will stay silent. If 1, it will print information about performance.
If 2, some additional information will be printed out.
Note that setting <code>verbose &gt; 0</code> automatically engages the
<code><a href='cb.print.evaluation.html'>cb.print.evaluation(period=1)</a></code> callback function.</p></td>
    </tr>
    <tr>
      <th>print_every_n</th>
      <td><p>Print each n-th iteration evaluation messages when <code>verbose&gt;0</code>.
Default is 1 which means all messages are printed. This parameter is passed to the
<code><a href='cb.print.evaluation.html'>cb.print.evaluation</a></code> callback.</p></td>
    </tr>
    <tr>
      <th>early_stopping_rounds</th>
      <td><p>If <code>NULL</code>, the early stopping function is not triggered.
If set to an integer <code>k</code>, training with a validation set will stop if the performance
doesn't improve for <code>k</code> rounds.
Setting this parameter engages the <code><a href='cb.early.stop.html'>cb.early.stop</a></code> callback.</p></td>
    </tr>
    <tr>
      <th>maximize</th>
      <td><p>If <code>feval</code> and <code>early_stopping_rounds</code> are set,
then this parameter must be set as well.
When it is <code>TRUE</code>, it means the larger the evaluation score the better.
This parameter is passed to the <code><a href='cb.early.stop.html'>cb.early.stop</a></code> callback.</p></td>
    </tr>
    <tr>
      <th>save_period</th>
      <td><p>when it is non-NULL, model is saved to disk after every <code>save_period</code> rounds,
0 means save at the end. The saving is handled by the <code><a href='cb.save.model.html'>cb.save.model</a></code> callback.</p></td>
    </tr>
    <tr>
      <th>save_name</th>
      <td><p>the name or path for periodically saved model file.</p></td>
    </tr>
    <tr>
      <th>xgb_model</th>
      <td><p>a previously built model to continue the training from.
Could be either an object of class <code>xgb.Booster</code>, or its raw data, or the name of a
file with a previously saved model.</p></td>
    </tr>
    <tr>
      <th>callbacks</th>
      <td><p>a list of callback functions to perform various task during boosting.
See <code><a href='callbacks.html'>callbacks</a></code>. Some of the callbacks are automatically created depending on the
parameters' values. User can provide either existing or their own callback methods in order
to customize the training process.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>other parameters to pass to <code>params</code>.</p></td>
    </tr>
    <tr>
      <th>label</th>
      <td><p>vector of response values. Should not be provided when data is
a local data file name or an <code>xgb.DMatrix</code>.</p></td>
    </tr>
    <tr>
      <th>missing</th>
      <td><p>by default is set to NA, which means that NA values should be considered as 'missing'
by the algorithm. Sometimes, 0 or other extreme value might be used to represent missing values.
This parameter is only used when input is a dense matrix.</p></td>
    </tr>
    <tr>
      <th>weight</th>
      <td><p>a vector indicating the weight for each row of the input.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>An object of class <code>xgb.Booster</code> with the following elements:</p><ul>
<li><p><code>handle</code> a handle (pointer) to the xgboost model in memory.</p></li>
<li><p><code>raw</code> a cached memory dump of the xgboost model saved as R's <code>raw</code> type.</p></li>
<li><p><code>niter</code> number of boosting iterations.</p></li>
<li><p><code>evaluation_log</code> evaluation history stored as a <code>data.table</code> with the
        first column corresponding to iteration number and the rest corresponding to evaluation
        metrics' values. It is created by the <code><a href='cb.evaluation.log.html'>cb.evaluation.log</a></code> callback.</p></li>
<li><p><code>call</code> a function call.</p></li>
<li><p><code>params</code> parameters that were passed to the xgboost library. Note that it does not
        capture parameters changed by the <code><a href='cb.reset.parameters.html'>cb.reset.parameters</a></code> callback.</p></li>
<li><p><code>callbacks</code> callback functions that were either automatically assigned or
        explicitly passed.</p></li>
<li><p><code>best_iteration</code> iteration number with the best evaluation metric value
        (only available with early stopping).</p></li>
<li><p><code>best_ntreelimit</code> the <code>ntreelimit</code> value corresponding to the best iteration,
        which could further be used in <code>predict</code> method
        (only available with early stopping).</p></li>
<li><p><code>best_score</code> the best evaluation metric value during early stopping.
        (only available with early stopping).</p></li>
<li><p><code>feature_names</code> names of the training dataset features
        (only when column names were defined in training data).</p></li>
<li><p><code>nfeatures</code> number of features in training data.</p></li>
</ul>

    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>These are the training functions for <code>xgboost</code>.</p>
<p>The <code>xgb.train</code> interface supports advanced features such as <code>watchlist</code>,
customized objective and evaluation metric functions, therefore it is more flexible
than the <code>xgboost</code> interface.</p>
<p>Parallelization is automatically enabled if <code>OpenMP</code> is present.
Number of threads can also be manually specified via <code>nthread</code> parameter.</p>
<p>The evaluation metric is chosen automatically by Xgboost (according to the objective)
when the <code>eval_metric</code> parameter is not provided.
User may set one or several <code>eval_metric</code> parameters.
Note that when using a customized metric, only this single metric can be used.
The following is the list of built-in metrics for which Xgboost provides optimized implementation:</p><ul>
<li><p><code>rmse</code> root mean square error. <a href='http://en.wikipedia.org/wiki/Root_mean_square_error'>http://en.wikipedia.org/wiki/Root_mean_square_error</a></p></li>
<li><p><code>logloss</code> negative log-likelihood. <a href='http://en.wikipedia.org/wiki/Log-likelihood'>http://en.wikipedia.org/wiki/Log-likelihood</a></p></li>
<li><p><code>mlogloss</code> multiclass logloss. <a href='http://wiki.fast.ai/index.php/Log_Loss'>http://wiki.fast.ai/index.php/Log_Loss</a></p></li>
<li><p><code>error</code> Binary classification error rate. It is calculated as <code>(# wrong cases) / (# all cases)</code>.
           By default, it uses the 0.5 threshold for predicted values to define negative and positive instances.
           Different threshold (e.g., 0.) could be specified as "error@0."</p></li>
<li><p><code>merror</code> Multiclass classification error rate. It is calculated as <code>(# wrong cases) / (# all cases)</code>.</p></li>
<li><p><code>auc</code> Area under the curve. <a href='http://en.wikipedia.org/wiki/Receiver_operating_characteristic#'Area_under_curve'>http://en.wikipedia.org/wiki/Receiver_operating_characteristic#'Area_under_curve</a> for ranking evaluation.</p></li>
<li><p><code>aucpr</code> Area under the PR curve. <a href='https://en.wikipedia.org/wiki/Precision_and_recall'>https://en.wikipedia.org/wiki/Precision_and_recall</a> for ranking evaluation.</p></li>
<li><p><code>ndcg</code> Normalized Discounted Cumulative Gain (for ranking task). <a href='http://en.wikipedia.org/wiki/NDCG'>http://en.wikipedia.org/wiki/NDCG</a></p></li>
</ul>

<p>The following callbacks are automatically created when certain parameters are set:</p><ul>
<li><p><code>cb.print.evaluation</code> is turned on when <code>verbose &gt; 0</code>;
        and the <code>print_every_n</code> parameter is passed to it.</p></li>
<li><p><code>cb.evaluation.log</code> is on when <code>watchlist</code> is present.</p></li>
<li><p><code>cb.early.stop</code>: when <code>early_stopping_rounds</code> is set.</p></li>
<li><p><code>cb.save.model</code>: when <code>save_period &gt; 0</code> is set.</p></li>
</ul>

    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>Tianqi Chen and Carlos Guestrin, "XGBoost: A Scalable Tree Boosting System",
22nd SIGKDD Conference on Knowledge Discovery and Data Mining, 2016, <a href='https://arxiv.org/abs/1603.02754'>https://arxiv.org/abs/1603.02754</a></p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='callbacks.html'>callbacks</a></code>,
<code><a href='predict.xgb.Booster.html'>predict.xgb.Booster</a></code>,
<code><a href='xgb.cv.html'>xgb.cv</a></code></p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='fu'><a href='https://rdrr.io/r/utils/data.html'>data</a></span>(<span class='no'>agaricus.train</span>, <span class='kw'>package</span><span class='kw'>=</span><span class='st'>'xgboost'</span>)
<span class='fu'><a href='https://rdrr.io/r/utils/data.html'>data</a></span>(<span class='no'>agaricus.test</span>, <span class='kw'>package</span><span class='kw'>=</span><span class='st'>'xgboost'</span>)

<span class='no'>dtrain</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='xgb.DMatrix.html'>xgb.DMatrix</a></span>(<span class='no'>agaricus.train</span>$<span class='no'>data</span>, <span class='kw'>label</span> <span class='kw'>=</span> <span class='no'>agaricus.train</span>$<span class='no'>label</span>)
<span class='no'>dtest</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='xgb.DMatrix.html'>xgb.DMatrix</a></span>(<span class='no'>agaricus.test</span>$<span class='no'>data</span>, <span class='kw'>label</span> <span class='kw'>=</span> <span class='no'>agaricus.test</span>$<span class='no'>label</span>)
<span class='no'>watchlist</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(<span class='kw'>train</span> <span class='kw'>=</span> <span class='no'>dtrain</span>, <span class='kw'>eval</span> <span class='kw'>=</span> <span class='no'>dtest</span>)

<span class='co'>## A simple xgb.train example:</span>
<span class='no'>param</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(<span class='kw'>max_depth</span> <span class='kw'>=</span> <span class='fl'>2</span>, <span class='kw'>eta</span> <span class='kw'>=</span> <span class='fl'>1</span>, <span class='kw'>verbose</span> <span class='kw'>=</span> <span class='fl'>0</span>, <span class='kw'>nthread</span> <span class='kw'>=</span> <span class='fl'>2</span>,
              <span class='kw'>objective</span> <span class='kw'>=</span> <span class='st'>"binary:logistic"</span>, <span class='kw'>eval_metric</span> <span class='kw'>=</span> <span class='st'>"auc"</span>)
<span class='no'>bst</span> <span class='kw'>&lt;-</span> <span class='fu'>xgb.train</span>(<span class='no'>param</span>, <span class='no'>dtrain</span>, <span class='kw'>nrounds</span> <span class='kw'>=</span> <span class='fl'>2</span>, <span class='no'>watchlist</span>)</div><div class='output co'>#&gt; [1]	train-auc:0.958228	eval-auc:0.960373 
#&gt; [2]	train-auc:0.981413	eval-auc:0.979930 </div><div class='input'>

<span class='co'>## An xgb.train example where custom objective and evaluation metric are used:</span>
<span class='no'>logregobj</span> <span class='kw'>&lt;-</span> <span class='kw'>function</span>(<span class='no'>preds</span>, <span class='no'>dtrain</span>) {
   <span class='no'>labels</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='getinfo.html'>getinfo</a></span>(<span class='no'>dtrain</span>, <span class='st'>"label"</span>)
   <span class='no'>preds</span> <span class='kw'>&lt;-</span> <span class='fl'>1</span>/(<span class='fl'>1</span> + <span class='fu'><a href='https://rdrr.io/r/base/Log.html'>exp</a></span>(-<span class='no'>preds</span>))
   <span class='no'>grad</span> <span class='kw'>&lt;-</span> <span class='no'>preds</span> - <span class='no'>labels</span>
   <span class='no'>hess</span> <span class='kw'>&lt;-</span> <span class='no'>preds</span> * (<span class='fl'>1</span> - <span class='no'>preds</span>)
   <span class='fu'><a href='https://rdrr.io/r/base/function.html'>return</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(<span class='kw'>grad</span> <span class='kw'>=</span> <span class='no'>grad</span>, <span class='kw'>hess</span> <span class='kw'>=</span> <span class='no'>hess</span>))
}
<span class='no'>evalerror</span> <span class='kw'>&lt;-</span> <span class='kw'>function</span>(<span class='no'>preds</span>, <span class='no'>dtrain</span>) {
  <span class='no'>labels</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='getinfo.html'>getinfo</a></span>(<span class='no'>dtrain</span>, <span class='st'>"label"</span>)
  <span class='no'>err</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/numeric.html'>as.numeric</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/sum.html'>sum</a></span>(<span class='no'>labels</span> <span class='kw'>!=</span> (<span class='no'>preds</span> <span class='kw'>&gt;</span> <span class='fl'>0</span>)))/<span class='fu'><a href='https://rdrr.io/r/base/length.html'>length</a></span>(<span class='no'>labels</span>)
  <span class='fu'><a href='https://rdrr.io/r/base/function.html'>return</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(<span class='kw'>metric</span> <span class='kw'>=</span> <span class='st'>"error"</span>, <span class='kw'>value</span> <span class='kw'>=</span> <span class='no'>err</span>))
}

<span class='co'># These functions could be used by passing them either:</span>
<span class='co'>#  as 'objective' and 'eval_metric' parameters in the params list:</span>
<span class='no'>param</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(<span class='kw'>max_depth</span> <span class='kw'>=</span> <span class='fl'>2</span>, <span class='kw'>eta</span> <span class='kw'>=</span> <span class='fl'>1</span>, <span class='kw'>verbose</span> <span class='kw'>=</span> <span class='fl'>0</span>, <span class='kw'>nthread</span> <span class='kw'>=</span> <span class='fl'>2</span>,
              <span class='kw'>objective</span> <span class='kw'>=</span> <span class='no'>logregobj</span>, <span class='kw'>eval_metric</span> <span class='kw'>=</span> <span class='no'>evalerror</span>)
<span class='no'>bst</span> <span class='kw'>&lt;-</span> <span class='fu'>xgb.train</span>(<span class='no'>param</span>, <span class='no'>dtrain</span>, <span class='kw'>nrounds</span> <span class='kw'>=</span> <span class='fl'>2</span>, <span class='no'>watchlist</span>)</div><div class='output co'>#&gt; [1]	train-error:0.046522	eval-error:0.042831 
#&gt; [2]	train-error:0.022263	eval-error:0.021726 </div><div class='input'>
<span class='co'>#  or through the ... arguments:</span>
<span class='no'>param</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(<span class='kw'>max_depth</span> <span class='kw'>=</span> <span class='fl'>2</span>, <span class='kw'>eta</span> <span class='kw'>=</span> <span class='fl'>1</span>, <span class='kw'>verbose</span> <span class='kw'>=</span> <span class='fl'>0</span>, <span class='kw'>nthread</span> <span class='kw'>=</span> <span class='fl'>2</span>)
<span class='no'>bst</span> <span class='kw'>&lt;-</span> <span class='fu'>xgb.train</span>(<span class='no'>param</span>, <span class='no'>dtrain</span>, <span class='kw'>nrounds</span> <span class='kw'>=</span> <span class='fl'>2</span>, <span class='no'>watchlist</span>,
                 <span class='kw'>objective</span> <span class='kw'>=</span> <span class='no'>logregobj</span>, <span class='kw'>eval_metric</span> <span class='kw'>=</span> <span class='no'>evalerror</span>)</div><div class='output co'>#&gt; [1]	train-error:0.046522	eval-error:0.042831 
#&gt; [2]	train-error:0.022263	eval-error:0.021726 </div><div class='input'>
<span class='co'>#  or as dedicated 'obj' and 'feval' parameters of xgb.train:</span>
<span class='no'>bst</span> <span class='kw'>&lt;-</span> <span class='fu'>xgb.train</span>(<span class='no'>param</span>, <span class='no'>dtrain</span>, <span class='kw'>nrounds</span> <span class='kw'>=</span> <span class='fl'>2</span>, <span class='no'>watchlist</span>,
                 <span class='kw'>obj</span> <span class='kw'>=</span> <span class='no'>logregobj</span>, <span class='kw'>feval</span> <span class='kw'>=</span> <span class='no'>evalerror</span>)</div><div class='output co'>#&gt; [1]	train-error:0.046522	eval-error:0.042831 
#&gt; [2]	train-error:0.022263	eval-error:0.021726 </div><div class='input'>

<span class='co'>## An xgb.train example of using variable learning rates at each iteration:</span>
<span class='no'>param</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(<span class='kw'>max_depth</span> <span class='kw'>=</span> <span class='fl'>2</span>, <span class='kw'>eta</span> <span class='kw'>=</span> <span class='fl'>1</span>, <span class='kw'>verbose</span> <span class='kw'>=</span> <span class='fl'>0</span>, <span class='kw'>nthread</span> <span class='kw'>=</span> <span class='fl'>2</span>,
              <span class='kw'>objective</span> <span class='kw'>=</span> <span class='st'>"binary:logistic"</span>, <span class='kw'>eval_metric</span> <span class='kw'>=</span> <span class='st'>"auc"</span>)
<span class='no'>my_etas</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(<span class='kw'>eta</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>0.5</span>, <span class='fl'>0.1</span>))
<span class='no'>bst</span> <span class='kw'>&lt;-</span> <span class='fu'>xgb.train</span>(<span class='no'>param</span>, <span class='no'>dtrain</span>, <span class='kw'>nrounds</span> <span class='kw'>=</span> <span class='fl'>2</span>, <span class='no'>watchlist</span>,
                 <span class='kw'>callbacks</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(<span class='fu'><a href='cb.reset.parameters.html'>cb.reset.parameters</a></span>(<span class='no'>my_etas</span>)))</div><div class='output co'>#&gt; [1]	train-auc:0.958228	eval-auc:0.960373 
#&gt; [2]	train-auc:0.992347	eval-auc:0.994009 </div><div class='input'>
<span class='co'>## Early stopping:</span>
<span class='no'>bst</span> <span class='kw'>&lt;-</span> <span class='fu'>xgb.train</span>(<span class='no'>param</span>, <span class='no'>dtrain</span>, <span class='kw'>nrounds</span> <span class='kw'>=</span> <span class='fl'>25</span>, <span class='no'>watchlist</span>,
                 <span class='kw'>early_stopping_rounds</span> <span class='kw'>=</span> <span class='fl'>3</span>)</div><div class='output co'>#&gt; [1]	train-auc:0.958228	eval-auc:0.960373 
#&gt; Multiple eval metrics are present. Will use eval_auc for early stopping.
#&gt; Will train until eval_auc hasn't improved in 3 rounds.
#&gt; 
#&gt; [2]	train-auc:0.981413	eval-auc:0.979930 
#&gt; [3]	train-auc:0.997070	eval-auc:0.998518 
#&gt; [4]	train-auc:0.998757	eval-auc:0.998943 
#&gt; [5]	train-auc:0.999298	eval-auc:0.999830 
#&gt; [6]	train-auc:0.999585	eval-auc:1.000000 
#&gt; [7]	train-auc:0.999585	eval-auc:1.000000 
#&gt; [8]	train-auc:0.999916	eval-auc:1.000000 
#&gt; [9]	train-auc:0.999916	eval-auc:1.000000 
#&gt; Stopping. Best iteration:
#&gt; [6]	train-auc:0.999585	eval-auc:1.000000
#&gt; </div><div class='input'>
<span class='co'>## An 'xgboost' interface example:</span>
<span class='no'>bst</span> <span class='kw'>&lt;-</span> <span class='fu'>xgboost</span>(<span class='kw'>data</span> <span class='kw'>=</span> <span class='no'>agaricus.train</span>$<span class='no'>data</span>, <span class='kw'>label</span> <span class='kw'>=</span> <span class='no'>agaricus.train</span>$<span class='no'>label</span>,
               <span class='kw'>max_depth</span> <span class='kw'>=</span> <span class='fl'>2</span>, <span class='kw'>eta</span> <span class='kw'>=</span> <span class='fl'>1</span>, <span class='kw'>nthread</span> <span class='kw'>=</span> <span class='fl'>2</span>, <span class='kw'>nrounds</span> <span class='kw'>=</span> <span class='fl'>2</span>,
               <span class='kw'>objective</span> <span class='kw'>=</span> <span class='st'>"binary:logistic"</span>)</div><div class='output co'>#&gt; [1]	train-error:0.046522 
#&gt; [2]	train-error:0.022263 </div><div class='input'><span class='no'>pred</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/predict.html'>predict</a></span>(<span class='no'>bst</span>, <span class='no'>agaricus.test</span>$<span class='no'>data</span>)</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      <li><a href="#value">Value</a></li>
      <li><a href="#details">Details</a></li>
      <li><a href="#references">References</a></li>
      <li><a href="#see-also">See also</a></li>
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Tianqi Chen, Tong He, Michael Benesty, Vadim Khotilovich, Yuan Tang, Hyunsu Cho, Kailong Chen, Rory Mitchell, Ignacio Cano, Tianyi Zhou, Mu Li, Junyuan Xie, Min Lin, Yifeng Geng, Yutian Li.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


