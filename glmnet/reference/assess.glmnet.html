<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>assess performace of a 'glmnet' object using test data. — assess.glmnet • glmnet</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="assess performace of a 'glmnet' object using test data. — assess.glmnet" />
<meta property="og:description" content="Given a test set, produce summary performance measures for the glmnet
model(s)" />
<meta name="twitter:card" content="summary" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">glmnet</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">3.0.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fas fa fas fa-archive fa-lg"></span>
     
    R Packages
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../../boot/index.html">boot</a>
    </li>
    <li>
      <a href="../../broom/index.html">broom</a>
    </li>
    <li>
      <a href="../../caret/index.html">caret</a>
    </li>
    <li>
      <a href="../../cluster/index.html">cluster</a>
    </li>
    <li>
      <a href="../../coefplot/index.html">coefplot</a>
    </li>
    <li>
      <a href="../../data.table/index.html">data.table</a>
    </li>
    <li>
      <a href="../../devtools/index.html">devtools</a>
    </li>
    <li>
      <a href="../../dplyr/index.html">dplyr</a>
    </li>
    <li>
      <a href="../../e1071/index.html">e1071</a>
    </li>
    <li>
      <a href="../../forcats/index.html">forcats</a>
    </li>
    <li>
      <a href="../../gbm/index.html">gbm</a>
    </li>
    <li>
      <a href="../../ggplot2/index.html">ggplot2</a>
    </li>
    <li>
      <a href="../../glmnet/index.html">glmnet</a>
    </li>
    <li>
      <a href="../../gridExtra/index.html">gridExtra</a>
    </li>
    <li>
      <a href="../../ISLR/index.html">ISLR</a>
    </li>
    <li>
      <a href="../../MASS/index.html">MASS</a>
    </li>
    <li>
      <a href="../../pdp/index.html">pdp</a>
    </li>
    <li>
      <a href="../../pls/index.html">pls</a>
    </li>
    <li>
      <a href="../../plyr/index.html">plyr</a>
    </li>
    <li>
      <a href="../../pROC/index.html">pROC</a>
    </li>
    <li>
      <a href="../../purrr/index.html">purrr</a>
    </li>
    <li>
      <a href="../../randomForest/index.html">randomForest</a>
    </li>
    <li>
      <a href="../../readr/index.html">readr</a>
    </li>
    <li>
      <a href="../../rpart/index.html">rpart</a>
    </li>
    <li>
      <a href="../../rpart.plot/index.html">rpart.plot</a>
    </li>
    <li>
      <a href="../../stringr/index.html">stringr</a>
    </li>
    <li>
      <a href="../../tibble/index.html">tibble</a>
    </li>
    <li>
      <a href="../../tidyr/index.html">tidyr</a>
    </li>
    <li>
      <a href="../../xgboost/index.html">xgboost</a>
    </li>
  </ul>
</li>
<li>
  <a href="../articles/glmnet.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/Coxnet.html">Coxnet: Regularized Cox Regression</a>
    </li>
    <li>
      <a href="../articles/relax.html">Relaxed fits and other additions in `glmnet` 3.0</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>assess performace of a 'glmnet' object using test data.</h1>
    
    <div class="hidden name"><code>assess.glmnet.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Given a test set, produce summary performance measures for the glmnet
model(s)</p>
    </div>

    <pre class="usage"><span class='fu'>assess.glmnet</span>(<span class='no'>object</span>, <span class='kw'>newx</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='no'>newy</span>, <span class='kw'>weights</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>family</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"gaussian"</span>, <span class='st'>"binomial"</span>, <span class='st'>"poisson"</span>, <span class='st'>"multinomial"</span>, <span class='st'>"cox"</span>,
  <span class='st'>"mgaussian"</span>), <span class='no'>...</span>)

<span class='fu'>confusion.glmnet</span>(<span class='no'>object</span>, <span class='kw'>newx</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='no'>newy</span>, <span class='kw'>family</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"binomial"</span>,
  <span class='st'>"multinomial"</span>), <span class='no'>...</span>)

<span class='fu'>roc.glmnet</span>(<span class='no'>object</span>, <span class='kw'>newx</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='no'>newy</span>, <span class='no'>...</span>)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>object</th>
      <td><p>Fitted <code>"glmnet"</code> or <code>"cv.glmnet"</code>, <code>"relaxed"</code>
or <code>"cv.relaxed"</code> object, or a matrix of predictions (for
<code>roc.glmnet</code> or <code>assess.glmnet</code>). For <code>roc.glmnet</code> the model
must be a 'binomial', and for <code>confusion.glmnet</code> must be either
'binomial' or 'multinomial'</p></td>
    </tr>
    <tr>
      <th>newx</th>
      <td><p>If predictions are to made, these are the 'x' values. Required
for <code>confusion.glmnet</code></p></td>
    </tr>
    <tr>
      <th>newy</th>
      <td><p>required argument for all functions; the new response values</p></td>
    </tr>
    <tr>
      <th>weights</th>
      <td><p>For observation weights for the test observations</p></td>
    </tr>
    <tr>
      <th>family</th>
      <td><p>The family of the model, in case predictions are passed in as
'object'</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>additional arguments to <code>predict.glmnet</code> when "object" is a
"glmnet" fit, and predictions must be made to produce the statistics.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p><code>assess.glmnet</code> produces a list of vectors of measures.
<code>roc.glmnet</code> a list of 'roc' two-column matrices, and
<code>confusion.glmnet</code> a list of tables. If a single prediction is
provided, or predictions are made from a CV object, the latter two drop the
list status and produce a single matrix or table.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p><code>assess.glmnet</code> produces all the different performance measures
provided by <code>cv.glmnet</code> for each of the families. A single vector, or a
matrix of predictions can be provided, or fitted model objects or CV
objects. In the case when the predictions are still to be made, the
<code>...</code> arguments allow, for example, 'offsets' and other prediction
parameters such as values for 'gamma' for 'relaxed' fits.  <code>roc.glmnet</code>
produces for a single vector a two column matrix with columns TPR and FPR
(true positive rate and false positive rate). This object can be plotted to
produce an ROC curve. If more than one predictions are called for, then a
list of such matrices is produced.  <code>confusion.glmnet</code> produces a
confusion matrix tabulating the classification results. Again, a single
table or a list, with a print method.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code>cv.glmnet</code> and <code>glmnet.measures</code></p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'>
<span class='no'>x</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/matrix.html'>matrix</a></span>(<span class='fu'><a href='https://rdrr.io/r/stats/Normal.html'>rnorm</a></span>(<span class='fl'>100</span> * <span class='fl'>20</span>), <span class='fl'>100</span>, <span class='fl'>20</span>)
<span class='no'>y</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/stats/Normal.html'>rnorm</a></span>(<span class='fl'>100</span>)
<span class='no'>g2</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/sample.html'>sample</a></span>(<span class='fl'>1</span>:<span class='fl'>2</span>, <span class='fl'>100</span>, <span class='kw'>replace</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)
<span class='no'>g4</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/sample.html'>sample</a></span>(<span class='fl'>1</span>:<span class='fl'>4</span>, <span class='fl'>100</span>, <span class='kw'>replace</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)
<span class='no'>fit1</span> <span class='kw'>=</span> <span class='fu'><a href='glmnet.html'>glmnet</a></span>(<span class='no'>x</span>, <span class='no'>y</span>)
<span class='fu'>assess.glmnet</span>(<span class='no'>fit1</span>, <span class='kw'>newx</span> <span class='kw'>=</span> <span class='no'>x</span>, <span class='kw'>newy</span> <span class='kw'>=</span> <span class='no'>y</span>)</div><div class='output co'>#&gt; $mse
#&gt;        s0        s1        s2        s3        s4        s5        s6        s7 
#&gt; 1.0256625 1.0186182 1.0127699 1.0079146 1.0009012 0.9944050 0.9881917 0.9785125 
#&gt;        s8        s9       s10       s11       s12       s13       s14       s15 
#&gt; 0.9694334 0.9600505 0.9518679 0.9450459 0.9393820 0.9344261 0.9298835 0.9258736 
#&gt;       s16       s17       s18       s19       s20       s21       s22       s23 
#&gt; 0.9218873 0.9177489 0.9143139 0.9114621 0.9090945 0.9069818 0.9051466 0.9035900 
#&gt;       s24       s25       s26       s27       s28       s29       s30       s31 
#&gt; 0.9022983 0.9012258 0.9003355 0.8994700 0.8987397 0.8981355 0.8976339 0.8971869 
#&gt;       s32       s33       s34       s35       s36       s37       s38       s39 
#&gt; 0.8968117 0.8965000 0.8962412 0.8960189 0.8957828 0.8955672 0.8953885 0.8952384 
#&gt;       s40       s41       s42       s43       s44       s45       s46       s47 
#&gt; 0.8951138 0.8950103 0.8949244 0.8948531 0.8947939 0.8947447 0.8947035 0.8946660 
#&gt;       s48       s49       s50       s51       s52       s53       s54       s55 
#&gt; 0.8946347 0.8946087 0.8945885 0.8945706 0.8945555 0.8945430 0.8945325 0.8945239 
#&gt;       s56       s57       s58       s59       s60       s61       s62       s63 
#&gt; 0.8945167 0.8945107 0.8945058 0.8945017 0.8944983 0.8944954 0.8944931 0.8944911 
#&gt;       s64       s65       s66 
#&gt; 0.8944895 0.8944882 0.8944870 
#&gt; attr(,"measure")
#&gt; [1] "Mean-Squared Error"
#&gt; 
#&gt; $mae
#&gt;        s0        s1        s2        s3        s4        s5        s6        s7 
#&gt; 0.7764511 0.7724494 0.7689227 0.7659417 0.7630279 0.7607338 0.7587392 0.7554860 
#&gt;        s8        s9       s10       s11       s12       s13       s14       s15 
#&gt; 0.7522597 0.7506578 0.7496560 0.7488416 0.7484916 0.7483696 0.7480547 0.7476008 
#&gt;       s16       s17       s18       s19       s20       s21       s22       s23 
#&gt; 0.7468598 0.7457893 0.7448148 0.7439268 0.7431178 0.7423436 0.7416206 0.7412384 
#&gt;       s24       s25       s26       s27       s28       s29       s30       s31 
#&gt; 0.7408911 0.7405746 0.7402862 0.7398617 0.7394559 0.7390905 0.7387575 0.7384802 
#&gt;       s32       s33       s34       s35       s36       s37       s38       s39 
#&gt; 0.7382580 0.7380551 0.7378702 0.7377018 0.7375338 0.7373768 0.7371878 0.7370234 
#&gt;       s40       s41       s42       s43       s44       s45       s46       s47 
#&gt; 0.7368913 0.7368198 0.7367547 0.7366953 0.7366413 0.7365920 0.7365434 0.7364781 
#&gt;       s48       s49       s50       s51       s52       s53       s54       s55 
#&gt; 0.7364195 0.7363662 0.7363252 0.7362965 0.7362801 0.7362652 0.7362515 0.7362391 
#&gt;       s56       s57       s58       s59       s60       s61       s62       s63 
#&gt; 0.7362278 0.7362175 0.7362081 0.7361995 0.7361917 0.7361846 0.7361781 0.7361722 
#&gt;       s64       s65       s66 
#&gt; 0.7361668 0.7361619 0.7361574 
#&gt; attr(,"measure")
#&gt; [1] "Mean Absolute Error"
#&gt; </div><div class='input'><span class='no'>preds</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/stats/predict.html'>predict</a></span>(<span class='no'>fit1</span>, <span class='kw'>newx</span> <span class='kw'>=</span> <span class='no'>x</span>[<span class='fl'>1</span>:<span class='fl'>20</span>, ], <span class='kw'>s</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>0.01</span>, <span class='fl'>0.005</span>))
<span class='fu'>assess.glmnet</span>(<span class='no'>preds</span>, <span class='kw'>newy</span> <span class='kw'>=</span> <span class='no'>y</span>[<span class='fl'>1</span>:<span class='fl'>20</span>], <span class='kw'>family</span> <span class='kw'>=</span> <span class='st'>"gaussian"</span>)</div><div class='output co'>#&gt; $mse
#&gt;         1         2 
#&gt; 0.9443280 0.9348565 
#&gt; attr(,"measure")
#&gt; [1] "Mean-Squared Error"
#&gt; 
#&gt; $mae
#&gt;         1         2 
#&gt; 0.7573680 0.7546214 
#&gt; attr(,"measure")
#&gt; [1] "Mean Absolute Error"
#&gt; </div><div class='input'><span class='no'>fit2</span> <span class='kw'>=</span> <span class='fu'><a href='glmnet.html'>glmnet</a></span>(<span class='no'>x</span>, <span class='no'>g2</span>, <span class='kw'>family</span> <span class='kw'>=</span> <span class='st'>"binomial"</span>)
<span class='fu'><a href='https://rdrr.io/r/graphics/plot.html'>plot</a></span>(<span class='fu'>roc.glmnet</span>(<span class='no'>fit2</span>, <span class='kw'>newx</span> <span class='kw'>=</span> <span class='no'>x</span>, <span class='kw'>newy</span> <span class='kw'>=</span> <span class='no'>g2</span>)<span class='kw'>[[</span><span class='fl'>20</span>]])</div><div class='img'><img src='assess.glmnet-1.png' alt='' width='700' height='433' /></div><div class='input'><span class='no'>fit2c</span> <span class='kw'>=</span> <span class='fu'><a href='cv.glmnet.html'>cv.glmnet</a></span>(<span class='no'>x</span>, <span class='no'>g2</span>, <span class='kw'>family</span> <span class='kw'>=</span> <span class='st'>"binomial"</span>)
<span class='fu'><a href='https://rdrr.io/r/graphics/plot.html'>plot</a></span>(<span class='fu'>roc.glmnet</span>(<span class='no'>fit2c</span>, <span class='kw'>newx</span> <span class='kw'>=</span> <span class='no'>x</span>, <span class='kw'>newy</span> <span class='kw'>=</span> <span class='no'>g2</span>, <span class='kw'>s</span> <span class='kw'>=</span> <span class='st'>"lambda.min"</span>))</div><div class='img'><img src='assess.glmnet-2.png' alt='' width='700' height='433' /></div><div class='input'><span class='no'>fit3</span> <span class='kw'>=</span> <span class='fu'><a href='glmnet.html'>glmnet</a></span>(<span class='no'>x</span>, <span class='no'>g4</span>, <span class='kw'>family</span> <span class='kw'>=</span> <span class='st'>"multinomial"</span>)
<span class='fu'>confusion.glmnet</span>(<span class='no'>fit3</span>, <span class='kw'>newx</span> <span class='kw'>=</span> <span class='no'>x</span>[<span class='fl'>1</span>:<span class='fl'>50</span>, ], <span class='kw'>newy</span> <span class='kw'>=</span> <span class='no'>g4</span>[<span class='fl'>1</span>:<span class='fl'>50</span>], <span class='kw'>s</span> <span class='kw'>=</span> <span class='fl'>0.01</span>)</div><div class='output co'>#&gt;          True
#&gt; Predicted  1  2 3  4 Total
#&gt;     1     18  2 2  3    25
#&gt;     2      0  9 0  0     9
#&gt;     3      1  0 3  3     7
#&gt;     4      1  1 1  6     9
#&gt;     Total 20 12 6 12    50
#&gt; 
#&gt;  Percent Correct:  0.72 </div><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      <li><a href="#value">Value</a></li>
      <li><a href="#details">Details</a></li>
      <li><a href="#see-also">See also</a></li>
      <li><a href="#examples">Examples</a></li>
    </ul>

    <h2>Author</h2>
    <p>Trevor Hastie and Rob Tibshirani<br /> Maintainer: Trevor Hastie
<a href='mailto:hastie@stanford.edu'>hastie@stanford.edu</a></p>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Jerome Friedman, Trevor Hastie, Rob Tibshirani, Balasubramanian Narasimhan, Noah Simon.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


