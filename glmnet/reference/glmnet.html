<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>fit a GLM with lasso or elasticnet regularization — glmnet • glmnet</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="fit a GLM with lasso or elasticnet regularization — glmnet" />
<meta property="og:description" content="Fit a generalized linear model via penalized maximum likelihood.  The
regularization path is computed for the lasso or elasticnet penalty at a
grid of values for the regularization parameter lambda. Can deal with all
shapes of data, including very large sparse data matrices. Fits linear,
logistic and multinomial, poisson, and Cox regression models." />
<meta name="twitter:card" content="summary" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">glmnet</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">3.0.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fas fa fas fa-archive fa-lg"></span>
     
    R Packages
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../../boot/index.html">boot</a>
    </li>
    <li>
      <a href="../../broom/index.html">broom</a>
    </li>
    <li>
      <a href="../../caret/index.html">caret</a>
    </li>
    <li>
      <a href="../../cluster/index.html">cluster</a>
    </li>
    <li>
      <a href="../../coefplot/index.html">coefplot</a>
    </li>
    <li>
      <a href="../../data.table/index.html">data.table</a>
    </li>
    <li>
      <a href="../../devtools/index.html">devtools</a>
    </li>
    <li>
      <a href="../../dplyr/index.html">dplyr</a>
    </li>
    <li>
      <a href="../../e1071/index.html">e1071</a>
    </li>
    <li>
      <a href="../../forcats/index.html">forcats</a>
    </li>
    <li>
      <a href="../../gbm/index.html">gbm</a>
    </li>
    <li>
      <a href="../../ggplot2/index.html">ggplot2</a>
    </li>
    <li>
      <a href="../../glmnet/index.html">glmnet</a>
    </li>
    <li>
      <a href="../../gridExtra/index.html">gridExtra</a>
    </li>
    <li>
      <a href="../../ISLR/index.html">ISLR</a>
    </li>
    <li>
      <a href="../../MASS/index.html">MASS</a>
    </li>
    <li>
      <a href="../../pdp/index.html">pdp</a>
    </li>
    <li>
      <a href="../../pls/index.html">pls</a>
    </li>
    <li>
      <a href="../../plyr/index.html">plyr</a>
    </li>
    <li>
      <a href="../../pROC/index.html">pROC</a>
    </li>
    <li>
      <a href="../../purrr/index.html">purrr</a>
    </li>
    <li>
      <a href="../../randomForest/index.html">randomForest</a>
    </li>
    <li>
      <a href="../../readr/index.html">readr</a>
    </li>
    <li>
      <a href="../../rpart/index.html">rpart</a>
    </li>
    <li>
      <a href="../../rpart.plot/index.html">rpart.plot</a>
    </li>
    <li>
      <a href="../../stringr/index.html">stringr</a>
    </li>
    <li>
      <a href="../../tibble/index.html">tibble</a>
    </li>
    <li>
      <a href="../../tidyr/index.html">tidyr</a>
    </li>
    <li>
      <a href="../../xgboost/index.html">xgboost</a>
    </li>
  </ul>
</li>
<li>
  <a href="../articles/glmnet.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/Coxnet.html">Coxnet: Regularized Cox Regression</a>
    </li>
    <li>
      <a href="../articles/relax.html">Relaxed fits and other additions in `glmnet` 3.0</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>fit a GLM with lasso or elasticnet regularization</h1>
    
    <div class="hidden name"><code>glmnet.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Fit a generalized linear model via penalized maximum likelihood.  The
regularization path is computed for the lasso or elasticnet penalty at a
grid of values for the regularization parameter lambda. Can deal with all
shapes of data, including very large sparse data matrices. Fits linear,
logistic and multinomial, poisson, and Cox regression models.</p>
    </div>

    <pre class="usage"><span class='fu'>glmnet</span>(<span class='no'>x</span>, <span class='no'>y</span>, <span class='kw'>family</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"gaussian"</span>, <span class='st'>"binomial"</span>, <span class='st'>"poisson"</span>, <span class='st'>"multinomial"</span>,
  <span class='st'>"cox"</span>, <span class='st'>"mgaussian"</span>), <span class='no'>weights</span>, <span class='kw'>offset</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>alpha</span> <span class='kw'>=</span> <span class='fl'>1</span>,
  <span class='kw'>nlambda</span> <span class='kw'>=</span> <span class='fl'>100</span>, <span class='kw'>lambda.min.ratio</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/ifelse.html'>ifelse</a></span>(<span class='no'>nobs</span> <span class='kw'>&lt;</span> <span class='no'>nvars</span>, <span class='fl'>0.01</span>, <span class='fl'>1e-04</span>),
  <span class='kw'>lambda</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>standardize</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>intercept</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>thresh</span> <span class='kw'>=</span> <span class='fl'>1e-07</span>, <span class='kw'>dfmax</span> <span class='kw'>=</span> <span class='no'>nvars</span> + <span class='fl'>1</span>, <span class='kw'>pmax</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/Extremes.html'>min</a></span>(<span class='no'>dfmax</span> * <span class='fl'>2</span> + <span class='fl'>20</span>,
  <span class='no'>nvars</span>), <span class='no'>exclude</span>, <span class='kw'>penalty.factor</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/rep.html'>rep</a></span>(<span class='fl'>1</span>, <span class='no'>nvars</span>), <span class='kw'>lower.limits</span> <span class='kw'>=</span> -<span class='fl'>Inf</span>,
  <span class='kw'>upper.limits</span> <span class='kw'>=</span> <span class='fl'>Inf</span>, <span class='kw'>maxit</span> <span class='kw'>=</span> <span class='fl'>1e+05</span>, <span class='kw'>type.gaussian</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/ifelse.html'>ifelse</a></span>(<span class='no'>nvars</span> <span class='kw'>&lt;</span>
  <span class='fl'>500</span>, <span class='st'>"covariance"</span>, <span class='st'>"naive"</span>), <span class='kw'>type.logistic</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"Newton"</span>,
  <span class='st'>"modified.Newton"</span>), <span class='kw'>standardize.response</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>type.multinomial</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"ungrouped"</span>, <span class='st'>"grouped"</span>), <span class='kw'>relax</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>trace.it</span> <span class='kw'>=</span> <span class='fl'>0</span>, <span class='no'>...</span>)

<span class='fu'>relax.glmnet</span>(<span class='no'>fit</span>, <span class='no'>x</span>, <span class='no'>...</span>, <span class='kw'>maxp</span> <span class='kw'>=</span> <span class='no'>n</span> - <span class='fl'>3</span>, <span class='kw'>path</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>check.args</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p>input matrix, of dimension nobs x nvars; each row is an observation
vector. Can be in sparse matrix format (inherit from class
<code>"sparseMatrix"</code> as in package <code>Matrix</code>; not yet available for
<code>family="cox"</code>)</p></td>
    </tr>
    <tr>
      <th>y</th>
      <td><p>response variable. Quantitative for <code>family="gaussian"</code>, or
<code>family="poisson"</code> (non-negative counts). For <code>family="binomial"</code>
should be either a factor with two levels, or a two-column matrix of counts
or proportions (the second column is treated as the target class; for a
factor, the last level in alphabetical order is the target class). For
<code>family="multinomial"</code>, can be a <code>nc&gt;=2</code> level factor, or a matrix
with <code>nc</code> columns of counts or proportions.  For either
<code>"binomial"</code> or <code>"multinomial"</code>, if <code>y</code> is presented as a
vector, it will be coerced into a factor. For <code>family="cox"</code>, <code>y</code>
should be a two-column matrix with columns named 'time' and 'status'. The
latter is a binary variable, with '1' indicating death, and '0' indicating
right censored. The function <code>Surv()</code> in package <span class="pkg">survival</span>
produces such a matrix. For <code>family="mgaussian"</code>, <code>y</code> is a matrix
of quantitative responses.</p></td>
    </tr>
    <tr>
      <th>family</th>
      <td><p>Response type (see above)</p></td>
    </tr>
    <tr>
      <th>weights</th>
      <td><p>observation weights. Can be total counts if responses are
proportion matrices. Default is 1 for each observation</p></td>
    </tr>
    <tr>
      <th>offset</th>
      <td><p>A vector of length <code>nobs</code> that is included in the linear
predictor (a <code>nobs x nc</code> matrix for the <code>"multinomial"</code> family).
Useful for the <code>"poisson"</code> family (e.g. log of exposure time), or for
refining a model by starting at a current fit. Default is <code>NULL</code>. If
supplied, then values must also be supplied to the <code>predict</code> function.</p></td>
    </tr>
    <tr>
      <th>alpha</th>
      <td><p>The elasticnet mixing parameter, with \(0\le\alpha\le 1\).
The penalty is defined as
$$(1-\alpha)/2||\beta||_2^2+\alpha||\beta||_1.$$ <code>alpha=1</code> is the
lasso penalty, and <code>alpha=0</code> the ridge penalty.</p></td>
    </tr>
    <tr>
      <th>nlambda</th>
      <td><p>The number of <code>lambda</code> values - default is 100.</p></td>
    </tr>
    <tr>
      <th>lambda.min.ratio</th>
      <td><p>Smallest value for <code>lambda</code>, as a fraction of
<code>lambda.max</code>, the (data derived) entry value (i.e. the smallest value
for which all coefficients are zero). The default depends on the sample size
<code>nobs</code> relative to the number of variables <code>nvars</code>. If <code>nobs
&gt; nvars</code>, the default is <code>0.0001</code>, close to zero.  If <code>nobs &lt;
nvars</code>, the default is <code>0.01</code>.  A very small value of
<code>lambda.min.ratio</code> will lead to a saturated fit in the <code>nobs &lt;
nvars</code> case. This is undefined for <code>"binomial"</code> and
<code>"multinomial"</code> models, and <code>glmnet</code> will exit gracefully when the
percentage deviance explained is almost 1.</p></td>
    </tr>
    <tr>
      <th>lambda</th>
      <td><p>A user supplied <code>lambda</code> sequence. Typical usage is to
have the program compute its own <code>lambda</code> sequence based on
<code>nlambda</code> and <code>lambda.min.ratio</code>. Supplying a value of
<code>lambda</code> overrides this. WARNING: use with care. Avoid supplying a
single value for <code>lambda</code> (for predictions after CV use
<code><a href='https://rdrr.io/r/stats/predict.html'>predict()</a></code> instead).  Supply instead a decreasing sequence of
<code>lambda</code> values. <code>glmnet</code> relies on its warms starts for speed,
and its often faster to fit a whole path than compute a single fit.</p></td>
    </tr>
    <tr>
      <th>standardize</th>
      <td><p>Logical flag for x variable standardization, prior to
fitting the model sequence. The coefficients are always returned on the
original scale. Default is <code>standardize=TRUE</code>.  If variables are in the
same units already, you might not wish to standardize. See details below for
y standardization with <code>family="gaussian"</code>.</p></td>
    </tr>
    <tr>
      <th>intercept</th>
      <td><p>Should intercept(s) be fitted (default=TRUE) or set to zero
(FALSE)</p></td>
    </tr>
    <tr>
      <th>thresh</th>
      <td><p>Convergence threshold for coordinate descent. Each inner
coordinate-descent loop continues until the maximum change in the objective
after any coefficient update is less than <code>thresh</code> times the null
deviance. Defaults value is <code>1E-7</code>.</p></td>
    </tr>
    <tr>
      <th>dfmax</th>
      <td><p>Limit the maximum number of variables in the model. Useful for
very large <code>nvars</code>, if a partial path is desired.</p></td>
    </tr>
    <tr>
      <th>pmax</th>
      <td><p>Limit the maximum number of variables ever to be nonzero</p></td>
    </tr>
    <tr>
      <th>exclude</th>
      <td><p>Indices of variables to be excluded from the model. Default
is none. Equivalent to an infinite penalty factor (next item).</p></td>
    </tr>
    <tr>
      <th>penalty.factor</th>
      <td><p>Separate penalty factors can be applied to each
coefficient. This is a number that multiplies <code>lambda</code> to allow
differential shrinkage. Can be 0 for some variables, which implies no
shrinkage, and that variable is always included in the model. Default is 1
for all variables (and implicitly infinity for variables listed in
<code>exclude</code>). Note: the penalty factors are internally rescaled to sum to
nvars, and the lambda sequence will reflect this change.</p></td>
    </tr>
    <tr>
      <th>lower.limits</th>
      <td><p>Vector of lower limits for each coefficient; default
<code>-Inf</code>. Each of these must be non-positive. Can be presented as a
single value (which will then be replicated), else a vector of length
<code>nvars</code></p></td>
    </tr>
    <tr>
      <th>upper.limits</th>
      <td><p>Vector of upper limits for each coefficient; default
<code>Inf</code>. See <code>lower.limits</code></p></td>
    </tr>
    <tr>
      <th>maxit</th>
      <td><p>Maximum number of passes over the data for all lambda values;
default is 10^5.</p></td>
    </tr>
    <tr>
      <th>type.gaussian</th>
      <td><p>Two algorithm types are supported for (only)
<code>family="gaussian"</code>. The default when <code>nvar&lt;500</code> is
<code>type.gaussian="covariance"</code>, and saves all inner-products ever
computed. This can be much faster than <code>type.gaussian="naive"</code>, which
loops through <code>nobs</code> every time an inner-product is computed. The
latter can be far more efficient for <code>nvar &gt;&gt; nobs</code> situations, or when
<code>nvar &gt; 500</code>.</p></td>
    </tr>
    <tr>
      <th>type.logistic</th>
      <td><p>If <code>"Newton"</code> then the exact hessian is used
(default), while <code>"modified.Newton"</code> uses an upper-bound on the
hessian, and can be faster.</p></td>
    </tr>
    <tr>
      <th>standardize.response</th>
      <td><p>This is for the <code>family="mgaussian"</code>
family, and allows the user to standardize the response variables</p></td>
    </tr>
    <tr>
      <th>type.multinomial</th>
      <td><p>If <code>"grouped"</code> then a grouped lasso penalty is
used on the multinomial coefficients for a variable. This ensures they are
all in our out together. The default is <code>"ungrouped"</code></p></td>
    </tr>
    <tr>
      <th>relax</th>
      <td><p>If <code>TRUE</code> then for each <em>active set</em> in the path of
solutions, the model is refit without any regularization. See <code>details</code>
for more information. This argument is new, and users may experience convergence issues
with small datasets, especially with non-gaussian families. Limiting the
value of 'maxp' can alleviate these issues in some cases.</p></td>
    </tr>
    <tr>
      <th>trace.it</th>
      <td><p>If <code>trace.it=1</code>, then a progress bar is displayed;
useful for big models that take a long time to fit.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Additional argument used in <code>relax.glmnet</code>. These include
some of the original arguments to 'glmnet', and each must be named if used.</p></td>
    </tr>
    <tr>
      <th>fit</th>
      <td><p>For <code>relax.glmnet</code> a fitted 'glmnet' object</p></td>
    </tr>
    <tr>
      <th>maxp</th>
      <td><p>a limit on how many relaxed coefficients are allowed. Default is
'n-3', where 'n' is the sample size. This may not be sufficient for
non-gaussian familes, in which case users should supply a smaller value.
This argument can be supplied directly to 'glmnet'.</p></td>
    </tr>
    <tr>
      <th>path</th>
      <td><p>Since <code>glmnet</code> does not do stepsize optimization, the Newton
algorithm can get stuck and not converge, especially with relaxed fits. With <code>path=TRUE</code>,
each relaxed fit on a particular set of variables is computed pathwise using the original sequence
of lambda values (with a zero attached to the end). Not needed for Gaussian models, and should not
be used unless needed, since will lead to longer compute times. Default is <code>path=FALSE</code>.
appropriate subset of variables</p></td>
    </tr>
    <tr>
      <th>check.args</th>
      <td><p>Should <code>relax.glmnet</code> make sure that all the data
dependent arguments used in creating 'fit' have been resupplied. Default is
'TRUE'.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>An object with S3 class <code>"glmnet","*" </code>, where <code><a href='https://rdrr.io/r/base/Arithmetic.html'>"*"</a></code> is
<code>"elnet"</code>, <code>"lognet"</code>, <code>"multnet"</code>, <code>"fishnet"</code>
(poisson), <code>"coxnet"</code> or <code>"mrelnet"</code> for the various types of
models. If the model was created with <code>relax=TRUE</code> then this class has
a prefix class of <code>"relaxed"</code>.</p>
<dt>call</dt><dd><p>the call that produced this
object</p></dd> <dt>a0</dt><dd><p>Intercept sequence of length <code><a href='https://rdrr.io/r/base/length.html'>length(lambda)</a></code></p></dd>
<dt>beta</dt><dd><p>For <code>"elnet"</code>, <code>"lognet"</code>, <code>"fishnet"</code> and
<code>"coxnet"</code> models, a <code>nvars x length(lambda)</code> matrix of
coefficients, stored in sparse column format (<code>"CsparseMatrix"</code>). For
<code>"multnet"</code> and <code>"mgaussian"</code>, a list of <code>nc</code> such matrices,
one for each class.</p></dd> <dt>lambda</dt><dd><p>The actual sequence of <code>lambda</code>
values used. When <code>alpha=0</code>, the largest lambda reported does not quite
give the zero coefficients reported (<code>lambda=inf</code> would in principle).
Instead, the largest <code>lambda</code> for <code>alpha=0.001</code> is used, and the
sequence of <code>lambda</code> values is derived from this.</p></dd> <dt>dev.ratio</dt><dd><p>The
fraction of (null) deviance explained (for <code>"elnet"</code>, this is the
R-square). The deviance calculations incorporate weights if present in the
model. The deviance is defined to be 2*(loglike_sat - loglike), where
loglike_sat is the log-likelihood for the saturated model (a model with a
free parameter per observation). Hence dev.ratio=1-dev/nulldev.</p></dd>
<dt>nulldev</dt><dd><p>Null deviance (per observation). This is defined to be
2*(loglike_sat -loglike(Null)); The NULL model refers to the intercept
model, except for the Cox, where it is the 0 model.</p></dd> <dt>df</dt><dd><p>The number of
nonzero coefficients for each value of <code>lambda</code>. For <code>"multnet"</code>,
this is the number of variables with a nonzero coefficient for <em>any</em>
class.</p></dd> <dt>dfmat</dt><dd><p>For <code>"multnet"</code> and <code>"mrelnet"</code> only. A
matrix consisting of the number of nonzero coefficients per class</p></dd>
<dt>dim</dt><dd><p>dimension of coefficient matrix (ices)</p></dd> <dt>nobs</dt><dd><p>number of
observations</p></dd> <dt>npasses</dt><dd><p>total passes over the data summed over all
lambda values</p></dd> <dt>offset</dt><dd><p>a logical variable indicating whether an offset
was included in the model</p></dd> <dt>jerr</dt><dd><p>error flag, for warnings and errors
(largely for internal debugging).</p></dd> <dt>relaxed</dt><dd><p>If <code>relax=TRUE</code>, this
additional item is another glmnet object with different values for
<code>beta</code> and <code>dev.ratio</code></p></dd>

    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>The sequence of models implied by <code>lambda</code> is fit by coordinate
descent. For <code>family="gaussian"</code> this is the lasso sequence if
<code>alpha=1</code>, else it is the elasticnet sequence.  For the other families,
this is a lasso or elasticnet regularization path for fitting the
generalized linear regression paths, by maximizing the appropriate penalized
log-likelihood (partial likelihood for the "cox" model). Sometimes the
sequence is truncated before <code>nlambda</code> values of <code>lambda</code> have
been used, because of instabilities in the inverse link functions near a
saturated fit. <code>glmnet(...,family="binomial")</code> fits a traditional
logistic regression model for the log-odds.
<code>glmnet(...,family="multinomial")</code> fits a symmetric multinomial model,
where each class is represented by a linear model (on the log-scale). The
penalties take care of redundancies. A two-class <code>"multinomial"</code> model
will produce the same fit as the corresponding <code>"binomial"</code> model,
except the pair of coefficient matrices will be equal in magnitude and
opposite in sign, and half the <code>"binomial"</code> values.  Note that the
objective function for <code>"gaussian"</code> is $$1/2 RSS/nobs +
\lambda*penalty,$$ and for the other models it is $$-loglik/nobs +
\lambda*penalty.$$ Note also that for <code>"gaussian"</code>, <code>glmnet</code>
standardizes y to have unit variance (using 1/n rather than 1/(n-1) formula)
before computing its lambda sequence (and then unstandardizes the resulting
coefficients); if you wish to reproduce/compare results with other software,
best to supply a standardized y. The coefficients for any predictor
variables with zero variance are set to zero for all values of lambda.  The
latest two features in glmnet are the <code>family="mgaussian"</code> family and
the <code>type.multinomial="grouped"</code> option for multinomial fitting. The
former allows a multi-response gaussian model to be fit, using a "group
-lasso" penalty on the coefficients for each variable. Tying the responses
together like this is called "multi-task" learning in some domains. The
grouped multinomial allows the same penalty for the
<code>family="multinomial"</code> model, which is also multi-responsed. For both
of these the penalty on the coefficient vector for variable j is
$$(1-\alpha)/2||\beta_j||_2^2+\alpha||\beta_j||_2.$$ When <code>alpha=1</code>
this is a group-lasso penalty, and otherwise it mixes with quadratic just
like elasticnet. A small detail in the Cox model: if death times are tied
with censored times, we assume the censored times occurred just
<em>before</em> the death times in computing the Breslow approximation; if
users prefer the usual convention of <em>after</em>, they can add a small
number to all censoring times to achieve this effect.  If <code>relax=TRUE</code>
a duplicate sequence of models is produced, where each active set in the
elastic-net path is refit without regularization. The result of this is a
matching <code>"glmnet"</code> object which is stored on the original object in a
component named <code>"relaxed"</code>, and is part of the glmnet output.
Generally users will not call <code>relax.glmnet</code> directly, unless the
original 'glmnet' object took a long time to fit. But if they do, they must
supply the fit, and all the original arguments used to create that fit. They
can limit the length of the relaxed path via 'maxp'.</p>
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>Friedman, J., Hastie, T. and Tibshirani, R. (2008)
<em>Regularization Paths for Generalized Linear Models via Coordinate
Descent</em>, <a href='https://web.stanford.edu/~hastie/Papers/glmnet.pdf'>https://web.stanford.edu/~hastie/Papers/glmnet.pdf</a><br />
<em>Journal of Statistical Software, Vol. 33(1), 1-22 Feb 2010</em><br />
<a href='https://www.jstatsoft.org/v33/i01/'>https://www.jstatsoft.org/v33/i01/</a><br /> Simon, N., Friedman, J., Hastie,
T., Tibshirani, R. (2011) <em>Regularization Paths for Cox's Proportional
Hazards Model via Coordinate Descent, Journal of Statistical Software, Vol.
39(5) 1-13</em><br /> <a href='https://www.jstatsoft.org/v39/i05/'>https://www.jstatsoft.org/v39/i05/</a><br /> Tibshirani,
Robert, Bien, J., Friedman, J., Hastie, T.,Simon, N.,Taylor, J. and
Tibshirani, Ryan. (2012) <em>Strong Rules for Discarding Predictors in
Lasso-type Problems, JRSSB vol 74</em>,<br />
<a href='https://statweb.stanford.edu/~tibs/ftp/strong.pdf'>https://statweb.stanford.edu/~tibs/ftp/strong.pdf</a><br /> <em>Stanford
Statistics Technical Report</em><br /> <a href='https://arxiv.org/abs/1707.08692'>https://arxiv.org/abs/1707.08692</a><br />
Hastie, T., Tibshirani, Robert, Tibshirani, Ryan (2019) <em>Extended
Comparisons of Best Subset Selection, Forward Stepwise Selection, and the
Lasso</em><br /> <em>Glmnet Vignette</em>
<a href='https://web.stanford.edu/~hastie/glmnet/glmnet_alpha.html'>https://web.stanford.edu/~hastie/glmnet/glmnet_alpha.html</a></p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code>print</code>, <code>predict</code>, <code>coef</code> and <code>plot</code> methods,
and the <code>cv.glmnet</code> function.</p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'>
<span class='co'># Gaussian</span>
<span class='no'>x</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/matrix.html'>matrix</a></span>(<span class='fu'><a href='https://rdrr.io/r/stats/Normal.html'>rnorm</a></span>(<span class='fl'>100</span> * <span class='fl'>20</span>), <span class='fl'>100</span>, <span class='fl'>20</span>)
<span class='no'>y</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/stats/Normal.html'>rnorm</a></span>(<span class='fl'>100</span>)
<span class='no'>fit1</span> <span class='kw'>=</span> <span class='fu'>glmnet</span>(<span class='no'>x</span>, <span class='no'>y</span>)
<span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span>(<span class='no'>fit1</span>)</div><div class='output co'>#&gt; 
#&gt; Call:  glmnet(x = x, y = y) 
#&gt; 
#&gt;    Df    %Dev   Lambda
#&gt; 1   0 0.00000 0.241100
#&gt; 2   1 0.01156 0.219700
#&gt; 3   1 0.02115 0.200100
#&gt; 4   1 0.02912 0.182400
#&gt; 5   3 0.04378 0.166200
#&gt; 6   4 0.06253 0.151400
#&gt; 7   4 0.08111 0.137900
#&gt; 8   5 0.09782 0.125700
#&gt; 9   6 0.11390 0.114500
#&gt; 10  6 0.12960 0.104400
#&gt; 11  7 0.14280 0.095080
#&gt; 12  7 0.15630 0.086640
#&gt; 13  8 0.16780 0.078940
#&gt; 14  9 0.17870 0.071930
#&gt; 15 11 0.18950 0.065540
#&gt; 16 12 0.19990 0.059720
#&gt; 17 12 0.20880 0.054410
#&gt; 18 12 0.21620 0.049580
#&gt; 19 12 0.22240 0.045170
#&gt; 20 13 0.22780 0.041160
#&gt; 21 15 0.23360 0.037500
#&gt; 22 15 0.23870 0.034170
#&gt; 23 15 0.24300 0.031140
#&gt; 24 17 0.24700 0.028370
#&gt; 25 17 0.25070 0.025850
#&gt; 26 18 0.25420 0.023550
#&gt; 27 18 0.25710 0.021460
#&gt; 28 18 0.25940 0.019550
#&gt; 29 18 0.26140 0.017820
#&gt; 30 18 0.26310 0.016230
#&gt; 31 18 0.26440 0.014790
#&gt; 32 19 0.26560 0.013480
#&gt; 33 19 0.26660 0.012280
#&gt; 34 19 0.26740 0.011190
#&gt; 35 19 0.26810 0.010200
#&gt; 36 19 0.26860 0.009290
#&gt; 37 19 0.26910 0.008464
#&gt; 38 19 0.26950 0.007713
#&gt; 39 19 0.26980 0.007027
#&gt; 40 19 0.27010 0.006403
#&gt; 41 19 0.27030 0.005834
#&gt; 42 19 0.27050 0.005316
#&gt; 43 19 0.27060 0.004844
#&gt; 44 19 0.27080 0.004413
#&gt; 45 19 0.27090 0.004021
#&gt; 46 19 0.27100 0.003664
#&gt; 47 19 0.27100 0.003339
#&gt; 48 19 0.27110 0.003042
#&gt; 49 19 0.27110 0.002772
#&gt; 50 19 0.27120 0.002525
#&gt; 51 19 0.27120 0.002301
#&gt; 52 19 0.27130 0.002097
#&gt; 53 19 0.27130 0.001910
#&gt; 54 19 0.27130 0.001741
#&gt; 55 19 0.27130 0.001586
#&gt; 56 19 0.27130 0.001445
#&gt; 57 19 0.27130 0.001317
#&gt; 58 19 0.27130 0.001200
#&gt; 59 20 0.27140 0.001093
#&gt; 60 20 0.27140 0.000996
#&gt; 61 20 0.27140 0.000908
#&gt; 62 20 0.27140 0.000827
#&gt; 63 20 0.27140 0.000754
#&gt; 64 20 0.27140 0.000687
#&gt; 65 20 0.27140 0.000626
#&gt; 66 20 0.27140 0.000570</div><div class='input'><span class='fu'><a href='https://rdrr.io/r/stats/coef.html'>coef</a></span>(<span class='no'>fit1</span>, <span class='kw'>s</span> <span class='kw'>=</span> <span class='fl'>0.01</span>)  <span class='co'># extract coefficients at a single value of lambda</span></div><div class='output co'>#&gt; 21 x 1 sparse Matrix of class "dgCMatrix"
#&gt;                        1
#&gt; (Intercept)  0.121560872
#&gt; V1           0.038296244
#&gt; V2           .          
#&gt; V3          -0.190479022
#&gt; V4           0.064542607
#&gt; V5          -0.004777782
#&gt; V6           0.061976448
#&gt; V7          -0.179189556
#&gt; V8          -0.046220308
#&gt; V9           0.034984779
#&gt; V10         -0.106203233
#&gt; V11          0.066413300
#&gt; V12          0.243634220
#&gt; V13         -0.055261320
#&gt; V14          0.025203468
#&gt; V15         -0.085658378
#&gt; V16         -0.213164488
#&gt; V17         -0.045210307
#&gt; V18         -0.119723910
#&gt; V19          0.162356337
#&gt; V20         -0.030741349</div><div class='input'><span class='fu'><a href='https://rdrr.io/r/stats/predict.html'>predict</a></span>(<span class='no'>fit1</span>, <span class='kw'>newx</span> <span class='kw'>=</span> <span class='no'>x</span>[<span class='fl'>1</span>:<span class='fl'>10</span>, ], <span class='kw'>s</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>0.01</span>, <span class='fl'>0.005</span>))  <span class='co'># make predictions</span></div><div class='output co'>#&gt;                1          2
#&gt;  [1,]  0.2118785  0.2176091
#&gt;  [2,] -0.3985763 -0.4511024
#&gt;  [3,]  0.2561177  0.2647228
#&gt;  [4,] -0.5173629 -0.5419171
#&gt;  [5,] -0.4270423 -0.4629741
#&gt;  [6,] -0.1174245 -0.1194081
#&gt;  [7,] -0.6621495 -0.6991950
#&gt;  [8,]  0.2762641  0.2982341
#&gt;  [9,]  0.8359337  0.8617435
#&gt; [10,] -0.5872074 -0.6115066</div><div class='input'>
<span class='co'># Relaxed</span>
<span class='no'>fit1r</span> <span class='kw'>=</span> <span class='fu'>glmnet</span>(<span class='no'>x</span>, <span class='no'>y</span>, <span class='kw'>relax</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)  <span class='co'># can be used with any model</span>

<span class='co'># multivariate gaussian</span>
<span class='no'>y</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/matrix.html'>matrix</a></span>(<span class='fu'><a href='https://rdrr.io/r/stats/Normal.html'>rnorm</a></span>(<span class='fl'>100</span> * <span class='fl'>3</span>), <span class='fl'>100</span>, <span class='fl'>3</span>)
<span class='no'>fit1m</span> <span class='kw'>=</span> <span class='fu'>glmnet</span>(<span class='no'>x</span>, <span class='no'>y</span>, <span class='kw'>family</span> <span class='kw'>=</span> <span class='st'>"mgaussian"</span>)
<span class='fu'><a href='https://rdrr.io/r/graphics/plot.html'>plot</a></span>(<span class='no'>fit1m</span>, <span class='kw'>type.coef</span> <span class='kw'>=</span> <span class='st'>"2norm"</span>)</div><div class='img'><img src='glmnet-1.png' alt='' width='700' height='433' /></div><div class='input'>
<span class='co'># binomial</span>
<span class='no'>g2</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/sample.html'>sample</a></span>(<span class='fl'>1</span>:<span class='fl'>2</span>, <span class='fl'>100</span>, <span class='kw'>replace</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)
<span class='no'>fit2</span> <span class='kw'>=</span> <span class='fu'>glmnet</span>(<span class='no'>x</span>, <span class='no'>g2</span>, <span class='kw'>family</span> <span class='kw'>=</span> <span class='st'>"binomial"</span>)
<span class='no'>fit2r</span> <span class='kw'>=</span> <span class='fu'>glmnet</span>(<span class='no'>x</span>,<span class='no'>g2</span>, <span class='kw'>family</span> <span class='kw'>=</span> <span class='st'>"binomial"</span>, <span class='kw'>relax</span><span class='kw'>=</span><span class='fl'>TRUE</span>)
<span class='no'>fit2rp</span> <span class='kw'>=</span> <span class='fu'>glmnet</span>(<span class='no'>x</span>,<span class='no'>g2</span>, <span class='kw'>family</span> <span class='kw'>=</span> <span class='st'>"binomial"</span>, <span class='kw'>relax</span><span class='kw'>=</span><span class='fl'>TRUE</span>, <span class='kw'>path</span><span class='kw'>=</span><span class='fl'>TRUE</span>)

<span class='co'># multinomial</span>
<span class='no'>g4</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/sample.html'>sample</a></span>(<span class='fl'>1</span>:<span class='fl'>4</span>, <span class='fl'>100</span>, <span class='kw'>replace</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)
<span class='no'>fit3</span> <span class='kw'>=</span> <span class='fu'>glmnet</span>(<span class='no'>x</span>, <span class='no'>g4</span>, <span class='kw'>family</span> <span class='kw'>=</span> <span class='st'>"multinomial"</span>)
<span class='no'>fit3a</span> <span class='kw'>=</span> <span class='fu'>glmnet</span>(<span class='no'>x</span>, <span class='no'>g4</span>, <span class='kw'>family</span> <span class='kw'>=</span> <span class='st'>"multinomial"</span>, <span class='kw'>type.multinomial</span> <span class='kw'>=</span> <span class='st'>"grouped"</span>)
<span class='co'># poisson</span>
<span class='no'>N</span> <span class='kw'>=</span> <span class='fl'>500</span>
<span class='no'>p</span> <span class='kw'>=</span> <span class='fl'>20</span>
<span class='no'>nzc</span> <span class='kw'>=</span> <span class='fl'>5</span>
<span class='no'>x</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/matrix.html'>matrix</a></span>(<span class='fu'><a href='https://rdrr.io/r/stats/Normal.html'>rnorm</a></span>(<span class='no'>N</span> * <span class='no'>p</span>), <span class='no'>N</span>, <span class='no'>p</span>)
<span class='no'>beta</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/stats/Normal.html'>rnorm</a></span>(<span class='no'>nzc</span>)
<span class='no'>f</span> <span class='kw'>=</span> <span class='no'>x</span>[, <span class='fu'><a href='https://rdrr.io/r/base/seq.html'>seq</a></span>(<span class='no'>nzc</span>)] <span class='kw'>%*%</span> <span class='no'>beta</span>
<span class='no'>mu</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/Log.html'>exp</a></span>(<span class='no'>f</span>)
<span class='no'>y</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/stats/Poisson.html'>rpois</a></span>(<span class='no'>N</span>, <span class='no'>mu</span>)
<span class='no'>fit</span> <span class='kw'>=</span> <span class='fu'>glmnet</span>(<span class='no'>x</span>, <span class='no'>y</span>, <span class='kw'>family</span> <span class='kw'>=</span> <span class='st'>"poisson"</span>)
<span class='fu'><a href='https://rdrr.io/r/graphics/plot.html'>plot</a></span>(<span class='no'>fit</span>)</div><div class='img'><img src='glmnet-2.png' alt='' width='700' height='433' /></div><div class='input'><span class='no'>pfit</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/stats/predict.html'>predict</a></span>(<span class='no'>fit</span>, <span class='no'>x</span>, <span class='kw'>s</span> <span class='kw'>=</span> <span class='fl'>0.001</span>, <span class='kw'>type</span> <span class='kw'>=</span> <span class='st'>"response"</span>)
<span class='fu'><a href='https://rdrr.io/r/graphics/plot.html'>plot</a></span>(<span class='no'>pfit</span>, <span class='no'>y</span>)</div><div class='img'><img src='glmnet-3.png' alt='' width='700' height='433' /></div><div class='input'>
<span class='co'># Cox</span>
<span class='fu'><a href='https://rdrr.io/r/base/Random.html'>set.seed</a></span>(<span class='fl'>10101</span>)
<span class='no'>N</span> <span class='kw'>=</span> <span class='fl'>1000</span>
<span class='no'>p</span> <span class='kw'>=</span> <span class='fl'>30</span>
<span class='no'>nzc</span> <span class='kw'>=</span> <span class='no'>p</span>/<span class='fl'>3</span>
<span class='no'>x</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/matrix.html'>matrix</a></span>(<span class='fu'><a href='https://rdrr.io/r/stats/Normal.html'>rnorm</a></span>(<span class='no'>N</span> * <span class='no'>p</span>), <span class='no'>N</span>, <span class='no'>p</span>)
<span class='no'>beta</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/stats/Normal.html'>rnorm</a></span>(<span class='no'>nzc</span>)
<span class='no'>fx</span> <span class='kw'>=</span> <span class='no'>x</span>[, <span class='fu'><a href='https://rdrr.io/r/base/seq.html'>seq</a></span>(<span class='no'>nzc</span>)] <span class='kw'>%*%</span> <span class='no'>beta</span>/<span class='fl'>3</span>
<span class='no'>hx</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/Log.html'>exp</a></span>(<span class='no'>fx</span>)
<span class='no'>ty</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/stats/Exponential.html'>rexp</a></span>(<span class='no'>N</span>, <span class='no'>hx</span>)
<span class='no'>tcens</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/stats/Binomial.html'>rbinom</a></span>(<span class='kw'>n</span> <span class='kw'>=</span> <span class='no'>N</span>, <span class='kw'>prob</span> <span class='kw'>=</span> <span class='fl'>0.3</span>, <span class='kw'>size</span> <span class='kw'>=</span> <span class='fl'>1</span>)  <span class='co'># censoring indicator</span>
<span class='no'>y</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/cbind.html'>cbind</a></span>(<span class='kw'>time</span> <span class='kw'>=</span> <span class='no'>ty</span>, <span class='kw'>status</span> <span class='kw'>=</span> <span class='fl'>1</span> - <span class='no'>tcens</span>)  <span class='co'># y=Surv(ty,1-tcens) with library(survival)</span>
<span class='no'>fit</span> <span class='kw'>=</span> <span class='fu'>glmnet</span>(<span class='no'>x</span>, <span class='no'>y</span>, <span class='kw'>family</span> <span class='kw'>=</span> <span class='st'>"cox"</span>)
<span class='fu'><a href='https://rdrr.io/r/graphics/plot.html'>plot</a></span>(<span class='no'>fit</span>)</div><div class='img'><img src='glmnet-4.png' alt='' width='700' height='433' /></div><div class='input'>
<span class='co'># Sparse</span>
<span class='no'>n</span> <span class='kw'>=</span> <span class='fl'>10000</span>
<span class='no'>p</span> <span class='kw'>=</span> <span class='fl'>200</span>
<span class='no'>nzc</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/Round.html'>trunc</a></span>(<span class='no'>p</span>/<span class='fl'>10</span>)
<span class='no'>x</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/matrix.html'>matrix</a></span>(<span class='fu'><a href='https://rdrr.io/r/stats/Normal.html'>rnorm</a></span>(<span class='no'>n</span> * <span class='no'>p</span>), <span class='no'>n</span>, <span class='no'>p</span>)
<span class='no'>iz</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/sample.html'>sample</a></span>(<span class='fl'>1</span>:(<span class='no'>n</span> * <span class='no'>p</span>), <span class='kw'>size</span> <span class='kw'>=</span> <span class='no'>n</span> * <span class='no'>p</span> * <span class='fl'>0.85</span>, <span class='kw'>replace</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)
<span class='no'>x</span>[<span class='no'>iz</span>] <span class='kw'>=</span> <span class='fl'>0</span>
<span class='no'>sx</span> <span class='kw'>=</span> <span class='fu'>Matrix</span>(<span class='no'>x</span>, <span class='kw'>sparse</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)
<span class='fu'><a href='https://rdrr.io/r/base/class.html'>inherits</a></span>(<span class='no'>sx</span>, <span class='st'>"sparseMatrix"</span>)  <span class='co'>#confirm that it is sparse</span></div><div class='output co'>#&gt; [1] TRUE</div><div class='input'><span class='no'>beta</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/stats/Normal.html'>rnorm</a></span>(<span class='no'>nzc</span>)
<span class='no'>fx</span> <span class='kw'>=</span> <span class='no'>x</span>[, <span class='fu'><a href='https://rdrr.io/r/base/seq.html'>seq</a></span>(<span class='no'>nzc</span>)] <span class='kw'>%*%</span> <span class='no'>beta</span>
<span class='no'>eps</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/stats/Normal.html'>rnorm</a></span>(<span class='no'>n</span>)
<span class='no'>y</span> <span class='kw'>=</span> <span class='no'>fx</span> + <span class='no'>eps</span>
<span class='no'>px</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/Log.html'>exp</a></span>(<span class='no'>fx</span>)
<span class='no'>px</span> <span class='kw'>=</span> <span class='no'>px</span>/(<span class='fl'>1</span> + <span class='no'>px</span>)
<span class='no'>ly</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/stats/Binomial.html'>rbinom</a></span>(<span class='kw'>n</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/length.html'>length</a></span>(<span class='no'>px</span>), <span class='kw'>prob</span> <span class='kw'>=</span> <span class='no'>px</span>, <span class='kw'>size</span> <span class='kw'>=</span> <span class='fl'>1</span>)
<span class='fu'><a href='https://rdrr.io/r/base/system.time.html'>system.time</a></span>(<span class='no'>fit1</span> <span class='kw'>&lt;-</span> <span class='fu'>glmnet</span>(<span class='no'>sx</span>, <span class='no'>y</span>))</div><div class='output co'>#&gt;    user  system elapsed 
#&gt;   0.299   0.000   0.298 </div><div class='input'><span class='fu'><a href='https://rdrr.io/r/base/system.time.html'>system.time</a></span>(<span class='no'>fit2n</span> <span class='kw'>&lt;-</span> <span class='fu'>glmnet</span>(<span class='no'>x</span>, <span class='no'>y</span>))</div><div class='output co'>#&gt;    user  system elapsed 
#&gt;   0.257   0.008   0.265 </div><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      <li><a href="#value">Value</a></li>
      <li><a href="#details">Details</a></li>
      <li><a href="#references">References</a></li>
      <li><a href="#see-also">See also</a></li>
      <li><a href="#examples">Examples</a></li>
    </ul>

    <h2>Author</h2>
    <p>Jerome Friedman, Trevor Hastie, Balasubramanian Narasimhan, Noah
Simon and Rob Tibshirani<br /> Maintainer: Trevor Hastie
<a href='mailto:hastie@stanford.edu'>hastie@stanford.edu</a></p>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Jerome Friedman, Trevor Hastie, Rob Tibshirani, Balasubramanian Narasimhan, Noah Simon.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


