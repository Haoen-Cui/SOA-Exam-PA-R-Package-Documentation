<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Displaying tables as grid graphics • gridExtra</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Displaying tables as grid graphics">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">gridExtra</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">2.3</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fas fa fas fa-archive fa-lg"></span>
     
    R Packages
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../../boot/index.html">boot</a>
    </li>
    <li>
      <a href="../../broom/index.html">broom</a>
    </li>
    <li>
      <a href="../../caret/index.html">caret</a>
    </li>
    <li>
      <a href="../../cluster/index.html">cluster</a>
    </li>
    <li>
      <a href="../../coefplot/index.html">coefplot</a>
    </li>
    <li>
      <a href="../../data.table/index.html">data.table</a>
    </li>
    <li>
      <a href="../../devtools/index.html">devtools</a>
    </li>
    <li>
      <a href="../../dplyr/index.html">dplyr</a>
    </li>
    <li>
      <a href="../../e1071/index.html">e1071</a>
    </li>
    <li>
      <a href="../../forcats/index.html">forcats</a>
    </li>
    <li>
      <a href="../../gbm/index.html">gbm</a>
    </li>
    <li>
      <a href="../../ggplot2/index.html">ggplot2</a>
    </li>
    <li>
      <a href="../../glmnet/index.html">glmnet</a>
    </li>
    <li>
      <a href="../../gridExtra/index.html">gridExtra</a>
    </li>
    <li>
      <a href="../../ISLR/index.html">ISLR</a>
    </li>
    <li>
      <a href="../../MASS/index.html">MASS</a>
    </li>
    <li>
      <a href="../../pdp/index.html">pdp</a>
    </li>
    <li>
      <a href="../../pls/index.html">pls</a>
    </li>
    <li>
      <a href="../../plyr/index.html">plyr</a>
    </li>
    <li>
      <a href="../../pROC/index.html">pROC</a>
    </li>
    <li>
      <a href="../../purrr/index.html">purrr</a>
    </li>
    <li>
      <a href="../../randomForest/index.html">randomForest</a>
    </li>
    <li>
      <a href="../../readr/index.html">readr</a>
    </li>
    <li>
      <a href="../../rpart/index.html">rpart</a>
    </li>
    <li>
      <a href="../../rpart.plot/index.html">rpart.plot</a>
    </li>
    <li>
      <a href="../../stringr/index.html">stringr</a>
    </li>
    <li>
      <a href="../../tibble/index.html">tibble</a>
    </li>
    <li>
      <a href="../../tidyr/index.html">tidyr</a>
    </li>
    <li>
      <a href="../../xgboost/index.html">xgboost</a>
    </li>
  </ul>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/arrangeGrob.html">Arranging multiple grobs on a page</a>
    </li>
    <li>
      <a href="../articles/gtable.html">(Unofficial) overview of gtable</a>
    </li>
    <li>
      <a href="../articles/ngonGrob.html">Regular polygons and ellipses in grid graphics</a>
    </li>
    <li>
      <a href="../articles/tableGrob.html">Displaying tables as grid graphics</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Displaying tables as grid graphics</h1>
                        <h4 class="author">Baptiste Auguie</h4>
            
            <h4 class="date">2019-12-31</h4>
      
      
      <div class="hidden name"><code>tableGrob.Rmd</code></div>

    </div>

    
    
<p>Tabular data is usually formatted outside the graphics device, e.g via LaTeX, or html tables. However, in some cases it may be convenient to display <em>small</em> tables alongside graphics. A couple of packages offer this possibility with base graphics (<code>plotrix</code> for instance); the <code>gridExtra</code> provides the pair of <code>tableGrob/grid.table</code> functions for this purpose.</p>
<p><em>Note:</em> This vignette uses the development version of <code>gridExtra</code>, some features may not be yet available in the released version.</p>
<div id="basic-usage" class="section level2">
<h2 class="hasAnchor">
<a href="#basic-usage" class="anchor"></a>Basic usage</h2>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(gridExtra)</a>
<a class="sourceLine" id="cb1-2" data-line-number="2"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(grid)</a>
<a class="sourceLine" id="cb1-3" data-line-number="3">d &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/utils/head.html">head</a></span>(iris[,<span class="dv">1</span><span class="op">:</span><span class="dv">3</span>])</a>
<a class="sourceLine" id="cb1-4" data-line-number="4"><span class="kw"><a href="https://rdrr.io/pkg/gridExtra/man/tableGrob.html">grid.table</a></span>(d)</a></code></pre></div>
<p><img src="tableGrob_files/figure-html/basic-1.png" width="384"></p>
</div>
<div id="spacing" class="section level2">
<h2 class="hasAnchor">
<a href="#spacing" class="anchor"></a>Spacing</h2>
<p>The spacing of each row/column is automatic, and will adjust to bigger cell contents. Plotmath notation may be used, with the <code>parse=TRUE</code> argument. Note that this is applied to individual strings of text, and reverts to standard text if parsing fails (this is useful when mixing multiline text with plotmath in different cells).</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1">d[<span class="dv">2</span>,<span class="dv">3</span>] &lt;-<span class="st"> "this is very wwwwwide"</span></a>
<a class="sourceLine" id="cb2-2" data-line-number="2">d[<span class="dv">1</span>,<span class="dv">2</span>] &lt;-<span class="st"> "this</span><span class="ch">\n</span><span class="st">is</span><span class="ch">\n</span><span class="st">tall"</span></a>
<a class="sourceLine" id="cb2-3" data-line-number="3"><span class="kw"><a href="https://rdrr.io/r/base/colnames.html">colnames</a></span>(d) &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"alpha*integral(xdx,a,infinity)"</span>,</a>
<a class="sourceLine" id="cb2-4" data-line-number="4">                 <span class="st">"this text</span><span class="ch">\n</span><span class="st">is high"</span>, <span class="st">'alpha/beta'</span>)</a>
<a class="sourceLine" id="cb2-5" data-line-number="5"></a>
<a class="sourceLine" id="cb2-6" data-line-number="6">tt &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/pkg/gridExtra/man/tableGrob.html">ttheme_default</a></span>(<span class="dt">colhead=</span><span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="dt">fg_params =</span> <span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="dt">parse=</span><span class="ot">TRUE</span>)))</a>
<a class="sourceLine" id="cb2-7" data-line-number="7"><span class="kw"><a href="https://rdrr.io/pkg/gridExtra/man/tableGrob.html">grid.table</a></span>(d, <span class="dt">theme=</span>tt)</a></code></pre></div>
<p><img src="tableGrob_files/figure-html/annotations-1.png" width="384"></p>
</div>
<div id="aesthetic-formatting" class="section level2">
<h2 class="hasAnchor">
<a href="#aesthetic-formatting" class="anchor"></a>Aesthetic formatting</h2>
<p>The formatting is controlled by <em>themes</em>, which are nested lists of graphical parameters. See <code>ttheme_default</code> and <code>ttheme_minimal</code> for two built-in examples. Changing a few parameters at a time amounts to modifying the list with the new values.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1">tt1 &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/pkg/gridExtra/man/tableGrob.html">ttheme_default</a></span>()</a>
<a class="sourceLine" id="cb3-2" data-line-number="2">tt2 &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/pkg/gridExtra/man/tableGrob.html">ttheme_minimal</a></span>()</a>
<a class="sourceLine" id="cb3-3" data-line-number="3">tt3 &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/pkg/gridExtra/man/tableGrob.html">ttheme_minimal</a></span>(</a>
<a class="sourceLine" id="cb3-4" data-line-number="4">  <span class="dt">core=</span><span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="dt">bg_params =</span> <span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="dt">fill =</span> blues9[<span class="dv">1</span><span class="op">:</span><span class="dv">4</span>], <span class="dt">col=</span><span class="ot">NA</span>),</a>
<a class="sourceLine" id="cb3-5" data-line-number="5">            <span class="dt">fg_params=</span><span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="dt">fontface=</span><span class="dv">3</span>)),</a>
<a class="sourceLine" id="cb3-6" data-line-number="6">  <span class="dt">colhead=</span><span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="dt">fg_params=</span><span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="dt">col=</span><span class="st">"navyblue"</span>, <span class="dt">fontface=</span>4L)),</a>
<a class="sourceLine" id="cb3-7" data-line-number="7">  <span class="dt">rowhead=</span><span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="dt">fg_params=</span><span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="dt">col=</span><span class="st">"orange"</span>, <span class="dt">fontface=</span>3L)))</a>
<a class="sourceLine" id="cb3-8" data-line-number="8"></a>
<a class="sourceLine" id="cb3-9" data-line-number="9"><span class="kw"><a href="https://rdrr.io/pkg/gridExtra/man/arrangeGrob.html">grid.arrange</a></span>(</a>
<a class="sourceLine" id="cb3-10" data-line-number="10">  <span class="kw"><a href="../reference/tableGrob.html">tableGrob</a></span>(iris[<span class="dv">1</span><span class="op">:</span><span class="dv">4</span>, <span class="dv">1</span><span class="op">:</span><span class="dv">2</span>], <span class="dt">theme=</span>tt1),</a>
<a class="sourceLine" id="cb3-11" data-line-number="11">  <span class="kw"><a href="../reference/tableGrob.html">tableGrob</a></span>(iris[<span class="dv">1</span><span class="op">:</span><span class="dv">4</span>, <span class="dv">1</span><span class="op">:</span><span class="dv">2</span>], <span class="dt">theme=</span>tt2),</a>
<a class="sourceLine" id="cb3-12" data-line-number="12">  <span class="kw"><a href="../reference/tableGrob.html">tableGrob</a></span>(iris[<span class="dv">1</span><span class="op">:</span><span class="dv">4</span>, <span class="dv">1</span><span class="op">:</span><span class="dv">2</span>], <span class="dt">theme=</span>tt3),</a>
<a class="sourceLine" id="cb3-13" data-line-number="13">  <span class="dt">nrow=</span><span class="dv">1</span>)</a></code></pre></div>
<p><img src="tableGrob_files/figure-html/theme-1.png" width="768"></p>
<p>If the formatting values are fewer than the number of cells, they are recycled along columns,</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1">t1 &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/pkg/gridExtra/man/tableGrob.html">ttheme_default</a></span>(<span class="dt">core=</span><span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(</a>
<a class="sourceLine" id="cb4-2" data-line-number="2">        <span class="dt">fg_params=</span><span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="dt">fontface=</span><span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="kw"><a href="https://rdrr.io/r/base/rep.html">rep</a></span>(<span class="st">"plain"</span>, <span class="dv">4</span>), <span class="st">"bold.italic"</span>)),</a>
<a class="sourceLine" id="cb4-3" data-line-number="3">        <span class="dt">bg_params =</span> <span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="dt">fill=</span><span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="kw"><a href="https://rdrr.io/r/base/rep.html">rep</a></span>(<span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"grey95"</span>, <span class="st">"grey90"</span>),</a>
<a class="sourceLine" id="cb4-4" data-line-number="4">                                    <span class="dt">length.out=</span><span class="dv">4</span>), <span class="st">"#6BAED6"</span>),</a>
<a class="sourceLine" id="cb4-5" data-line-number="5">                         <span class="dt">alpha =</span> <span class="kw"><a href="https://rdrr.io/r/base/rep.html">rep</a></span>(<span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="dv">1</span>,<span class="fl">0.5</span>), <span class="dt">each=</span><span class="dv">5</span>))</a>
<a class="sourceLine" id="cb4-6" data-line-number="6">        ))</a>
<a class="sourceLine" id="cb4-7" data-line-number="7"></a>
<a class="sourceLine" id="cb4-8" data-line-number="8"><span class="kw"><a href="https://rdrr.io/pkg/gridExtra/man/tableGrob.html">grid.table</a></span>(iris[<span class="dv">1</span><span class="op">:</span><span class="dv">5</span>, <span class="dv">1</span><span class="op">:</span><span class="dv">3</span>], <span class="dt">theme =</span> t1)</a></code></pre></div>
<p><img src="tableGrob_files/figure-html/recycling-1.png" width="384"></p>
</div>
<div id="text-justification" class="section level2">
<h2 class="hasAnchor">
<a href="#text-justification" class="anchor"></a>Text justification</h2>
<p>The text labels can be justified; the default is “centre” for the core and header, and “right” for the row names. These settings can be adjusted by passing the relevant parameters of <code>textGrob</code> via the theme nested lists,</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" data-line-number="1">tt1 &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/pkg/gridExtra/man/tableGrob.html">ttheme_default</a></span>()</a>
<a class="sourceLine" id="cb5-2" data-line-number="2">tt2 &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/pkg/gridExtra/man/tableGrob.html">ttheme_default</a></span>(<span class="dt">core=</span><span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="dt">fg_params=</span><span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="dt">hjust=</span><span class="dv">1</span>, <span class="dt">x=</span><span class="fl">0.9</span>)),</a>
<a class="sourceLine" id="cb5-3" data-line-number="3">                      <span class="dt">rowhead=</span><span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="dt">fg_params=</span><span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="dt">hjust=</span><span class="dv">1</span>, <span class="dt">x=</span><span class="fl">0.95</span>)))</a>
<a class="sourceLine" id="cb5-4" data-line-number="4">tt3 &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/pkg/gridExtra/man/tableGrob.html">ttheme_default</a></span>(<span class="dt">core=</span><span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="dt">fg_params=</span><span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="dt">hjust=</span><span class="dv">0</span>, <span class="dt">x=</span><span class="fl">0.1</span>)),</a>
<a class="sourceLine" id="cb5-5" data-line-number="5">                      <span class="dt">rowhead=</span><span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="dt">fg_params=</span><span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="dt">hjust=</span><span class="dv">0</span>, <span class="dt">x=</span><span class="dv">0</span>)))</a>
<a class="sourceLine" id="cb5-6" data-line-number="6"><span class="kw"><a href="https://rdrr.io/pkg/gridExtra/man/arrangeGrob.html">grid.arrange</a></span>(</a>
<a class="sourceLine" id="cb5-7" data-line-number="7">  <span class="kw"><a href="../reference/tableGrob.html">tableGrob</a></span>(mtcars[<span class="dv">1</span><span class="op">:</span><span class="dv">4</span>, <span class="dv">1</span><span class="op">:</span><span class="dv">2</span>], <span class="dt">theme=</span>tt1),</a>
<a class="sourceLine" id="cb5-8" data-line-number="8">  <span class="kw"><a href="../reference/tableGrob.html">tableGrob</a></span>(mtcars[<span class="dv">1</span><span class="op">:</span><span class="dv">4</span>, <span class="dv">1</span><span class="op">:</span><span class="dv">2</span>], <span class="dt">theme=</span>tt2),</a>
<a class="sourceLine" id="cb5-9" data-line-number="9">  <span class="kw"><a href="../reference/tableGrob.html">tableGrob</a></span>(mtcars[<span class="dv">1</span><span class="op">:</span><span class="dv">4</span>, <span class="dv">1</span><span class="op">:</span><span class="dv">2</span>], <span class="dt">theme=</span>tt3),</a>
<a class="sourceLine" id="cb5-10" data-line-number="10">  <span class="dt">nrow=</span><span class="dv">1</span>)</a></code></pre></div>
<p><img src="tableGrob_files/figure-html/justify-1.png" width="768"></p>
</div>
<div id="further-gtable-processing-and-integration" class="section level2">
<h2 class="hasAnchor">
<a href="#further-gtable-processing-and-integration" class="anchor"></a>Further gtable processing and integration</h2>
<p>Being based on <code>gtable</code>, the table can be further processed. In particular, we may edit the cell sizes to align with other content on the page.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" data-line-number="1">g &lt;-<span class="st"> </span>g2 &lt;-<span class="st"> </span><span class="kw"><a href="../reference/tableGrob.html">tableGrob</a></span>(iris[<span class="dv">1</span><span class="op">:</span><span class="dv">4</span>, <span class="dv">1</span><span class="op">:</span><span class="dv">3</span>], <span class="dt">cols =</span> <span class="ot">NULL</span>, <span class="dt">rows=</span><span class="ot">NULL</span>)</a>
<a class="sourceLine" id="cb6-2" data-line-number="2">g2<span class="op">$</span>widths &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/grid/unit.html">unit</a></span>(<span class="kw"><a href="https://rdrr.io/r/base/rep.html">rep</a></span>(<span class="dv">1</span><span class="op">/</span><span class="kw"><a href="https://rdrr.io/r/base/nrow.html">ncol</a></span>(g2), <span class="kw"><a href="https://rdrr.io/r/base/nrow.html">ncol</a></span>(g2)), <span class="st">"npc"</span>)</a>
<a class="sourceLine" id="cb6-3" data-line-number="3"><span class="kw"><a href="https://rdrr.io/pkg/gridExtra/man/arrangeGrob.html">grid.arrange</a></span>(<span class="kw"><a href="https://rdrr.io/r/grid/grid.rect.html">rectGrob</a></span>(), <span class="kw"><a href="https://rdrr.io/r/grid/grid.rect.html">rectGrob</a></span>(), <span class="dt">nrow=</span><span class="dv">1</span>)</a>
<a class="sourceLine" id="cb6-4" data-line-number="4"><span class="kw"><a href="https://rdrr.io/pkg/gridExtra/man/arrangeGrob.html">grid.arrange</a></span>(g, g2, <span class="dt">nrow=</span><span class="dv">1</span>, <span class="dt">newpage =</span> <span class="ot">FALSE</span>)</a></code></pre></div>
<p><img src="tableGrob_files/figure-html/sizes-1.png" width="768"></p>
<p>The alignment of several tables can be achieved with the <code>combine</code> function (adapted from <code>gtable:::join</code>),</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" data-line-number="1">d1 &lt;-<span class="st"> </span>PlantGrowth[<span class="dv">1</span><span class="op">:</span><span class="dv">3</span>,<span class="dv">1</span>, drop=<span class="ot">FALSE</span>]</a>
<a class="sourceLine" id="cb7-2" data-line-number="2">d2 &lt;-<span class="st"> </span>PlantGrowth[<span class="dv">1</span><span class="op">:</span><span class="dv">2</span>,<span class="dv">1</span><span class="op">:</span><span class="dv">2</span>]</a>
<a class="sourceLine" id="cb7-3" data-line-number="3"></a>
<a class="sourceLine" id="cb7-4" data-line-number="4">g1 &lt;-<span class="st"> </span><span class="kw"><a href="../reference/tableGrob.html">tableGrob</a></span>(d1)</a>
<a class="sourceLine" id="cb7-5" data-line-number="5">g2 &lt;-<span class="st"> </span><span class="kw"><a href="../reference/tableGrob.html">tableGrob</a></span>(d2)</a>
<a class="sourceLine" id="cb7-6" data-line-number="6"></a>
<a class="sourceLine" id="cb7-7" data-line-number="7">haligned &lt;-<span class="st"> </span><span class="kw"><a href="../reference/combine.html">gtable_combine</a></span>(g1,g2, <span class="dt">along=</span><span class="dv">1</span>)</a>
<a class="sourceLine" id="cb7-8" data-line-number="8">valigned &lt;-<span class="st"> </span><span class="kw"><a href="../reference/combine.html">gtable_combine</a></span>(g1,g2, <span class="dt">along=</span><span class="dv">2</span>)</a>
<a class="sourceLine" id="cb7-9" data-line-number="9"><span class="kw"><a href="https://rdrr.io/r/grid/grid.newpage.html">grid.newpage</a></span>()</a>
<a class="sourceLine" id="cb7-10" data-line-number="10"><span class="kw"><a href="https://rdrr.io/pkg/gridExtra/man/arrangeGrob.html">grid.arrange</a></span>(haligned, valigned, <span class="dt">ncol=</span><span class="dv">2</span>)</a></code></pre></div>
<p><img src="tableGrob_files/figure-html/align-1.png" width="576"></p>
<div id="borders-and-separators" class="section level3">
<h3 class="hasAnchor">
<a href="#borders-and-separators" class="anchor"></a>Borders and separators</h3>
<p>Other grobs such as separating lines and rectangles (borders, boxes) may be added. In this case, keep in mind that row, column and cell numbering includes the column of row labels and the row of column labels <em>if they are present.</em> Let us illustrate this by adding some borders (using <code>rectGrob</code>) to a simple table without row numbers. We’ll add two actually, to give a nice effect of a heavy line under the row of column headers.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" data-line-number="1"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(gtable)</a>
<a class="sourceLine" id="cb8-2" data-line-number="2">g &lt;-<span class="st"> </span><span class="kw"><a href="../reference/tableGrob.html">tableGrob</a></span>(iris[<span class="dv">1</span><span class="op">:</span><span class="dv">4</span>, <span class="dv">1</span><span class="op">:</span><span class="dv">3</span>], <span class="dt">rows =</span> <span class="ot">NULL</span>)</a>
<a class="sourceLine" id="cb8-3" data-line-number="3">g &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/pkg/gtable/man/gtable_add_grob.html">gtable_add_grob</a></span>(g,</a>
<a class="sourceLine" id="cb8-4" data-line-number="4">        <span class="dt">grobs =</span> <span class="kw"><a href="https://rdrr.io/r/grid/grid.rect.html">rectGrob</a></span>(<span class="dt">gp =</span> <span class="kw"><a href="https://rdrr.io/r/grid/gpar.html">gpar</a></span>(<span class="dt">fill =</span> <span class="ot">NA</span>, <span class="dt">lwd =</span> <span class="dv">2</span>)),</a>
<a class="sourceLine" id="cb8-5" data-line-number="5">        <span class="dt">t =</span> <span class="dv">2</span>, <span class="dt">b =</span> <span class="kw"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span>(g), <span class="dt">l =</span> <span class="dv">1</span>, <span class="dt">r =</span> <span class="kw"><a href="https://rdrr.io/r/base/nrow.html">ncol</a></span>(g))</a>
<a class="sourceLine" id="cb8-6" data-line-number="6">g &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/pkg/gtable/man/gtable_add_grob.html">gtable_add_grob</a></span>(g,</a>
<a class="sourceLine" id="cb8-7" data-line-number="7">        <span class="dt">grobs =</span> <span class="kw"><a href="https://rdrr.io/r/grid/grid.rect.html">rectGrob</a></span>(<span class="dt">gp =</span> <span class="kw"><a href="https://rdrr.io/r/grid/gpar.html">gpar</a></span>(<span class="dt">fill =</span> <span class="ot">NA</span>, <span class="dt">lwd =</span> <span class="dv">2</span>)),</a>
<a class="sourceLine" id="cb8-8" data-line-number="8">        <span class="dt">t =</span> <span class="dv">1</span>, <span class="dt">l =</span> <span class="dv">1</span>, <span class="dt">r =</span> <span class="kw"><a href="https://rdrr.io/r/base/nrow.html">ncol</a></span>(g))</a>
<a class="sourceLine" id="cb8-9" data-line-number="9"><span class="kw"><a href="https://rdrr.io/r/grid/grid.draw.html">grid.draw</a></span>(g)</a></code></pre></div>
<p><img src="tableGrob_files/figure-html/numberingDemo1-1.png" width="384"></p>
<p>Note that when using <code>rectGrob</code> the top, bottom, left and right arguments (<code>t, b, l, r</code>) are the rows and columns which will be <em>inside</em> the rectangle. If we repeat the above code almost exactly, but don’t suppress the column of row labels, we see that column 1 is now the column of row labels (and it doesn’t look that good either, but that’s not our point).</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb9-1" data-line-number="1">g &lt;-<span class="st"> </span><span class="kw"><a href="../reference/tableGrob.html">tableGrob</a></span>(iris[<span class="dv">1</span><span class="op">:</span><span class="dv">4</span>, <span class="dv">1</span><span class="op">:</span><span class="dv">3</span>])</a>
<a class="sourceLine" id="cb9-2" data-line-number="2">g &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/pkg/gtable/man/gtable_add_grob.html">gtable_add_grob</a></span>(g,</a>
<a class="sourceLine" id="cb9-3" data-line-number="3">        <span class="dt">grobs =</span> <span class="kw"><a href="https://rdrr.io/r/grid/grid.rect.html">rectGrob</a></span>(<span class="dt">gp =</span> <span class="kw"><a href="https://rdrr.io/r/grid/gpar.html">gpar</a></span>(<span class="dt">fill =</span> <span class="ot">NA</span>, <span class="dt">lwd =</span> <span class="dv">2</span>)),</a>
<a class="sourceLine" id="cb9-4" data-line-number="4">        <span class="dt">t =</span> <span class="dv">2</span>, <span class="dt">b =</span> <span class="kw"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span>(g), <span class="dt">l =</span> <span class="dv">1</span>, <span class="dt">r =</span> <span class="kw"><a href="https://rdrr.io/r/base/nrow.html">ncol</a></span>(g))</a>
<a class="sourceLine" id="cb9-5" data-line-number="5">g &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/pkg/gtable/man/gtable_add_grob.html">gtable_add_grob</a></span>(g,</a>
<a class="sourceLine" id="cb9-6" data-line-number="6">        <span class="dt">grobs =</span> <span class="kw"><a href="https://rdrr.io/r/grid/grid.rect.html">rectGrob</a></span>(<span class="dt">gp =</span> <span class="kw"><a href="https://rdrr.io/r/grid/gpar.html">gpar</a></span>(<span class="dt">fill =</span> <span class="ot">NA</span>, <span class="dt">lwd =</span> <span class="dv">2</span>)),</a>
<a class="sourceLine" id="cb9-7" data-line-number="7">        <span class="dt">t =</span> <span class="dv">1</span>, <span class="dt">l =</span> <span class="dv">1</span>, <span class="dt">r =</span> <span class="kw"><a href="https://rdrr.io/r/base/nrow.html">ncol</a></span>(g))</a>
<a class="sourceLine" id="cb9-8" data-line-number="8"><span class="kw"><a href="https://rdrr.io/r/grid/grid.draw.html">grid.draw</a></span>(g)</a></code></pre></div>
<p><img src="tableGrob_files/figure-html/numberingDemo2-1.png" width="384"></p>
<p>When adding line segments to separate rows and columns using <code>segmentsGrob</code>, the row and column numbering scheme is the same (it includes any row or column labels). When working with line segments, you should keep in mind the default coordinate values for <code>segmentsGrob</code>. They are x0 = 0, y0 = 0, x1 = 1, y1 = 1, all in npc, relative to the cell(s) you are modifying, with the lower left corner being 0,0. For clarity, we show all the arguments in these examples. With this in mind, to add a line across the bottom of a single cell, use:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb10-1" data-line-number="1">g &lt;-<span class="st"> </span><span class="kw"><a href="../reference/tableGrob.html">tableGrob</a></span>(iris[<span class="dv">1</span><span class="op">:</span><span class="dv">4</span>, <span class="dv">1</span><span class="op">:</span><span class="dv">3</span>])</a>
<a class="sourceLine" id="cb10-2" data-line-number="2">g &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/pkg/gtable/man/gtable_add_grob.html">gtable_add_grob</a></span>(g,</a>
<a class="sourceLine" id="cb10-3" data-line-number="3">        <span class="dt">grobs =</span> <span class="kw"><a href="https://rdrr.io/r/grid/grid.segments.html">segmentsGrob</a></span>( <span class="co"># line across the bottom</span></a>
<a class="sourceLine" id="cb10-4" data-line-number="4">            <span class="dt">x0 =</span> <span class="kw"><a href="https://rdrr.io/r/grid/unit.html">unit</a></span>(<span class="dv">0</span>,<span class="st">"npc"</span>),</a>
<a class="sourceLine" id="cb10-5" data-line-number="5">            <span class="dt">y0 =</span> <span class="kw"><a href="https://rdrr.io/r/grid/unit.html">unit</a></span>(<span class="dv">0</span>,<span class="st">"npc"</span>),</a>
<a class="sourceLine" id="cb10-6" data-line-number="6">            <span class="dt">x1 =</span> <span class="kw"><a href="https://rdrr.io/r/grid/unit.html">unit</a></span>(<span class="dv">1</span>,<span class="st">"npc"</span>),</a>
<a class="sourceLine" id="cb10-7" data-line-number="7">            <span class="dt">y1 =</span> <span class="kw"><a href="https://rdrr.io/r/grid/unit.html">unit</a></span>(<span class="dv">0</span>,<span class="st">"npc"</span>),</a>
<a class="sourceLine" id="cb10-8" data-line-number="8">            <span class="dt">gp =</span> <span class="kw"><a href="https://rdrr.io/r/grid/gpar.html">gpar</a></span>(<span class="dt">lwd =</span> <span class="fl">2.0</span>)),</a>
<a class="sourceLine" id="cb10-9" data-line-number="9">        <span class="dt">t =</span> <span class="dv">3</span>, <span class="dt">b =</span> <span class="dv">3</span>, <span class="dt">l =</span> <span class="dv">3</span>, <span class="dt">r =</span> <span class="dv">3</span>)</a>
<a class="sourceLine" id="cb10-10" data-line-number="10"><span class="kw"><a href="https://rdrr.io/r/grid/grid.draw.html">grid.draw</a></span>(g)</a></code></pre></div>
<p><img src="tableGrob_files/figure-html/segments1-1.png" width="384"></p>
<p>and to add a line to the left side:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb11-1" data-line-number="1">g &lt;-<span class="st"> </span><span class="kw"><a href="../reference/tableGrob.html">tableGrob</a></span>(iris[<span class="dv">1</span><span class="op">:</span><span class="dv">4</span>, <span class="dv">1</span><span class="op">:</span><span class="dv">3</span>])</a>
<a class="sourceLine" id="cb11-2" data-line-number="2">g &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/pkg/gtable/man/gtable_add_grob.html">gtable_add_grob</a></span>(g,</a>
<a class="sourceLine" id="cb11-3" data-line-number="3">        <span class="dt">grobs =</span> <span class="kw"><a href="https://rdrr.io/r/grid/grid.segments.html">segmentsGrob</a></span>( <span class="co"># line across the bottom</span></a>
<a class="sourceLine" id="cb11-4" data-line-number="4">      <span class="dt">x0 =</span> <span class="kw"><a href="https://rdrr.io/r/grid/unit.html">unit</a></span>(<span class="dv">0</span>,<span class="st">"npc"</span>),</a>
<a class="sourceLine" id="cb11-5" data-line-number="5">            <span class="dt">y0 =</span> <span class="kw"><a href="https://rdrr.io/r/grid/unit.html">unit</a></span>(<span class="dv">0</span>,<span class="st">"npc"</span>),</a>
<a class="sourceLine" id="cb11-6" data-line-number="6">            <span class="dt">x1 =</span> <span class="kw"><a href="https://rdrr.io/r/grid/unit.html">unit</a></span>(<span class="dv">0</span>,<span class="st">"npc"</span>),</a>
<a class="sourceLine" id="cb11-7" data-line-number="7">            <span class="dt">y1 =</span> <span class="kw"><a href="https://rdrr.io/r/grid/unit.html">unit</a></span>(<span class="dv">1</span>,<span class="st">"npc"</span>),</a>
<a class="sourceLine" id="cb11-8" data-line-number="8">            <span class="dt">gp =</span> <span class="kw"><a href="https://rdrr.io/r/grid/gpar.html">gpar</a></span>(<span class="dt">lwd =</span> <span class="fl">2.0</span>)),</a>
<a class="sourceLine" id="cb11-9" data-line-number="9">        <span class="dt">t =</span> <span class="dv">3</span>, <span class="dt">b =</span> <span class="dv">3</span>, <span class="dt">l =</span> <span class="dv">3</span>, <span class="dt">r =</span> <span class="dv">3</span>)</a>
<a class="sourceLine" id="cb11-10" data-line-number="10"><span class="kw"><a href="https://rdrr.io/r/grid/grid.draw.html">grid.draw</a></span>(g)</a></code></pre></div>
<p><img src="tableGrob_files/figure-html/segments2-1.png" width="384"></p>
<p>Perhaps you’d like to cross out a cell. This can be done with two diagonal lines combined via a <code>grobTree</code>:</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb12-1" data-line-number="1">g &lt;-<span class="st"> </span><span class="kw"><a href="../reference/tableGrob.html">tableGrob</a></span>(iris[<span class="dv">1</span><span class="op">:</span><span class="dv">4</span>, <span class="dv">1</span><span class="op">:</span><span class="dv">3</span>])</a>
<a class="sourceLine" id="cb12-2" data-line-number="2">g &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/pkg/gtable/man/gtable_add_grob.html">gtable_add_grob</a></span>(g,</a>
<a class="sourceLine" id="cb12-3" data-line-number="3">        <span class="dt">grobs =</span> <span class="kw"><a href="https://rdrr.io/r/grid/grid.grob.html">grobTree</a></span>(</a>
<a class="sourceLine" id="cb12-4" data-line-number="4">            <span class="kw"><a href="https://rdrr.io/r/grid/grid.segments.html">segmentsGrob</a></span>( <span class="co"># diagonal line ul -&gt; lr</span></a>
<a class="sourceLine" id="cb12-5" data-line-number="5">                <span class="dt">x0 =</span> <span class="kw"><a href="https://rdrr.io/r/grid/unit.html">unit</a></span>(<span class="dv">0</span>,<span class="st">"npc"</span>),</a>
<a class="sourceLine" id="cb12-6" data-line-number="6">                <span class="dt">y0 =</span> <span class="kw"><a href="https://rdrr.io/r/grid/unit.html">unit</a></span>(<span class="dv">1</span>,<span class="st">"npc"</span>),</a>
<a class="sourceLine" id="cb12-7" data-line-number="7">                <span class="dt">x1 =</span> <span class="kw"><a href="https://rdrr.io/r/grid/unit.html">unit</a></span>(<span class="dv">1</span>,<span class="st">"npc"</span>),</a>
<a class="sourceLine" id="cb12-8" data-line-number="8">                <span class="dt">y1 =</span> <span class="kw"><a href="https://rdrr.io/r/grid/unit.html">unit</a></span>(<span class="dv">0</span>,<span class="st">"npc"</span>),</a>
<a class="sourceLine" id="cb12-9" data-line-number="9">                <span class="dt">gp =</span> <span class="kw"><a href="https://rdrr.io/r/grid/gpar.html">gpar</a></span>(<span class="dt">lwd =</span> <span class="fl">2.0</span>)),</a>
<a class="sourceLine" id="cb12-10" data-line-number="10">            <span class="kw"><a href="https://rdrr.io/r/grid/grid.segments.html">segmentsGrob</a></span>( <span class="co"># diagonal line ll -&gt; ur</span></a>
<a class="sourceLine" id="cb12-11" data-line-number="11">                <span class="dt">x0 =</span> <span class="kw"><a href="https://rdrr.io/r/grid/unit.html">unit</a></span>(<span class="dv">0</span>,<span class="st">"npc"</span>),</a>
<a class="sourceLine" id="cb12-12" data-line-number="12">                <span class="dt">y0 =</span> <span class="kw"><a href="https://rdrr.io/r/grid/unit.html">unit</a></span>(<span class="dv">0</span>,<span class="st">"npc"</span>),</a>
<a class="sourceLine" id="cb12-13" data-line-number="13">                <span class="dt">x1 =</span> <span class="kw"><a href="https://rdrr.io/r/grid/unit.html">unit</a></span>(<span class="dv">1</span>,<span class="st">"npc"</span>),</a>
<a class="sourceLine" id="cb12-14" data-line-number="14">                <span class="dt">y1 =</span> <span class="kw"><a href="https://rdrr.io/r/grid/unit.html">unit</a></span>(<span class="dv">1</span>,<span class="st">"npc"</span>),</a>
<a class="sourceLine" id="cb12-15" data-line-number="15">                <span class="dt">gp =</span> <span class="kw"><a href="https://rdrr.io/r/grid/gpar.html">gpar</a></span>(<span class="dt">lwd =</span> <span class="fl">2.0</span>))),</a>
<a class="sourceLine" id="cb12-16" data-line-number="16">        <span class="dt">t =</span> <span class="dv">3</span>, <span class="dt">b =</span> <span class="dv">3</span>, <span class="dt">l =</span> <span class="dv">3</span>, <span class="dt">r =</span> <span class="dv">3</span>)</a>
<a class="sourceLine" id="cb12-17" data-line-number="17"><span class="kw"><a href="https://rdrr.io/r/grid/grid.draw.html">grid.draw</a></span>(g)</a></code></pre></div>
<p><img src="tableGrob_files/figure-html/segments3-1.png" width="384"></p>
<p>If you have many cells to decorate you can use <code>replicate</code> to create create the segments. Just keep the <code>tableGrob</code> numbering scheme in mind.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb13-1" data-line-number="1">g &lt;-<span class="st"> </span><span class="kw"><a href="../reference/tableGrob.html">tableGrob</a></span>(<span class="kw"><a href="https://rdrr.io/r/utils/head.html">head</a></span>(iris), <span class="dt">theme =</span> <span class="kw"><a href="https://rdrr.io/pkg/gridExtra/man/tableGrob.html">ttheme_minimal</a></span>())</a>
<a class="sourceLine" id="cb13-2" data-line-number="2">separators &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/lapply.html">replicate</a></span>(<span class="kw"><a href="https://rdrr.io/r/base/nrow.html">ncol</a></span>(g) <span class="op">-</span><span class="st"> </span><span class="dv">2</span>,</a>
<a class="sourceLine" id="cb13-3" data-line-number="3">                     <span class="kw"><a href="https://rdrr.io/r/grid/grid.segments.html">segmentsGrob</a></span>(<span class="dt">x1 =</span> <span class="kw"><a href="https://rdrr.io/r/grid/unit.html">unit</a></span>(<span class="dv">0</span>, <span class="st">"npc"</span>), <span class="dt">gp=</span><span class="kw"><a href="https://rdrr.io/r/grid/gpar.html">gpar</a></span>(<span class="dt">lty=</span><span class="dv">2</span>)),</a>
<a class="sourceLine" id="cb13-4" data-line-number="4">                     <span class="dt">simplify=</span><span class="ot">FALSE</span>)</a>
<a class="sourceLine" id="cb13-5" data-line-number="5">## add vertical lines on the left side of columns (after 2nd)</a>
<a class="sourceLine" id="cb13-6" data-line-number="6">g &lt;-<span class="st"> </span>gtable<span class="op">::</span><span class="kw"><a href="https://rdrr.io/pkg/gtable/man/gtable_add_grob.html">gtable_add_grob</a></span>(g, <span class="dt">grobs =</span> separators,</a>
<a class="sourceLine" id="cb13-7" data-line-number="7">                     <span class="dt">t =</span> <span class="dv">2</span>, <span class="dt">b =</span> <span class="kw"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span>(g), <span class="dt">l =</span> <span class="kw"><a href="https://rdrr.io/r/base/seq.html">seq_len</a></span>(<span class="kw"><a href="https://rdrr.io/r/base/nrow.html">ncol</a></span>(g)<span class="op">-</span><span class="dv">2</span>)<span class="op">+</span><span class="dv">2</span>)</a>
<a class="sourceLine" id="cb13-8" data-line-number="8"><span class="kw"><a href="https://rdrr.io/r/grid/grid.draw.html">grid.draw</a></span>(g)</a></code></pre></div>
<p><img src="tableGrob_files/figure-html/separators-1.png" width="768"></p>
</div>
<div id="accessing-existing-grobs-in-the-table" class="section level3">
<h3 class="hasAnchor">
<a href="#accessing-existing-grobs-in-the-table" class="anchor"></a>Accessing existing grobs in the table</h3>
<p>We may also access and modify the original content of individual cells, e.g. to highlight a value.</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb14-1" data-line-number="1">g &lt;-<span class="st"> </span><span class="kw"><a href="../reference/tableGrob.html">tableGrob</a></span>(iris[<span class="dv">1</span><span class="op">:</span><span class="dv">4</span>, <span class="dv">1</span><span class="op">:</span><span class="dv">3</span>])</a>
<a class="sourceLine" id="cb14-2" data-line-number="2">find_cell &lt;-<span class="st"> </span><span class="cf">function</span>(table, row, col, <span class="dt">name=</span><span class="st">"core-fg"</span>){</a>
<a class="sourceLine" id="cb14-3" data-line-number="3">  l &lt;-<span class="st"> </span>table<span class="op">$</span>layout</a>
<a class="sourceLine" id="cb14-4" data-line-number="4">  <span class="kw"><a href="https://rdrr.io/r/base/which.html">which</a></span>(l<span class="op">$</span>t<span class="op">==</span>row <span class="op">&amp;</span><span class="st"> </span>l<span class="op">$</span>l<span class="op">==</span>col <span class="op">&amp;</span><span class="st"> </span>l<span class="op">$</span>name<span class="op">==</span>name)</a>
<a class="sourceLine" id="cb14-5" data-line-number="5">}</a>
<a class="sourceLine" id="cb14-6" data-line-number="6"></a>
<a class="sourceLine" id="cb14-7" data-line-number="7">ind &lt;-<span class="st"> </span><span class="kw">find_cell</span>(g, <span class="dv">3</span>, <span class="dv">2</span>, <span class="st">"core-fg"</span>)</a>
<a class="sourceLine" id="cb14-8" data-line-number="8">ind2 &lt;-<span class="st"> </span><span class="kw">find_cell</span>(g, <span class="dv">2</span>, <span class="dv">3</span>, <span class="st">"core-bg"</span>)</a>
<a class="sourceLine" id="cb14-9" data-line-number="9">g<span class="op">$</span>grobs[ind][[<span class="dv">1</span>]][[<span class="st">"gp"</span>]] &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/grid/gpar.html">gpar</a></span>(<span class="dt">fontsize=</span><span class="dv">15</span>, <span class="dt">fontface=</span><span class="st">"bold"</span>)</a>
<a class="sourceLine" id="cb14-10" data-line-number="10">g<span class="op">$</span>grobs[ind2][[<span class="dv">1</span>]][[<span class="st">"gp"</span>]] &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/grid/gpar.html">gpar</a></span>(<span class="dt">fill=</span><span class="st">"darkolivegreen1"</span>, <span class="dt">col =</span> <span class="st">"darkolivegreen4"</span>, <span class="dt">lwd=</span><span class="dv">5</span>)</a>
<a class="sourceLine" id="cb14-11" data-line-number="11"><span class="kw"><a href="https://rdrr.io/r/grid/grid.draw.html">grid.draw</a></span>(g)</a></code></pre></div>
<p><img src="tableGrob_files/figure-html/highlight-1.png" width="384"></p>
</div>
</div>
<div id="faster-tables-an-alternative-grid-function" class="section level2">
<h2 class="hasAnchor">
<a href="#faster-tables-an-alternative-grid-function" class="anchor"></a>Faster tables: an alternative grid function</h2>
<p>The <code>tableGrob</code> function can be very slow; unfortunately this is the price to pay for its versatility and easier implementation. We use individual <code>textGrob</code> and <code>rectGrob</code> elements for each cell, instead of relying on the vectorised implementation of these functions. The reason is practical: it is much easier to place, measure, and customise individual grobs, than modify the graphical parameters and positions of a single vectorised grob. An alternative function is presented below, using this vectorised approach, but lacking many of the customisations of <code>tableGrob</code>.</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb15-1" data-line-number="1">grid.ftable &lt;-<span class="st"> </span><span class="cf">function</span>(d, <span class="dt">padding =</span> <span class="kw"><a href="https://rdrr.io/r/grid/unit.html">unit</a></span>(<span class="dv">4</span>, <span class="st">"mm"</span>), ...) {</a>
<a class="sourceLine" id="cb15-2" data-line-number="2"></a>
<a class="sourceLine" id="cb15-3" data-line-number="3">  nc &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/nrow.html">ncol</a></span>(d)</a>
<a class="sourceLine" id="cb15-4" data-line-number="4">  nr &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span>(d)</a>
<a class="sourceLine" id="cb15-5" data-line-number="5"></a>
<a class="sourceLine" id="cb15-6" data-line-number="6">  ## character table with added row and column names</a>
<a class="sourceLine" id="cb15-7" data-line-number="7">  extended_matrix &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/cbind.html">cbind</a></span>(<span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">""</span>, <span class="kw"><a href="https://rdrr.io/r/base/colnames.html">rownames</a></span>(d)),</a>
<a class="sourceLine" id="cb15-8" data-line-number="8">                           <span class="kw"><a href="https://rdrr.io/r/base/cbind.html">rbind</a></span>(<span class="kw"><a href="https://rdrr.io/r/base/colnames.html">colnames</a></span>(d),</a>
<a class="sourceLine" id="cb15-9" data-line-number="9">                                 <span class="kw"><a href="https://rdrr.io/r/base/matrix.html">as.matrix</a></span>(d)))</a>
<a class="sourceLine" id="cb15-10" data-line-number="10"></a>
<a class="sourceLine" id="cb15-11" data-line-number="11">  ## string width and height</a>
<a class="sourceLine" id="cb15-12" data-line-number="12">  w &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/apply.html">apply</a></span>(extended_matrix, <span class="dv">2</span>, strwidth, <span class="st">"inch"</span>)</a>
<a class="sourceLine" id="cb15-13" data-line-number="13">  h &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/apply.html">apply</a></span>(extended_matrix, <span class="dv">2</span>, strheight, <span class="st">"inch"</span>)</a>
<a class="sourceLine" id="cb15-14" data-line-number="14"></a>
<a class="sourceLine" id="cb15-15" data-line-number="15">  widths &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/apply.html">apply</a></span>(w, <span class="dv">2</span>, max)</a>
<a class="sourceLine" id="cb15-16" data-line-number="16">  heights &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/apply.html">apply</a></span>(h, <span class="dv">1</span>, max)</a>
<a class="sourceLine" id="cb15-17" data-line-number="17"></a>
<a class="sourceLine" id="cb15-18" data-line-number="18">  padding &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/grid/grid.convert.html">convertUnit</a></span>(padding, <span class="dt">unitTo =</span> <span class="st">"in"</span>, <span class="dt">valueOnly =</span> <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb15-19" data-line-number="19"></a>
<a class="sourceLine" id="cb15-20" data-line-number="20">  x &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/cumsum.html">cumsum</a></span>(widths <span class="op">+</span><span class="st"> </span>padding) <span class="op">-</span><span class="st"> </span><span class="fl">0.5</span> <span class="op">*</span><span class="st"> </span>padding</a>
<a class="sourceLine" id="cb15-21" data-line-number="21">  y &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/cumsum.html">cumsum</a></span>(heights <span class="op">+</span><span class="st"> </span>padding) <span class="op">-</span><span class="st"> </span>padding</a>
<a class="sourceLine" id="cb15-22" data-line-number="22"></a>
<a class="sourceLine" id="cb15-23" data-line-number="23">  rg &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/grid/grid.rect.html">rectGrob</a></span>(<span class="dt">x =</span> <span class="kw"><a href="https://rdrr.io/r/grid/unit.html">unit</a></span>(x <span class="op">-</span><span class="st"> </span>widths<span class="op">/</span><span class="dv">2</span>, <span class="st">"in"</span>),</a>
<a class="sourceLine" id="cb15-24" data-line-number="24">                 <span class="dt">y =</span> <span class="kw"><a href="https://rdrr.io/r/grid/unit.html">unit</a></span>(<span class="dv">1</span>, <span class="st">"npc"</span>) <span class="op">-</span><span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/grid/unit.html">unit</a></span>(<span class="kw"><a href="https://rdrr.io/r/base/rep.html">rep</a></span>(y, <span class="dt">each =</span> nc <span class="op">+</span><span class="st"> </span><span class="dv">1</span>), <span class="st">"in"</span>),</a>
<a class="sourceLine" id="cb15-25" data-line-number="25">                 <span class="dt">width =</span> <span class="kw"><a href="https://rdrr.io/r/grid/unit.html">unit</a></span>(widths <span class="op">+</span><span class="st"> </span>padding, <span class="st">"in"</span>),</a>
<a class="sourceLine" id="cb15-26" data-line-number="26">                 <span class="dt">height =</span> <span class="kw"><a href="https://rdrr.io/r/grid/unit.html">unit</a></span>(heights <span class="op">+</span><span class="st"> </span>padding, <span class="st">"in"</span>))</a>
<a class="sourceLine" id="cb15-27" data-line-number="27"></a>
<a class="sourceLine" id="cb15-28" data-line-number="28">  tg &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/grid/grid.text.html">textGrob</a></span>(<span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="kw"><a href="https://rdrr.io/r/base/t.html">t</a></span>(extended_matrix)), <span class="dt">x =</span> <span class="kw"><a href="https://rdrr.io/r/grid/unit.html">unit</a></span>(x <span class="op">-</span><span class="st"> </span>widths<span class="op">/</span><span class="dv">2</span>, <span class="st">"in"</span>),</a>
<a class="sourceLine" id="cb15-29" data-line-number="29">                 <span class="dt">y =</span> <span class="kw"><a href="https://rdrr.io/r/grid/unit.html">unit</a></span>(<span class="dv">1</span>, <span class="st">"npc"</span>) <span class="op">-</span><span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/grid/unit.html">unit</a></span>(<span class="kw"><a href="https://rdrr.io/r/base/rep.html">rep</a></span>(y, <span class="dt">each =</span> nc <span class="op">+</span><span class="st"> </span><span class="dv">1</span>), <span class="st">"in"</span>),</a>
<a class="sourceLine" id="cb15-30" data-line-number="30">                 <span class="dt">just =</span> <span class="st">"center"</span>)</a>
<a class="sourceLine" id="cb15-31" data-line-number="31"></a>
<a class="sourceLine" id="cb15-32" data-line-number="32">  g &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/grid/grid.grob.html">gTree</a></span>(<span class="dt">children =</span> <span class="kw"><a href="https://rdrr.io/r/grid/grid.grob.html">gList</a></span>(rg, tg), ...,</a>
<a class="sourceLine" id="cb15-33" data-line-number="33">             <span class="dt">x =</span> x, <span class="dt">y =</span> y, <span class="dt">widths =</span> widths, <span class="dt">heights =</span> heights)</a>
<a class="sourceLine" id="cb15-34" data-line-number="34"></a>
<a class="sourceLine" id="cb15-35" data-line-number="35">  <span class="kw"><a href="https://rdrr.io/r/grid/grid.draw.html">grid.draw</a></span>(g)</a>
<a class="sourceLine" id="cb15-36" data-line-number="36">  <span class="kw"><a href="https://rdrr.io/r/base/invisible.html">invisible</a></span>(g)</a>
<a class="sourceLine" id="cb15-37" data-line-number="37">}</a>
<a class="sourceLine" id="cb15-38" data-line-number="38"></a>
<a class="sourceLine" id="cb15-39" data-line-number="39"><span class="kw"><a href="https://rdrr.io/r/grid/grid.newpage.html">grid.newpage</a></span>()</a>
<a class="sourceLine" id="cb15-40" data-line-number="40"><span class="kw">grid.ftable</span>(<span class="kw"><a href="https://rdrr.io/r/utils/head.html">head</a></span>(iris, <span class="dv">4</span>), <span class="dt">gp =</span> <span class="kw"><a href="https://rdrr.io/r/grid/gpar.html">gpar</a></span>(<span class="dt">fill =</span> <span class="kw"><a href="https://rdrr.io/r/base/rep.html">rep</a></span>(<span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"grey90"</span>, <span class="st">"grey95"</span>), <span class="dt">each =</span> <span class="dv">6</span>)))</a></code></pre></div>
<p><img src="tableGrob_files/figure-html/ftable-1.png" width="576"></p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">

        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#basic-usage">Basic usage</a></li>
      <li><a href="#spacing">Spacing</a></li>
      <li><a href="#aesthetic-formatting">Aesthetic formatting</a></li>
      <li><a href="#text-justification">Text justification</a></li>
      <li><a href="#further-gtable-processing-and-integration">Further gtable processing and integration</a></li>
      <li><a href="#faster-tables-an-alternative-grid-function">Faster tables: an alternative grid function</a></li>
      </ul>
</div>
      </div>

</div>



      <footer><div class="copyright">
  <p>Developed by Baptiste Auguie.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
