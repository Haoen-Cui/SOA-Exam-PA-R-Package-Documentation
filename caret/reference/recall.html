<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Calculate recall, precision and F values — recall • caret</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Calculate recall, precision and F values — recall" />
<meta property="og:description" content="These functions calculate the recall, precision or F values of a measurement
system for finding/retrieving relevant documents compared to reference
results (the truth regarding relevance). The measurement and &quot;truth&quot; data
must have the same two possible outcomes and one of the outcomes must be
thought of as a &quot;relevant&quot; results." />
<meta name="twitter:card" content="summary" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">caret</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">6.0.84</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fas fa fas fa-archive fa-lg"></span>
     
    R Packages
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../../boot/index.html">boot</a>
    </li>
    <li>
      <a href="../../broom/index.html">broom</a>
    </li>
    <li>
      <a href="../../caret/index.html">caret</a>
    </li>
    <li>
      <a href="../../cluster/index.html">cluster</a>
    </li>
    <li>
      <a href="../../coefplot/index.html">coefplot</a>
    </li>
    <li>
      <a href="../../data.table/index.html">data.table</a>
    </li>
    <li>
      <a href="../../devtools/index.html">devtools</a>
    </li>
    <li>
      <a href="../../dplyr/index.html">dplyr</a>
    </li>
    <li>
      <a href="../../e1071/index.html">e1071</a>
    </li>
    <li>
      <a href="../../forcats/index.html">forcats</a>
    </li>
    <li>
      <a href="../../gbm/index.html">gbm</a>
    </li>
    <li>
      <a href="../../ggplot2/index.html">ggplot2</a>
    </li>
    <li>
      <a href="../../glmnet/index.html">glmnet</a>
    </li>
    <li>
      <a href="../../gridExtra/index.html">gridExtra</a>
    </li>
    <li>
      <a href="../../ISLR/index.html">ISLR</a>
    </li>
    <li>
      <a href="../../MASS/index.html">MASS</a>
    </li>
    <li>
      <a href="../../pdp/index.html">pdp</a>
    </li>
    <li>
      <a href="../../pls/index.html">pls</a>
    </li>
    <li>
      <a href="../../plyr/index.html">plyr</a>
    </li>
    <li>
      <a href="../../pROC/index.html">pROC</a>
    </li>
    <li>
      <a href="../../purrr/index.html">purrr</a>
    </li>
    <li>
      <a href="../../randomForest/index.html">randomForest</a>
    </li>
    <li>
      <a href="../../readr/index.html">readr</a>
    </li>
    <li>
      <a href="../../rpart/index.html">rpart</a>
    </li>
    <li>
      <a href="../../rpart.plot/index.html">rpart.plot</a>
    </li>
    <li>
      <a href="../../stringr/index.html">stringr</a>
    </li>
    <li>
      <a href="../../tibble/index.html">tibble</a>
    </li>
    <li>
      <a href="../../tidyr/index.html">tidyr</a>
    </li>
    <li>
      <a href="../../xgboost/index.html">xgboost</a>
    </li>
  </ul>
</li>
<li>
  <a href="../articles/caret.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/topepo/caret">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Calculate recall, precision and F values</h1>
    <small class="dont-index">Source: <a href='https://github.com/topepo/caret/blob/master/R/prec_rec.R'><code>R/prec_rec.R</code></a></small>
    <div class="hidden name"><code>recall.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>These functions calculate the recall, precision or F values of a measurement
system for finding/retrieving relevant documents compared to reference
results (the truth regarding relevance). The measurement and "truth" data
must have the same two possible outcomes and one of the outcomes must be
thought of as a "relevant" results.</p>
    </div>

    <pre class="usage"><span class='fu'>recall</span>(<span class='no'>data</span>, <span class='no'>...</span>)

<span class='co'># S3 method for table</span>
<span class='fu'>recall</span>(<span class='no'>data</span>, <span class='kw'>relevant</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/colnames.html'>rownames</a></span>(<span class='no'>data</span>)[<span class='fl'>1</span>], <span class='no'>...</span>)

<span class='co'># S3 method for default</span>
<span class='fu'>recall</span>(<span class='no'>data</span>, <span class='no'>reference</span>,
  <span class='kw'>relevant</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/levels.html'>levels</a></span>(<span class='no'>reference</span>)[<span class='fl'>1</span>], <span class='kw'>na.rm</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='no'>...</span>)

<span class='fu'>precision</span>(<span class='no'>data</span>, <span class='no'>...</span>)

<span class='co'># S3 method for default</span>
<span class='fu'>precision</span>(<span class='no'>data</span>, <span class='no'>reference</span>,
  <span class='kw'>relevant</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/levels.html'>levels</a></span>(<span class='no'>reference</span>)[<span class='fl'>1</span>], <span class='kw'>na.rm</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='no'>...</span>)

<span class='co'># S3 method for table</span>
<span class='fu'>precision</span>(<span class='no'>data</span>, <span class='kw'>relevant</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/colnames.html'>rownames</a></span>(<span class='no'>data</span>)[<span class='fl'>1</span>], <span class='no'>...</span>)

<span class='fu'>F_meas</span>(<span class='no'>data</span>, <span class='no'>...</span>)

<span class='co'># S3 method for default</span>
<span class='fu'>F_meas</span>(<span class='no'>data</span>, <span class='no'>reference</span>,
  <span class='kw'>relevant</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/levels.html'>levels</a></span>(<span class='no'>reference</span>)[<span class='fl'>1</span>], <span class='kw'>beta</span> <span class='kw'>=</span> <span class='fl'>1</span>, <span class='kw'>na.rm</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='no'>...</span>)

<span class='co'># S3 method for table</span>
<span class='fu'>F_meas</span>(<span class='no'>data</span>, <span class='kw'>relevant</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/colnames.html'>rownames</a></span>(<span class='no'>data</span>)[<span class='fl'>1</span>], <span class='kw'>beta</span> <span class='kw'>=</span> <span class='fl'>1</span>,
  <span class='no'>...</span>)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>data</th>
      <td><p>for the default functions, a factor containing the discrete
measurements. For the <code>table</code> function, a table.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>not currently used</p></td>
    </tr>
    <tr>
      <th>relevant</th>
      <td><p>a character string that defines the factor level
corresponding to the "relevant" results</p></td>
    </tr>
    <tr>
      <th>reference</th>
      <td><p>a factor containing the reference values (i.e. truth)</p></td>
    </tr>
    <tr>
      <th>na.rm</th>
      <td><p>a logical value indicating whether <code>NA</code> values should be
stripped before the computation proceeds</p></td>
    </tr>
    <tr>
      <th>beta</th>
      <td><p>a numeric value used to weight precision and recall. A value of
1 is traditionally used and corresponds to the harmonic mean of the two
values but other values weight recall beta times more important than
precision.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A number between 0 and 1 (or NA).</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>The recall (aka sensitivity) is defined as the proportion of relevant
results out of the number of samples which were actually relevant. When
there are no relevant results, recall is not defined and a value of
<code>NA</code> is returned.</p>
<p>The precision is percentage of predicted truly relevant results of the total
number of predicted relevant results and characterizes the "purity in
retrieval performance" (Buckland and Gey, 1994)</p>
<p>The measure "F" is a combination of precision and recall (see below).</p>
<p>Suppose a 2x2 table with notation</p>
<table class='table'>
<tr><td></td><td>Reference</td><td></td></tr>
<tr><td>Predicted</td><td>relevant</td><td>Irrelevant</td></tr>
<tr><td>relevant</td><td>A</td><td>B</td></tr>
<tr><td>Irrelevant</td><td>C</td><td>D</td></tr>
</table>


<p>The formulas used here are: $$recall = A/(A+C)$$ $$precision =
A/(A+B)$$ $$F_i = (1+i^2)*prec*recall/((i^2 * precision)+recall)$$</p>
<p>See the references for discussions of the statistics.</p>
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>Kuhn, M. (2008), ``Building predictive models in R using the
caret package, '' <em>Journal of Statistical Software</em>,
(<a href='http://www.jstatsoft.org/article/view/v028i05/v28i05.pdf'>http://www.jstatsoft.org/article/view/v028i05/v28i05.pdf</a>).</p>
<p>Buckland, M., &amp; Gey, F. (1994). The relationship between Recall and
Precision. <em>Journal of the American Society for Information Science</em>,
45(1), 12-19.</p>
<p>Powers, D. (2007). Evaluation: From Precision, Recall and F Factor to ROC,
Informedness, Markedness and Correlation. Technical Report SIE-07-001,
Flinders University</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='confusionMatrix.html'>confusionMatrix</a></code></p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'>
<span class='co'>###################</span>
<span class='co'>## Data in Table 2 of Powers (2007)</span>

<span class='no'>lvs</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"Relevant"</span>, <span class='st'>"Irrelevant"</span>)
<span class='no'>tbl_2_1_pred</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/factor.html'>factor</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/rep.html'>rep</a></span>(<span class='no'>lvs</span>, <span class='kw'>times</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>42</span>, <span class='fl'>58</span>)), <span class='kw'>levels</span> <span class='kw'>=</span> <span class='no'>lvs</span>)
<span class='no'>tbl_2_1_truth</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/factor.html'>factor</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/rep.html'>rep</a></span>(<span class='no'>lvs</span>, <span class='kw'>times</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>30</span>, <span class='fl'>12</span>)),
                          <span class='fu'><a href='https://rdrr.io/r/base/rep.html'>rep</a></span>(<span class='no'>lvs</span>, <span class='kw'>times</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>30</span>, <span class='fl'>28</span>))),
                        <span class='kw'>levels</span> <span class='kw'>=</span> <span class='no'>lvs</span>)
<span class='no'>tbl_2_1</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/table.html'>table</a></span>(<span class='no'>tbl_2_1_pred</span>, <span class='no'>tbl_2_1_truth</span>)

<span class='fu'>precision</span>(<span class='no'>tbl_2_1</span>)</div><div class='output co'>#&gt; [1] 0.7142857</div><div class='input'><span class='fu'>precision</span>(<span class='kw'>data</span> <span class='kw'>=</span> <span class='no'>tbl_2_1_pred</span>, <span class='kw'>reference</span> <span class='kw'>=</span> <span class='no'>tbl_2_1_truth</span>, <span class='kw'>relevant</span> <span class='kw'>=</span> <span class='st'>"Relevant"</span>)</div><div class='output co'>#&gt; [1] 0.7142857</div><div class='input'><span class='fu'>recall</span>(<span class='no'>tbl_2_1</span>)</div><div class='output co'>#&gt; [1] 0.5</div><div class='input'><span class='fu'>recall</span>(<span class='kw'>data</span> <span class='kw'>=</span> <span class='no'>tbl_2_1_pred</span>, <span class='kw'>reference</span> <span class='kw'>=</span> <span class='no'>tbl_2_1_truth</span>, <span class='kw'>relevant</span> <span class='kw'>=</span> <span class='st'>"Relevant"</span>)</div><div class='output co'>#&gt; [1] 0.5</div><div class='input'>

<span class='no'>tbl_2_2_pred</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/factor.html'>factor</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/rep.html'>rep</a></span>(<span class='no'>lvs</span>, <span class='kw'>times</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>76</span>, <span class='fl'>24</span>)), <span class='kw'>levels</span> <span class='kw'>=</span> <span class='no'>lvs</span>)
<span class='no'>tbl_2_2_truth</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/factor.html'>factor</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/rep.html'>rep</a></span>(<span class='no'>lvs</span>, <span class='kw'>times</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>56</span>, <span class='fl'>20</span>)),
                          <span class='fu'><a href='https://rdrr.io/r/base/rep.html'>rep</a></span>(<span class='no'>lvs</span>, <span class='kw'>times</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>12</span>, <span class='fl'>12</span>))),
                        <span class='kw'>levels</span> <span class='kw'>=</span> <span class='no'>lvs</span>)
<span class='no'>tbl_2_2</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/table.html'>table</a></span>(<span class='no'>tbl_2_2_pred</span>, <span class='no'>tbl_2_2_truth</span>)

<span class='fu'>precision</span>(<span class='no'>tbl_2_2</span>)</div><div class='output co'>#&gt; [1] 0.7368421</div><div class='input'><span class='fu'>precision</span>(<span class='kw'>data</span> <span class='kw'>=</span> <span class='no'>tbl_2_2_pred</span>, <span class='kw'>reference</span> <span class='kw'>=</span> <span class='no'>tbl_2_2_truth</span>, <span class='kw'>relevant</span> <span class='kw'>=</span> <span class='st'>"Relevant"</span>)</div><div class='output co'>#&gt; [1] 0.7368421</div><div class='input'><span class='fu'>recall</span>(<span class='no'>tbl_2_2</span>)</div><div class='output co'>#&gt; [1] 0.8235294</div><div class='input'><span class='fu'>recall</span>(<span class='kw'>data</span> <span class='kw'>=</span> <span class='no'>tbl_2_2_pred</span>, <span class='kw'>reference</span> <span class='kw'>=</span> <span class='no'>tbl_2_2_truth</span>, <span class='kw'>relevant</span> <span class='kw'>=</span> <span class='st'>"Relevant"</span>)</div><div class='output co'>#&gt; [1] 0.8235294</div><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      <li><a href="#value">Value</a></li>
      <li><a href="#details">Details</a></li>
      <li><a href="#references">References</a></li>
      <li><a href="#see-also">See also</a></li>
      <li><a href="#examples">Examples</a></li>
    </ul>

    <h2>Author</h2>
    <p>Max Kuhn</p>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Max Kuhn.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


