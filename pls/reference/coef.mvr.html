<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Extract Information From a Fitted PLSR or PCR Model — coef.mvr • pls</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Extract Information From a Fitted PLSR or PCR Model — coef.mvr" />
<meta property="og:description" content="Functions to extract information from mvr objects:  Regression
  coefficients, fitted values, residuals, the model frame, the model
  matrix, names of the variables and components, and the \(X\)
  variance explained by the components." />
<meta name="twitter:card" content="summary" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">pls</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">2.7.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fas fa fas fa-archive fa-lg"></span>
     
    R Packages
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../../boot/index.html">boot</a>
    </li>
    <li>
      <a href="../../broom/index.html">broom</a>
    </li>
    <li>
      <a href="../../caret/index.html">caret</a>
    </li>
    <li>
      <a href="../../cluster/index.html">cluster</a>
    </li>
    <li>
      <a href="../../coefplot/index.html">coefplot</a>
    </li>
    <li>
      <a href="../../data.table/index.html">data.table</a>
    </li>
    <li>
      <a href="../../devtools/index.html">devtools</a>
    </li>
    <li>
      <a href="../../dplyr/index.html">dplyr</a>
    </li>
    <li>
      <a href="../../e1071/index.html">e1071</a>
    </li>
    <li>
      <a href="../../forcats/index.html">forcats</a>
    </li>
    <li>
      <a href="../../gbm/index.html">gbm</a>
    </li>
    <li>
      <a href="../../ggplot2/index.html">ggplot2</a>
    </li>
    <li>
      <a href="../../glmnet/index.html">glmnet</a>
    </li>
    <li>
      <a href="../../gridExtra/index.html">gridExtra</a>
    </li>
    <li>
      <a href="../../ISLR/index.html">ISLR</a>
    </li>
    <li>
      <a href="../../MASS/index.html">MASS</a>
    </li>
    <li>
      <a href="../../pdp/index.html">pdp</a>
    </li>
    <li>
      <a href="../../pls/index.html">pls</a>
    </li>
    <li>
      <a href="../../plyr/index.html">plyr</a>
    </li>
    <li>
      <a href="../../pROC/index.html">pROC</a>
    </li>
    <li>
      <a href="../../purrr/index.html">purrr</a>
    </li>
    <li>
      <a href="../../randomForest/index.html">randomForest</a>
    </li>
    <li>
      <a href="../../readr/index.html">readr</a>
    </li>
    <li>
      <a href="../../rpart/index.html">rpart</a>
    </li>
    <li>
      <a href="../../rpart.plot/index.html">rpart.plot</a>
    </li>
    <li>
      <a href="../../stringr/index.html">stringr</a>
    </li>
    <li>
      <a href="../../tibble/index.html">tibble</a>
    </li>
    <li>
      <a href="../../tidyr/index.html">tidyr</a>
    </li>
    <li>
      <a href="../../xgboost/index.html">xgboost</a>
    </li>
  </ul>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/bhmevik/pls">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Extract Information From a Fitted PLSR or PCR Model</h1>
    
    <div class="hidden name"><code>coef.mvr.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Functions to extract information from <code>mvr</code> objects:  Regression
  coefficients, fitted values, residuals, the model frame, the model
  matrix, names of the variables and components, and the \(X\)
  variance explained by the components.</p>
    </div>

    <pre class="usage"><span class='co'># S3 method for mvr</span>
<span class='fu'><a href='https://rdrr.io/r/stats/coef.html'>coef</a></span>(<span class='no'>object</span>, <span class='kw'>ncomp</span> <span class='kw'>=</span> <span class='no'>object</span>$<span class='no'>ncomp</span>, <span class='no'>comps</span>, <span class='kw'>intercept</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='no'>...</span>)
<span class='co'># S3 method for mvr</span>
<span class='fu'><a href='https://rdrr.io/r/stats/fitted.values.html'>fitted</a></span>(<span class='no'>object</span>, <span class='no'>...</span>)
<span class='co'># S3 method for mvr</span>
<span class='fu'><a href='https://rdrr.io/r/stats/residuals.html'>residuals</a></span>(<span class='no'>object</span>, <span class='no'>...</span>)
<span class='co'># S3 method for mvr</span>
<span class='fu'><a href='https://rdrr.io/r/stats/model.matrix.html'>model.matrix</a></span>(<span class='no'>object</span>, <span class='no'>...</span>)
<span class='co'># S3 method for mvr</span>
<span class='fu'><a href='https://rdrr.io/r/stats/model.frame.html'>model.frame</a></span>(<span class='no'>formula</span>, <span class='no'>...</span>)
<span class='fu'>prednames</span>(<span class='no'>object</span>, <span class='kw'>intercept</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)
<span class='fu'>respnames</span>(<span class='no'>object</span>)
<span class='fu'>compnames</span>(<span class='no'>object</span>, <span class='no'>comps</span>, <span class='kw'>explvar</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='no'>...</span>)
<span class='fu'>explvar</span>(<span class='no'>object</span>)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>object, formula</th>
      <td><p>an <code>mvr</code> object.  The fitted model.</p></td>
    </tr>
    <tr>
      <th>ncomp, comps</th>
      <td><p>vector of positive integers.  The components to include in
    the coefficients or to extract the names of.  See below.</p></td>
    </tr>
    <tr>
      <th>intercept</th>
      <td><p>logical.  Whether coefficients for the intercept should
    be included.  Ignored if <code>comps</code> is specified.  Defaults to
    <code>FALSE</code>.</p></td>
    </tr>
    <tr>
      <th>explvar</th>
      <td><p>logical.  Whether the explained \(X\) variance should
    be appended to the component names.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>other arguments sent to underlying functions.  Currently
    only used for <code>model.frame.mvr</code> and <code>model.matrix.mvr</code>.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>These functions are mostly used inside other functions.  (Functions
  <code>coef.mvr</code>, <code>fitted.mvr</code> and <code>residuals.mvr</code> are
  usually called through their generic functions <code><a href='https://rdrr.io/r/stats/coef.html'>coef</a></code>,
  <code><a href='https://rdrr.io/r/stats/fitted.values.html'>fitted</a></code> and <code><a href='https://rdrr.io/r/stats/residuals.html'>residuals</a></code>, respectively.)</p>  
<p><code>coef.mvr</code> is used to extract the regression coefficients of a
  model, i.e. the \(B\) in \(y = XB\) (for the \(Q\) in \(y = TQ\)
  where \(T\) is the scores, see <code><a href='scores.html'>Yloadings</a></code>).  An array of
  dimension <code><a href='https://rdrr.io/r/base/c.html'>c(nxvar, nyvar, length(ncomp))</a></code> or <code><a href='https://rdrr.io/r/base/c.html'>c(nxvar, nyvar,
    length(comps))</a></code> is returned.</p>
<p>If <code>comps</code> is missing (or is <code>NULL</code>),
  <code>coef()[,,ncomp[i]]</code> are the coefficients for models with
  <code>ncomp[i]</code> components, for \(i = 1, \ldots, length(ncomp)\).
  Also, if <code>intercept = TRUE</code>, the first dimension is \(nxvar +
    1\), with the intercept coefficients as the first row.</p>
<p>If <code>comps</code> is given, however, <code>coef()[,,comps[i]]</code> are
  the coefficients for a model with only the component <code>comps[i]</code>,
  i.e. the contribution of the component <code>comps[i]</code> on the
  regression coefficients.</p>
<p><code>fitted.mvr</code> and <code>residuals.mvr</code> return the fitted values
  and residuals, respectively.  If the model was fitted with
  <code>na.action = na.exclude</code> (or after setting the default
  <code>na.action</code> to <code>"na.exclude"</code> with <code><a href='https://rdrr.io/r/base/options.html'>options</a></code>),
  the fitted values (or residuals) corresponding to excluded 
  observations are returned as <code>NA</code>; otherwise, they are omitted.</p>
<p><code>model.frame.mvr</code> returns the model frame; i.e. a data frame with
  all variables neccessary to generate the model matrix.  See
  <code><a href='https://rdrr.io/r/stats/model.frame.html'>model.frame</a></code> for details.</p>  
<p><code>model.matrix.mvr</code> returns the (possibly coded) matrix used as
  \(X\) in the fitting.  See <code><a href='https://rdrr.io/r/stats/model.matrix.html'>model.matrix</a></code> for
  details.</p>
<p><code>prednames</code>, <code>respnames</code> and <code>compnames</code> extract the
  names of the \(X\) variables, responses and components,
  respectively.  With <code>intercept = TRUE</code> in <code>prednames</code>,
  the name of the intercept variable (i.e. <code>"(Intercept)"</code>) is
  returned as well.  <code>compnames</code> can also extract component names
  from score and loading matrices.  If <code>explvar = TRUE</code> in <code>compnames</code>, the
  explained variance for each component (if available) is appended to the component
  names.  For optimal formatting of the explained variances when not all
  components are to be used, one should specify the desired components
  with the argument <code>comps</code>.</p>
<p><code>explvar</code> extracts the amount of \(X\) variance (in per cent)
  explained by each component in the model.  It can also handle
  score and loading matrices returned by <code><a href='scores.html'>scores</a></code> and <code><a href='scores.html'>loadings</a></code>.</p>
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p><code>coef.mvr</code> returns an array of regression coefficients.</p>
<p><code>fitted.mvr</code> returns an array with fitted values.</p>  
<p><code>residuals.mvr</code> returns an array with residuals.</p>
<p><code>model.frame.mvr</code> returns a data frame.</p>  
<p><code>model.matrix.mvr</code> returns the \(X\) matrix.</p>
<p><code>prednames</code>, <code>respnames</code> and <code>compnames</code> return a
  character vector with the corresponding names.</p>
<p><code>explvar</code> returns a numeric vector with the explained variances,
  or <code>NULL</code> if not available.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='mvr.html'>mvr</a></code>, <code><a href='https://rdrr.io/r/stats/coef.html'>coef</a></code>, <code><a href='https://rdrr.io/r/stats/fitted.values.html'>fitted</a></code>,
  <code><a href='https://rdrr.io/r/stats/residuals.html'>residuals</a></code>, <code><a href='https://rdrr.io/r/stats/model.frame.html'>model.frame</a></code>,
  <code><a href='https://rdrr.io/r/stats/model.matrix.html'>model.matrix</a></code>, <code><a href='https://rdrr.io/r/stats/na.fail.html'>na.omit</a></code></p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='fu'><a href='https://rdrr.io/r/utils/data.html'>data</a></span>(<span class='no'>yarn</span>)
<span class='no'>mod</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='mvr.html'>pcr</a></span>(<span class='no'>density</span> ~ <span class='no'>NIR</span>, <span class='kw'>data</span> <span class='kw'>=</span> <span class='no'>yarn</span>[<span class='no'>yarn</span>$<span class='no'>train</span>,], <span class='kw'>ncomp</span> <span class='kw'>=</span> <span class='fl'>5</span>)
<span class='no'>B</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/coef.html'>coef</a></span>(<span class='no'>mod</span>, <span class='kw'>ncomp</span> <span class='kw'>=</span> <span class='fl'>3</span>, <span class='kw'>intercept</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)
<span class='co'>## A manual predict method:</span>
<span class='fu'><a href='https://rdrr.io/r/base/stopifnot.html'>stopifnot</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/drop.html'>drop</a></span>(<span class='no'>B</span>[<span class='fl'>1</span>,,] + <span class='no'>yarn</span>$<span class='no'>NIR</span>[!<span class='no'>yarn</span>$<span class='no'>train</span>,] <span class='kw'>%*%</span> <span class='no'>B</span>[-<span class='fl'>1</span>,,]) <span class='kw'>==</span>
          <span class='fu'><a href='https://rdrr.io/r/base/drop.html'>drop</a></span>(<span class='fu'><a href='https://rdrr.io/r/stats/predict.html'>predict</a></span>(<span class='no'>mod</span>, <span class='kw'>ncomp</span> <span class='kw'>=</span> <span class='fl'>3</span>, <span class='kw'>newdata</span> <span class='kw'>=</span> <span class='no'>yarn</span>[!<span class='no'>yarn</span>$<span class='no'>train</span>,])))

<span class='co'>## Note the difference in formatting:</span>
<span class='no'>mod2</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='mvr.html'>pcr</a></span>(<span class='no'>density</span> ~ <span class='no'>NIR</span>, <span class='kw'>data</span> <span class='kw'>=</span> <span class='no'>yarn</span>[<span class='no'>yarn</span>$<span class='no'>train</span>,])
<span class='fu'>compnames</span>(<span class='no'>mod2</span>, <span class='kw'>explvar</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)[<span class='fl'>1</span>:<span class='fl'>3</span>]</div><div class='output co'>#&gt; [1] "Comp 1 (5.2e+01 %)" "Comp 2 (4.7e+01 %)" "Comp 3 (7.3e-01 %)"</div><div class='input'><span class='fu'>compnames</span>(<span class='no'>mod2</span>, <span class='kw'>comps</span> <span class='kw'>=</span> <span class='fl'>1</span>:<span class='fl'>3</span>, <span class='kw'>explvar</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)</div><div class='output co'>#&gt; [1] "Comp 1 (52.05 %)" "Comp 2 (46.73 %)" "Comp 3 (0.73 %)" </div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      <li><a href="#details">Details</a></li>
      <li><a href="#value">Value</a></li>
      <li><a href="#see-also">See also</a></li>
      <li><a href="#examples">Examples</a></li>
    </ul>

    <h2>Author</h2>
    <p>Ron Wehrens and Bjørn-Helge Mevik</p>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Bjørn-Helge Mevik, Ron Wehrens, Kristian Hovde Liland.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


