<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Jackknife Variance Estimates of Regression Coefficients — var.jack • pls</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Jackknife Variance Estimates of Regression Coefficients — var.jack" />
<meta property="og:description" content="Calculates jackknife variance or covariance estimates of regression
  coefficients." />
<meta name="twitter:card" content="summary" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">pls</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">2.7.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fas fa fas fa-archive fa-lg"></span>
     
    R Packages
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../../boot/index.html">boot</a>
    </li>
    <li>
      <a href="../../broom/index.html">broom</a>
    </li>
    <li>
      <a href="../../caret/index.html">caret</a>
    </li>
    <li>
      <a href="../../cluster/index.html">cluster</a>
    </li>
    <li>
      <a href="../../coefplot/index.html">coefplot</a>
    </li>
    <li>
      <a href="../../data.table/index.html">data.table</a>
    </li>
    <li>
      <a href="../../devtools/index.html">devtools</a>
    </li>
    <li>
      <a href="../../dplyr/index.html">dplyr</a>
    </li>
    <li>
      <a href="../../e1071/index.html">e1071</a>
    </li>
    <li>
      <a href="../../forcats/index.html">forcats</a>
    </li>
    <li>
      <a href="../../gbm/index.html">gbm</a>
    </li>
    <li>
      <a href="../../ggplot2/index.html">ggplot2</a>
    </li>
    <li>
      <a href="../../glmnet/index.html">glmnet</a>
    </li>
    <li>
      <a href="../../gridExtra/index.html">gridExtra</a>
    </li>
    <li>
      <a href="../../ISLR/index.html">ISLR</a>
    </li>
    <li>
      <a href="../../MASS/index.html">MASS</a>
    </li>
    <li>
      <a href="../../pdp/index.html">pdp</a>
    </li>
    <li>
      <a href="../../pls/index.html">pls</a>
    </li>
    <li>
      <a href="../../plyr/index.html">plyr</a>
    </li>
    <li>
      <a href="../../pROC/index.html">pROC</a>
    </li>
    <li>
      <a href="../../purrr/index.html">purrr</a>
    </li>
    <li>
      <a href="../../randomForest/index.html">randomForest</a>
    </li>
    <li>
      <a href="../../readr/index.html">readr</a>
    </li>
    <li>
      <a href="../../rpart/index.html">rpart</a>
    </li>
    <li>
      <a href="../../rpart.plot/index.html">rpart.plot</a>
    </li>
    <li>
      <a href="../../stringr/index.html">stringr</a>
    </li>
    <li>
      <a href="../../tibble/index.html">tibble</a>
    </li>
    <li>
      <a href="../../tidyr/index.html">tidyr</a>
    </li>
    <li>
      <a href="../../xgboost/index.html">xgboost</a>
    </li>
  </ul>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/bhmevik/pls">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Jackknife Variance Estimates of Regression Coefficients</h1>
    
    <div class="hidden name"><code>var.jack.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Calculates jackknife variance or covariance estimates of regression
  coefficients.</p>
    </div>

    <pre class="usage"><span class='fu'>var.jack</span>(<span class='no'>object</span>, <span class='kw'>ncomp</span> <span class='kw'>=</span> <span class='no'>object</span>$<span class='no'>ncomp</span>, <span class='kw'>covariance</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>use.mean</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>object</th>
      <td><p>an <code>mvr</code> object.  A cross-validated model fitted
    with <code>jackknife = TRUE</code>.</p></td>
    </tr>
    <tr>
      <th>ncomp</th>
      <td><p>the number of components to use for estimating the (co)variances</p></td>
    </tr>
    <tr>
      <th>covariance</th>
      <td><p>logical.  If <code>TRUE</code>, covariances are
    calculated; otherwise only variances.  The default is <code>FALSE</code>.</p></td>
    </tr>
    <tr>
      <th>use.mean</th>
      <td><p>logical.  If <code>TRUE</code> (default), the mean
    coefficients are used when estimating the (co)variances; otherwise
    the coefficients from a model fitted to the entire data set.  See Details.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>The original (Tukey) jackknife variance estimator is defined as
  \((g-1)/g \sum_{i=1}^g(\tilde\beta_{-i} - \bar\beta)^2\), where
  \(g\) is the number of segments, \(\tilde\beta_{-i}\) is the
  estimated coefficient when segment \(i\) is left out (called the
  jackknife replicates), and
  \(\bar\beta\) is the mean of the \(\tilde\beta_{-i}\).  The most
  common case is delete-one jackknife, with \(g = n\), the number of
  observations.</p>
<p>This is the definition <code>var.jack</code> uses by default.</p>
<p>However, Martens and Martens (2000) defined the estimator as
  \((g-1)/g \sum_{i=1}^g(\tilde\beta_{-i} - \hat\beta)^2\), where
  \(\hat\beta\) is the coefficient estimate using the entire data set.
  I.e., they use the original fitted coefficients instead of the
  mean of the jackknife replicates.  Most (all?) other jackknife
  implementations for PLSR use this estimator.  <code>var.jack</code> can be
  made to use this definition with <code>use.mean = FALSE</code>.  In
  practice, the difference should be small if the number of
  observations is sufficiently large.  Note, however, that all
  theoretical results about the jackknife refer to the `proper'
  definition.  (Also note that this option might disappear in a future
  version.)</p>
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>If <code>covariance</code> is <code>FALSE</code>, an \(p\times q \times c\)
  array of variance estimates, where \(p\) is the number of
  predictors, \(q\) is the number of responses, and \(c\) is the
  number of components.</p>
<p>If <code>covariance</code> id <code>TRUE</code>, an \(pq\times pq \times c\)
  array of variance-covariance estimates.</p>
    <h2 class="hasAnchor" id="warning"><a class="anchor" href="#warning"></a>Warning</h2>

    <p>Note that the Tukey jackknife variance estimator is not unbiased for
  the variance of regression coefficients (Hinkley 1977).
  The bias depends on the \(X\) matrix.  For ordinary least squares
  regression (OLSR), the bias can be calculated, and depends
  on the number of observations \(n\) and the number of parameters
  \(k\) in the mode.  For the common case of an orthogonal design
  matrix with \(\pm 1\) levels, the delete-one jackknife estimate
  equals \((n-1)/(n-k)\) times the classical variance estimate for the
  regression coefficients in OLSR.  Similar expressions hold for
  delete-d estimates.  Modifications have been proposed to reduce or
  eliminate the bias for the OLSR case, however, they depend on the
  number of parameters used in the model.  See e.g. Hinkley (1977) or Wu
  (1986).</p>
<p>Thus, the results of <code>var.jack</code> should be used with caution.</p>
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>Tukey J.W. (1958) Bias and Confidence in Not-quite Large
  Samples. (Abstract of Preliminary Report).  <em>Annals of
    Mathematical Statistics</em>, <b>29</b>(2), 614.</p>
<p>Martens H. and Martens M. (2000) Modified Jack-knife Estimation of
  Parameter Uncertainty in Bilinear Modelling by Partial Least Squares
  Regression (PLSR).  <em>Food Quality and Preference</em>, <b>11</b>, 5--16.</p>
<p>Hinkley D.V. (1977), Jackknifing in Unbalanced Situations.
  <em>Technometrics</em>, <b>19</b>(3), 285--292.</p>
<p>Wu C.F.J. (1986) Jackknife, Bootstrap and Other Resampling Methods in
  Regression Analysis.  <em>Te Annals of Statistics</em>, <b>14</b>(4),
  1261--1295.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='mvrCv.html'>mvrCv</a></code>, <code><a href='jack.test.html'>jack.test</a></code></p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='fu'><a href='https://rdrr.io/r/utils/data.html'>data</a></span>(<span class='no'>oliveoil</span>)
<span class='no'>mod</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='mvr.html'>pcr</a></span>(<span class='no'>sensory</span> ~ <span class='no'>chemical</span>, <span class='kw'>data</span> <span class='kw'>=</span> <span class='no'>oliveoil</span>, <span class='kw'>validation</span> <span class='kw'>=</span> <span class='st'>"LOO"</span>,
           <span class='kw'>jackknife</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)
<span class='fu'>var.jack</span>(<span class='no'>mod</span>, <span class='kw'>ncomp</span> <span class='kw'>=</span> <span class='fl'>2</span>)</div><div class='output co'>#&gt; , , 2 comps
#&gt; 
#&gt;                yellow        green        brown       glossy      transp
#&gt; Acidity  1024.4116919 1589.2686000 1.750141e+01 42.522264128 73.50823993
#&gt; Peroxide    3.4451819    5.8716926 3.227187e-01  0.273051034  0.52181445
#&gt; K232      583.6428901  961.3757680 2.190286e+01 22.819112503 69.31594523
#&gt; K270        9.4454718   14.8484347 3.551073e-02  0.218596282  0.48383108
#&gt; DK          0.1163998    0.1884952 9.368976e-04  0.005818676  0.01191753
#&gt;                 syrup
#&gt; Acidity  8.6885127205
#&gt; Peroxide 0.0171447602
#&gt; K232     0.7877230726
#&gt; K270     0.0352534553
#&gt; DK       0.0004922534
#&gt; </div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      <li><a href="#details">Details</a></li>
      <li><a href="#value">Value</a></li>
      <li><a href="#warning">Warning</a></li>
      <li><a href="#references">References</a></li>
      <li><a href="#see-also">See also</a></li>
      <li><a href="#examples">Examples</a></li>
    </ul>

    <h2>Author</h2>
    <p>Bjørn-Helge Mevik</p>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Bjørn-Helge Mevik, Ron Wehrens, Kristian Hovde Liland.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


