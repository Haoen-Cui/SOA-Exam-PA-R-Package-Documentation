<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Fast and friendly file finagler — fread • data.table</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Fast and friendly file finagler — fread" />
<meta property="og:description" content="Similar to read.table but faster and more convenient. All controls such as sep, colClasses and nrows are automatically detected. bit64::integer64 types are also detected and read directly without needing to read as character before converting.
Dates are read as character currently. They can be converted afterwards using the excellent fasttime package or standard base functions.
`fread` is for regular delimited files; i.e., where every row has the same number of columns. In future, secondary separator (sep2) may be specified within each column. Such columns will be read as type list where each cell is itself a vector." />
<meta name="twitter:card" content="summary" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">data.table</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.12.6</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fas fa fas fa-archive fa-lg"></span>
     
    R Packages
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../../boot/index.html">boot</a>
    </li>
    <li>
      <a href="../../broom/index.html">broom</a>
    </li>
    <li>
      <a href="../../caret/index.html">caret</a>
    </li>
    <li>
      <a href="../../cluster/index.html">cluster</a>
    </li>
    <li>
      <a href="../../coefplot/index.html">coefplot</a>
    </li>
    <li>
      <a href="../../data.table/index.html">data.table</a>
    </li>
    <li>
      <a href="../../devtools/index.html">devtools</a>
    </li>
    <li>
      <a href="../../dplyr/index.html">dplyr</a>
    </li>
    <li>
      <a href="../../e1071/index.html">e1071</a>
    </li>
    <li>
      <a href="../../forcats/index.html">forcats</a>
    </li>
    <li>
      <a href="../../gbm/index.html">gbm</a>
    </li>
    <li>
      <a href="../../ggplot2/index.html">ggplot2</a>
    </li>
    <li>
      <a href="../../glmnet/index.html">glmnet</a>
    </li>
    <li>
      <a href="../../gridExtra/index.html">gridExtra</a>
    </li>
    <li>
      <a href="../../ISLR/index.html">ISLR</a>
    </li>
    <li>
      <a href="../../MASS/index.html">MASS</a>
    </li>
    <li>
      <a href="../../pdp/index.html">pdp</a>
    </li>
    <li>
      <a href="../../pls/index.html">pls</a>
    </li>
    <li>
      <a href="../../plyr/index.html">plyr</a>
    </li>
    <li>
      <a href="../../pROC/index.html">pROC</a>
    </li>
    <li>
      <a href="../../purrr/index.html">purrr</a>
    </li>
    <li>
      <a href="../../randomForest/index.html">randomForest</a>
    </li>
    <li>
      <a href="../../readr/index.html">readr</a>
    </li>
    <li>
      <a href="../../rpart/index.html">rpart</a>
    </li>
    <li>
      <a href="../../rpart.plot/index.html">rpart.plot</a>
    </li>
    <li>
      <a href="../../stringr/index.html">stringr</a>
    </li>
    <li>
      <a href="../../tibble/index.html">tibble</a>
    </li>
    <li>
      <a href="../../tidyr/index.html">tidyr</a>
    </li>
    <li>
      <a href="../../xgboost/index.html">xgboost</a>
    </li>
  </ul>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/datatable-benchmarking.html">Benchmarking data.table</a>
    </li>
    <li>
      <a href="../articles/datatable-faq.html">Frequently Asked Questions about data.table</a>
    </li>
    <li>
      <a href="../articles/datatable-importing.html">Importing data.table</a>
    </li>
    <li>
      <a href="../articles/datatable-intro.html">Introduction to data.table</a>
    </li>
    <li>
      <a href="../articles/datatable-keys-fast-subset.html">Keys and fast binary search based subset</a>
    </li>
    <li>
      <a href="../articles/datatable-reference-semantics.html">Reference semantics</a>
    </li>
    <li>
      <a href="../articles/datatable-reshape.html">Efficient reshaping using data.tables</a>
    </li>
    <li>
      <a href="../articles/datatable-sd-usage.html">Using .SD for Data Analysis</a>
    </li>
    <li>
      <a href="../articles/datatable-secondary-indices-and-auto-indexing.html">Secondary indices and auto indexing</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/Rdatatable/data.table">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Fast and friendly file finagler</h1>
    
    <div class="hidden name"><code>fread.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Similar to <code>read.table</code> but faster and more convenient. All controls such as <code>sep</code>, <code>colClasses</code> and <code>nrows</code> are automatically detected. <code>bit64::integer64</code> types are also detected and read directly without needing to read as character before converting.</p>
<p>Dates are read as character currently. They can be converted afterwards using the excellent <code>fasttime</code> package or standard base functions.</p>
<p>`fread` is for <em>regular</em> delimited files; i.e., where every row has the same number of columns. In future, secondary separator (<code>sep2</code>) may be specified <em>within</em> each column. Such columns will be read as type <code>list</code> where each cell is itself a vector.</p>
    </div>

    <pre class="usage"><span class='fu'>fread</span>(<span class='no'>input</span>, <span class='no'>file</span>, <span class='no'>text</span>, <span class='no'>cmd</span>, <span class='kw'>sep</span><span class='kw'>=</span><span class='st'>"auto"</span>, <span class='kw'>sep2</span><span class='kw'>=</span><span class='st'>"auto"</span>, <span class='kw'>dec</span><span class='kw'>=</span><span class='st'>"."</span>, <span class='kw'>quote</span><span class='kw'>=</span><span class='st'>"\""</span>,
<span class='kw'>nrows</span><span class='kw'>=</span><span class='fl'>Inf</span>, <span class='kw'>header</span><span class='kw'>=</span><span class='st'>"auto"</span>,
<span class='kw'>na.strings</span><span class='kw'>=</span><span class='fu'><a href='https://rdrr.io/r/base/options.html'>getOption</a></span>(<span class='st'>"datatable.na.strings"</span>,<span class='st'>"NA"</span>),  <span class='co'># due to change to ""; see NEWS</span>
<span class='kw'>stringsAsFactors</span><span class='kw'>=</span><span class='fl'>FALSE</span>, <span class='kw'>verbose</span><span class='kw'>=</span><span class='fu'><a href='https://rdrr.io/r/base/options.html'>getOption</a></span>(<span class='st'>"datatable.verbose"</span>, <span class='fl'>FALSE</span>),
<span class='kw'>skip</span><span class='kw'>=</span><span class='st'>"__auto__"</span>, <span class='kw'>select</span><span class='kw'>=</span><span class='kw'>NULL</span>, <span class='kw'>drop</span><span class='kw'>=</span><span class='kw'>NULL</span>, <span class='kw'>colClasses</span><span class='kw'>=</span><span class='kw'>NULL</span>,
<span class='kw'>integer64</span><span class='kw'>=</span><span class='fu'><a href='https://rdrr.io/r/base/options.html'>getOption</a></span>(<span class='st'>"datatable.integer64"</span>, <span class='st'>"integer64"</span>),
<span class='no'>col.names</span>,
<span class='kw'>check.names</span><span class='kw'>=</span><span class='fl'>FALSE</span>, <span class='kw'>encoding</span><span class='kw'>=</span><span class='st'>"unknown"</span>,
<span class='kw'>strip.white</span><span class='kw'>=</span><span class='fl'>TRUE</span>, <span class='kw'>fill</span><span class='kw'>=</span><span class='fl'>FALSE</span>, <span class='kw'>blank.lines.skip</span><span class='kw'>=</span><span class='fl'>FALSE</span>,
<span class='kw'>key</span><span class='kw'>=</span><span class='kw'>NULL</span>, <span class='kw'>index</span><span class='kw'>=</span><span class='kw'>NULL</span>,
<span class='kw'>showProgress</span><span class='kw'>=</span><span class='fu'><a href='https://rdrr.io/r/base/options.html'>getOption</a></span>(<span class='st'>"datatable.showProgress"</span>, <span class='fu'><a href='https://rdrr.io/r/base/interactive.html'>interactive</a></span>()),
<span class='kw'>data.table</span><span class='kw'>=</span><span class='fu'><a href='https://rdrr.io/r/base/options.html'>getOption</a></span>(<span class='st'>"datatable.fread.datatable"</span>, <span class='fl'>TRUE</span>),
<span class='kw'>nThread</span><span class='kw'>=</span><span class='fu'><a href='openmp-utils.html'>getDTthreads</a></span>(<span class='no'>verbose</span>),
<span class='kw'>logical01</span><span class='kw'>=</span><span class='fu'><a href='https://rdrr.io/r/base/options.html'>getOption</a></span>(<span class='st'>"datatable.logical01"</span>, <span class='fl'>FALSE</span>),  <span class='co'># due to change to TRUE; see NEWS</span>
<span class='kw'>keepLeadingZeros</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/options.html'>getOption</a></span>(<span class='st'>"datatable.keepLeadingZeros"</span>, <span class='fl'>FALSE</span>),
<span class='kw'>yaml</span><span class='kw'>=</span><span class='fl'>FALSE</span>, <span class='kw'>autostart</span><span class='kw'>=</span><span class='fl'>NA</span>, <span class='kw'>tmpdir</span><span class='kw'>=</span><span class='fu'><a href='https://rdrr.io/r/base/tempfile.html'>tempdir</a></span>()
)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>input</th>
      <td><p>A single character string. The value is inspected and deferred to either <code>file=</code> (if no \n present), <code>text=</code> (if at least one \n is present) or <code>cmd=</code> (if no \n is present, at least one space is present, and it isn't a file name). Exactly one of <code>input=</code>, <code>file=</code>, <code>text=</code>, or <code>cmd=</code> should be used in the same call.</p></td>
    </tr>
    <tr>
      <th>file</th>
      <td><p>File name in working directory, path to file (passed through <code><a href='https://rdrr.io/r/base/path.expand.html'>path.expand</a></code> for convenience), or a URL starting http://, file://, etc. Compressed files ending <code>.gz</code> and <code>.bz2</code> are supported if the <code>R.utils</code> package is installed.</p></td>
    </tr>
    <tr>
      <th>text</th>
      <td><p>The input data itself as a character vector of one or more lines, for example as returned by <code><a href='https://rdrr.io/r/base/readLines.html'>readLines()</a></code>.</p></td>
    </tr>
    <tr>
      <th>cmd</th>
      <td><p>A shell command that pre-processes the file; e.g. <code>fread(cmd=paste("grep",word,"filename")</code>. See Details.</p></td>
    </tr>
    <tr>
      <th>sep</th>
      <td><p>The separator between columns. Defaults to the character in the set <code>[,\t |;:]</code> that separates the sample of rows into the most number of lines with the same number of fields. Use <code>NULL</code> or <code>""</code> to specify no separator; i.e. each line a single character column like <code><a href='https://rdrr.io/r/base/readLines.html'>base::readLines</a></code> does.</p></td>
    </tr>
    <tr>
      <th>sep2</th>
      <td><p>The separator <em>within</em> columns. A <code>list</code> column will be returned where each cell is a vector of values. This is much faster using less working memory than <code>strsplit</code> afterwards or similar techniques. For each column <code>sep2</code> can be different and is the first character in the same set above [<code>,\t |;</code>], other than <code>sep</code>, that exists inside each field outside quoted regions in the sample. NB: <code>sep2</code> is not yet implemented.</p></td>
    </tr>
    <tr>
      <th>nrows</th>
      <td><p>The maximum number of rows to read. Unlike <code>read.table</code>, you do not need to set this to an estimate of the number of rows in the file for better speed because that is already automatically determined by <code>fread</code> almost instantly using the large sample of lines. `nrows=0` returns the column names and typed empty columns determined by the large sample; useful for a dry run of a large file or to quickly check format consistency of a set of files before starting to read any of them.</p></td>
    </tr>
    <tr>
      <th>header</th>
      <td><p>Does the first data line contain column names? Defaults according to whether every non-empty field on the first data line is type character. If so, or TRUE is supplied, any empty column names are given a default name.</p></td>
    </tr>
    <tr>
      <th>na.strings</th>
      <td><p>A character vector of strings which are to be interpreted as <code>NA</code> values. By default, <code>",,"</code> for columns of all types, including type `character` is read as <code>NA</code> for consistency. <code>,"",</code> is unambiguous and read as an empty string. To read <code>,NA,</code> as <code>NA</code>, set <code>na.strings="NA"</code>. To read <code>,,</code> as blank string <code>""</code>, set <code>na.strings=NULL</code>. When they occur in the file, the strings in <code>na.strings</code> should not appear quoted since that is how the string literal <code>,"NA",</code> is distinguished from <code>,NA,</code>, for example, when <code>na.strings="NA"</code>.</p></td>
    </tr>
    <tr>
      <th>stringsAsFactors</th>
      <td><p>Convert all character columns to factors?</p></td>
    </tr>
    <tr>
      <th>verbose</th>
      <td><p>Be chatty and report timings?</p></td>
    </tr>
    <tr>
      <th>skip</th>
      <td><p>If 0 (default) start on the first line and from there finds the first row with a consistent number of columns. This automatically avoids irregular header information before the column names row. <code>skip&gt;0</code> means ignore the first <code>skip</code> rows manually. <code>skip="string"</code> searches for <code>"string"</code> in the file (e.g. a substring of the column names row) and starts on that line (inspired by read.xls in package gdata).</p></td>
    </tr>
    <tr>
      <th>select</th>
      <td><p>A vector of column names or numbers to keep, drop the rest. <code>select</code> may specify types too in the same way as <code>colClasses</code>; i.e., a vector of <code>colname=type</code> pairs, or a <code>list</code> of <code>type=col(s)</code> pairs. In all forms of <code>select</code>, the order that the columns are specified determines the order of the columns in the result.</p></td>
    </tr>
    <tr>
      <th>drop</th>
      <td><p>Vector of column names or numbers to drop, keep the rest.</p></td>
    </tr>
    <tr>
      <th>colClasses</th>
      <td><p>As in <code><a href='https://rdrr.io/r/utils/read.table.html'>read.csv</a></code>; i.e., an unnamed vector of types corresponding to the columns in the file, or a named vector specifying types for a subset of the columns by name. The default, <code>NULL</code> means types are inferred from the data in the file. Further, <code>data.table</code> supports a named <code>list</code> of vectors of column names <em>or numbers</em> where the <code>list</code> names are the class names; see examples. The <code>list</code> form makes it easier to set a batch of columns to be a particular class. When column numbers are used in the <code>list</code> form, they refer to the column number in the file not the column number after <code>select</code> or <code>drop</code> has been applied.
    If type coercion results in an error, introduces <code>NA</code>s, or would result in loss of accuracy, the coercion attempt is aborted for that column with warning and the column's type is left unchanged. If you really desire data loss (e.g. reading <code>3.14</code> as <code>integer</code>) you have to truncate such columns afterwards yourself explicitly so that this is clear to future readers of your code.</p></td>
    </tr>
    <tr>
      <th>integer64</th>
      <td><p>"integer64" (default) reads columns detected as containing integers larger than 2^31 as type <code>bit64::integer64</code>. Alternatively, <code>"double"|"numeric"</code> reads as <code>base::read.csv</code> does; i.e., possibly with loss of precision and if so silently. Or, "character".</p></td>
    </tr>
    <tr>
      <th>dec</th>
      <td><p>The decimal separator as in <code>base::read.csv</code>. If not "." (default) then usually ",". See details.</p></td>
    </tr>
    <tr>
      <th>col.names</th>
      <td><p>A vector of optional names for the variables (columns). The default is to use the header column if present or detected, or if not "V" followed by the column number. This is applied after <code>check.names</code> and before <code>key</code> and <code>index</code>.</p></td>
    </tr>
    <tr>
      <th>check.names</th>
      <td><p>default is <code>FALSE</code>. If <code>TRUE</code> then the names of the variables in the <code>data.table</code> are checked to ensure that they are syntactically valid variable names. If necessary they are adjusted (by <code><a href='https://rdrr.io/r/base/make.names.html'>make.names</a></code>) so that they are, and also to ensure that there are no duplicates.</p></td>
    </tr>
    <tr>
      <th>encoding</th>
      <td><p>default is <code>"unknown"</code>. Other possible options are <code>"UTF-8"</code> and <code>"Latin-1"</code>.  Note: it is not used to re-encode the input, rather enables handling of encoded strings in their native encoding.</p></td>
    </tr>
    <tr>
      <th>quote</th>
      <td><p>By default (<code>"\""</code>), if a field starts with a double quote, <code>fread</code> handles embedded quotes robustly as explained under <code>Details</code>. If it fails, then another attempt is made to read the field <em>as is</em>, i.e., as if quotes are disabled. By setting <code>quote=""</code>, the field is always read as if quotes are disabled. It is not expected to ever need to pass anything other than \"\" to quote; i.e., to turn it off.</p></td>
    </tr>
    <tr>
      <th>strip.white</th>
      <td><p>default is <code>TRUE</code>. Strips leading and trailing whitespaces of unquoted fields. If <code>FALSE</code>, only header trailing spaces are removed.</p></td>
    </tr>
    <tr>
      <th>fill</th>
      <td><p>logical (default is <code>FALSE</code>). If <code>TRUE</code> then in case the rows have unequal length, blank fields are implicitly filled.</p></td>
    </tr>
    <tr>
      <th>blank.lines.skip</th>
      <td><p><code>logical</code>, default is <code>FALSE</code>. If <code>TRUE</code> blank lines in the input are ignored.</p></td>
    </tr>
    <tr>
      <th>key</th>
      <td><p>Character vector of one or more column names which is passed to <code><a href='setkey.html'>setkey</a></code>. It may be a single comma separated string such as <code>key="x,y,z"</code>, or a vector of names such as <code>key=c("x","y","z")</code>. Only valid when argument <code>data.table=TRUE</code>. Where applicable, this should refer to column names given in <code>col.names</code>.</p></td>
    </tr>
    <tr>
      <th>index</th>
      <td><p>Character vector or list of character vectors of one or more column names which is passed to <code><a href='setkey.html'>setindexv</a></code>. As with <code>key</code>, comma-separated notation like <code>index="x,y,z"</code> is accepted for convenience. Only valid when argument <code>data.table=TRUE</code>. Where applicable, this should refer to column names given in <code>col.names</code>.</p></td>
    </tr>
    <tr>
      <th>showProgress</th>
      <td><p><code>TRUE</code> displays progress on the console if the ETA is greater than 3 seconds. It is produced in fread's C code where the very nice (but R level) txtProgressBar and tkProgressBar are not easily available.</p></td>
    </tr>
    <tr>
      <th>data.table</th>
      <td><p>TRUE returns a <code>data.table</code>. FALSE returns a <code>data.frame</code>. The default for this argument can be changed with <code><a href='https://rdrr.io/r/base/options.html'>options(datatable.fread.datatable=FALSE)</a></code>.</p></td>
    </tr>
    <tr>
      <th>nThread</th>
      <td><p>The number of threads to use. Experiment to see what works best for your data on your hardware.</p></td>
    </tr>
    <tr>
      <th>logical01</th>
      <td><p>If TRUE a column containing only 0s and 1s will be read as logical, otherwise as integer.</p></td>
    </tr>
    <tr>
      <th>keepLeadingZeros</th>
      <td><p>If TRUE a column containing numeric data with leading zeros will be read as character, otherwise leading zeros will be removed and converted to numeric.</p></td>
    </tr>
    <tr>
      <th>yaml</th>
      <td><p>If <code>TRUE</code>, <code>fread</code> will attempt to parse (using <code><a href='https://rdrr.io/pkg/yaml/man/yaml.load.html'>yaml.load</a></code>) the top of the input as YAML, and further to glean parameters relevant to improving the performance of <code>fread</code> on the data itself. The entire YAML section is returned as parsed into a <code>list</code> in the <code>yaml_metadata</code> attribute. See <code>Details</code>.</p></td>
    </tr>
    <tr>
      <th>autostart</th>
      <td><p>Deprecated and ignored with warning. Please use <code>skip</code> instead.</p></td>
    </tr>
    <tr>
      <th>tmpdir</th>
      <td><p>Directory to use as the <code>tmpdir</code> argument for any <code>tempfile</code> calls, e.g. when the input is a URL or a shell command. The default is <code><a href='https://rdrr.io/r/base/tempfile.html'>tempdir()</a></code> which can be controlled by setting <code>TMPDIR</code> before starting the R session; see <code><a href='https://rdrr.io/r/base/tempfile.html'>tempdir</a></code>.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    

<p>A sample of 10,000 rows is used for a very good estimate of column types. 100 contiguous rows are read from 100 equally spaced points throughout the file including the beginning, middle and the very end. This results in a better guess when a column changes type later in the file (e.g. blank at the beginning/only populated near the end, or 001 at the start but 0A0 later on). This very good type guess enables a single allocation of the correct type up front once for speed, memory efficiency and convenience of avoiding the need to set <code>colClasses</code> after an error. Even though the sample is large and jumping over the file, it is almost instant regardless of the size of the file because a lazy on-demand memory map is used. If a jump lands inside a quoted field containing newlines, each newline is tested until 5 lines are found following it with the expected number of fields. The lowest type for each column is chosen from the ordered list: <code>logical</code>, <code>integer</code>, <code>integer64</code>, <code>double</code>, <code>character</code>. Rarely, the file may contain data of a higher type in rows outside the sample (referred to as an out-of-sample type exception). In this event <code>fread</code> will <em>automatically</em> reread just those columns from the beginning so that you don't have the inconvenience of having to set <code>colClasses</code> yourself; particularly helpful if you have a lot of columns. Such columns must be read from the beginning to correctly distinguish "00" from "000" when those have both been interpreted as integer 0 due to the sample but 00A occurs out of sample. Set <code>verbose=TRUE</code> to see a detailed report of the logic deployed to read your file.</p>
<p>There is no line length limit, not even a very large one. Since we are encouraging <code>list</code> columns (i.e. <code>sep2</code>) this has the potential to encourage longer line lengths. So the approach of scanning each line into a buffer first and then rescanning that buffer is not used. There are no buffers used in <code>fread</code>'s C code at all. The field width limit is limited by R itself: the maximum width of a character string (currently 2^31-1 bytes, 2GB).</p>
<p>The filename extension (such as .csv) is irrelevant for "auto" <code>sep</code> and <code>sep2</code>. Separator detection is entirely driven by the file contents. This can be useful when loading a set of different files which may not be named consistently, or may not have the extension .csv despite being csv. Some datasets have been collected over many years, one file per day for example. Sometimes the file name format has changed at some point in the past or even the format of the file itself. So the idea is that you can loop <code>fread</code> through a set of files and as long as each file is regular and delimited, <code>fread</code> can read them all. Whether they all stack is another matter but at least each one is read quickly without you needing to vary <code>colClasses</code> in <code>read.table</code> or <code>read.csv</code>.</p>
<p>If an empty line is encountered then reading stops there with warning if any text exists after the empty line such as a footer. The first line of any text discarded is included in the warning message. Unless, it is single-column input. In that case blank lines are significant (even at the very end) and represent NA in the single column. So that <code>fread(fwrite(DT))==DT</code>. This default behaviour can be controlled using <code>blank.lines.skip=TRUE|FALSE</code>.</p>
<p><b>Line endings:</b> All known line endings are detected automatically: <code>\n</code> (*NIX including Mac), <code>\r\n</code> (Windows CRLF), <code>\r</code> (old Mac) and <code>\n\r</code> (just in case). There is no need to convert input files first. <code>fread</code> running on any architecture will read a file from any architecture. Both <code>\r</code> and <code>\n</code> may be embedded in character strings (including column names) provided the field is quoted.</p>
<p><b>Decimal separator and locale:</b> <code>fread(...,dec=",")</code> should just work. <code>fread</code> uses C function <code>strtod</code> to read numeric data; e.g., <code>1.23</code> or <code>1,23</code>. <code>strtod</code> retrieves the decimal separator (<code>.</code> or <code>,</code> usually) from the locale of the R session rather than as an argument passed to the <code>strtod</code> function. So for <code>fread(...,dec=",")</code> to work, <code>fread</code> changes this (and only this) R session's locale temporarily to a locale which provides the desired decimal separator.</p>
<p>On Windows, "French_France.1252" is tried which should be available as standard (any locale with comma decimal separator would suffice) and on unix "fr_FR.utf8" (you may need to install this locale on unix). <code>fread()</code> is very careful to set the locale back again afterwards, even if the function fails with an error. The choice of locale is determined by <code>options()$datatable.fread.dec.locale</code>. This may be a <em>vector</em> of locale names and if so they will be tried in turn until the desired <code>dec</code> is obtained; thus allowing more than two different decimal separators to be selected. This is a new feature in v1.9.6 and is experimental. In case of problems, turn it off with <code><a href='https://rdrr.io/r/base/options.html'>options(datatable.fread.dec.experiment=FALSE)</a></code>.</p>
<p><b>Quotes:</b></p>
<p>When <code>quote</code> is a single character,</p>
<p></p><ul>
<li><p>Spaces and other whitespace (other than <code>sep</code> and <code>\n</code>) may appear in unquoted character fields, e.g., <code>...,2,Joe Bloggs,3.14,...</code>.</p></li>
<li><p>When <code>character</code> columns are <em>quoted</em>, they must start and end with that quoting character immediately followed by <code>sep</code> or <code>\n</code>, e.g., <code>...,2,"Joe Bloggs",3.14,...</code>.      In essence quoting character fields are <em>required</em> only if <code>sep</code> or <code>\n</code> appears in the string value. Quoting may be used to signify that numeric data should be read as text. Unescaped quotes may be present in a quoted field, e.g., <code>...,2,"Joe, "Bloggs"",3.14,...</code>, as well as escaped quotes, e.g., <code>...,2,"Joe \",Bloggs\"",3.14,...</code>.      If an embedded quote is followed by the separator inside a quoted field, the embedded quotes up to that point in that field must be balanced; e.g. <code>...,2,"www.blah?x="one",y="two"",3.14,...</code>.      On those fields that do not satisfy these conditions, e.g., fields with unbalanced quotes, <code>fread</code> re-attempts that field as if it isn't quoted. This is quite useful in reading files that contains fields with unbalanced quotes as well, automatically.</p></li>
</ul>

<p>To read fields <em>as is</em> instead, use <code>quote = ""</code>.</p>
<p><b>CSVY Support:</b></p>
<p>Currently, the <code>yaml</code> setting is somewhat inflexible with respect to incorporating metadata to facilitate file reading. Information on column classes should be stored at the top level under the heading <code>schema</code> and subheading <code>fields</code>; those with both a <code>type</code> and a <code>name</code> sub-heading will be merged into <code>colClasses</code>. Other supported elements are as follows:</p>
<p></p><ul>
<li><p><code>sep</code> (or alias <code>delimiter</code>)</p></li>
<li><p><code>header</code></p></li>
<li><p><code>quote</code> (or aliases <code>quoteChar</code>, <code>quote_char</code>)</p></li>
<li><p><code>dec</code> (or alias <code>decimal</code>)</p></li>
<li><p><code>na.strings</code></p></li>
</ul>

<p><b>File Download:</b></p>
<p>When <code>input</code> begins with http://, https://, ftp://, ftps://, or file://, <code>fread</code> detects this and <em>downloads</em> the target to a temporary file (at <code><a href='https://rdrr.io/r/base/tempfile.html'>tempfile()</a></code>) before proceeding to read the file as usual. Secure URLS (ftps:// and https://) are downloaded with <code><a href='https://jeroen.cran.dev/curl/reference/curl_download.html'>curl::curl_download</a></code>; ftp:// and http:// paths are downloaded with <code>download.file</code> and <code>method</code> set to <code><a href='https://rdrr.io/r/base/options.html'>getOption("download.file.method")</a></code>, defaulting to <code>"auto"</code>; and file:// is downloaded with <code>download.file</code> with <code>method="internal"</code>. NB: this implies that for file://, even files found on the current machine will be "downloaded" (i.e., hard-copied) to a temporary file. See <code><a href='https://rdrr.io/r/utils/download.file.html'>download.file</a></code> for more details.</p>
<p><b>Shell commands:</b></p>
<p><code>fread</code> accepts shell commands for convenience. The input command is run and its output written to a file in <code>tmpdir</code> (<code>link{tempdir}()</code> by default) to which <code>fread</code> is applied "as normal". The details are platform dependent -- <code>system</code> is used on UNIX environments, <code>shell</code> otherwise; see <code><a href='https://rdrr.io/r/base/system.html'>system</a></code>.</p>
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A <code>data.table</code> by default, otherwise a <code>data.frame</code> when argument <code>data.table=FALSE</code>.</p>
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>Background :<br />
<a href='https://cran.r-project.org/doc/manuals/R-data.html'>https://cran.r-project.org/doc/manuals/R-data.html</a><br />
<a href='http://stackoverflow.com/questions/1727772/quickly-reading-very-large-tables-as-dataframes-in-r'>http://stackoverflow.com/questions/1727772/quickly-reading-very-large-tables-as-dataframes-in-r</a><br />
<a href='http://www.biostat.jhsph.edu/~rpeng/docs/R-large-tables.html'>http://www.biostat.jhsph.edu/~rpeng/docs/R-large-tables.html</a><br />
<a href='http://www.cerebralmastication.com/2009/11/loading-big-data-into-r/'>http://www.cerebralmastication.com/2009/11/loading-big-data-into-r/</a><br />
<a href='http://stackoverflow.com/questions/9061736/faster-than-scan-with-rcpp'>http://stackoverflow.com/questions/9061736/faster-than-scan-with-rcpp</a><br />
<a href='http://stackoverflow.com/questions/415515/how-can-i-read-and-manipulate-csv-file-data-in-c'>http://stackoverflow.com/questions/415515/how-can-i-read-and-manipulate-csv-file-data-in-c</a><br />
<a href='http://stackoverflow.com/questions/9352887/strategies-for-reading-in-csv-files-in-pieces'>http://stackoverflow.com/questions/9352887/strategies-for-reading-in-csv-files-in-pieces</a><br />
<a href='http://stackoverflow.com/questions/11782084/reading-in-large-text-files-in-r'>http://stackoverflow.com/questions/11782084/reading-in-large-text-files-in-r</a><br />
<a href='http://stackoverflow.com/questions/45972/mmap-vs-reading-blocks'>http://stackoverflow.com/questions/45972/mmap-vs-reading-blocks</a><br />
<a href='http://stackoverflow.com/questions/258091/when-should-i-use-mmap-for-file-access'>http://stackoverflow.com/questions/258091/when-should-i-use-mmap-for-file-access</a><br />
<a href='http://stackoverflow.com/a/9818473/403310'>http://stackoverflow.com/a/9818473/403310</a><br />
<a href='http://stackoverflow.com/questions/9608950/reading-huge-files-using-memory-mapped-files'>http://stackoverflow.com/questions/9608950/reading-huge-files-using-memory-mapped-files</a></p>
<p>finagler = "to get or achieve by guile or manipulation" <a href='http://dictionary.reference.com/browse/finagler'>http://dictionary.reference.com/browse/finagler</a></p>
<p>On YAML, see <a href='http://yaml.org/'>http://yaml.org/</a>; on csvy, see <a href='http://csvy.org/'>http://csvy.org/</a>.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='https://rdrr.io/r/utils/read.table.html'>read.csv</a></code>, <code><a href='https://rdrr.io/r/base/connections.html'>url</a></code>, <code><a href='https://rdrr.io/r/base/locales.html'>Sys.setlocale</a></code>, <code><a href='openmp-utils.html'>setDTthreads</a></code>, <code><a href='fwrite.html'>fwrite</a></code>, <a href='https://CRAN.R-project.org/package=bit64'><code>bit64::integer64</code></a></p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># Reads text input directly :</span>
<span class='fu'>fread</span>(<span class='st'>"A,B\n1,2\n3,4"</span>)</div><div class='output co'>#&gt;    A B
#&gt; 1: 1 2
#&gt; 2: 3 4</div><div class='input'>
<span class='co'># Reads pasted input directly :</span>
<span class='fu'>fread</span>(<span class='st'>"A,B
1,2
3,4
"</span>)</div><div class='output co'>#&gt;    A B
#&gt; 1: 1 2
#&gt; 2: 3 4</div><div class='input'>
<span class='co'># Finds the first data line automatically :</span>
<span class='fu'>fread</span>(<span class='st'>"
This is perhaps a banner line or two or ten.
A,B
1,2
3,4
"</span>)</div><div class='output co'>#&gt;    A B
#&gt; 1: 1 2
#&gt; 2: 3 4</div><div class='input'>
<span class='co'># Detects whether column names are present automatically :</span>
<span class='fu'>fread</span>(<span class='st'>"
1,2
3,4
"</span>)</div><div class='output co'>#&gt;    V1 V2
#&gt; 1:  1  2
#&gt; 2:  3  4</div><div class='input'>
<span class='co'># Numerical precision :</span>

<span class='no'>DT</span> <span class='kw'>=</span> <span class='fu'>fread</span>(<span class='st'>"A\n1.010203040506070809010203040506\n"</span>)
<span class='co'># TODO: add numerals=c("allow.loss", "warn.loss", "no.loss") from base::read.table, +"use.Rmpfr"</span>
<span class='fu'><a href='https://rdrr.io/r/base/typeof.html'>typeof</a></span>(<span class='no'>DT</span>$<span class='no'>A</span>)<span class='kw'>==</span><span class='st'>"double"</span>   <span class='co'># currently "allow.loss" with no option</span></div><div class='output co'>#&gt; [1] TRUE</div><div class='input'>
<span class='no'>DT</span> <span class='kw'>=</span> <span class='fu'>fread</span>(<span class='st'>"A\n1.46761e-313\n"</span>)   <span class='co'># read as 'numeric'</span>
<span class='no'>DT</span>[,<span class='fu'><a href='https://rdrr.io/r/base/sprintf.html'>sprintf</a></span>(<span class='st'>"%.15E"</span>,<span class='no'>A</span>)]   <span class='co'># beyond what double precision can store accurately to 15 digits</span></div><div class='output co'>#&gt; [1] "1.467610000018072E-313"</div><div class='input'><span class='co'># For greater accuracy use colClasses to read as character, then package Rmpfr.</span>

<span class='co'># colClasses</span>
<span class='no'>data</span> <span class='kw'>=</span> <span class='st'>"A,B,C,D\n1,3,5,7\n2,4,6,8\n"</span>
<span class='fu'>fread</span>(<span class='no'>data</span>, <span class='kw'>colClasses</span><span class='kw'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='kw'>B</span><span class='kw'>=</span><span class='st'>"character"</span>,<span class='kw'>C</span><span class='kw'>=</span><span class='st'>"character"</span>,<span class='kw'>D</span><span class='kw'>=</span><span class='st'>"character"</span>))  <span class='co'># as read.csv</span></div><div class='output co'>#&gt;    A B C D
#&gt; 1: 1 3 5 7
#&gt; 2: 2 4 6 8</div><div class='input'><span class='fu'>fread</span>(<span class='no'>data</span>, <span class='kw'>colClasses</span><span class='kw'>=</span><span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(<span class='kw'>character</span><span class='kw'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"B"</span>,<span class='st'>"C"</span>,<span class='st'>"D"</span>)))    <span class='co'># saves typing</span></div><div class='output co'>#&gt;    A B C D
#&gt; 1: 1 3 5 7
#&gt; 2: 2 4 6 8</div><div class='input'><span class='fu'>fread</span>(<span class='no'>data</span>, <span class='kw'>colClasses</span><span class='kw'>=</span><span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(<span class='kw'>character</span><span class='kw'>=</span><span class='fl'>2</span>:<span class='fl'>4</span>))     <span class='co'># same using column numbers</span></div><div class='output co'>#&gt;    A B C D
#&gt; 1: 1 3 5 7
#&gt; 2: 2 4 6 8</div><div class='input'>
<span class='co'># drop</span>
<span class='fu'>fread</span>(<span class='no'>data</span>, <span class='kw'>colClasses</span><span class='kw'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"B"</span><span class='kw'>=</span><span class='st'>"NULL"</span>,<span class='st'>"C"</span><span class='kw'>=</span><span class='st'>"NULL"</span>))   <span class='co'># as read.csv</span></div><div class='output co'>#&gt;    A D
#&gt; 1: 1 7
#&gt; 2: 2 8</div><div class='input'><span class='fu'>fread</span>(<span class='no'>data</span>, <span class='kw'>colClasses</span><span class='kw'>=</span><span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(<span class='kw'>NULL</span><span class='kw'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"B"</span>,<span class='st'>"C"</span>)))      <span class='co'>#</span></div><div class='output co'>#&gt;    A D
#&gt; 1: 1 7
#&gt; 2: 2 8</div><div class='input'><span class='fu'>fread</span>(<span class='no'>data</span>, <span class='kw'>drop</span><span class='kw'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"B"</span>,<span class='st'>"C"</span>))      <span class='co'># same but less typing, easier to read</span></div><div class='output co'>#&gt;    A D
#&gt; 1: 1 7
#&gt; 2: 2 8</div><div class='input'><span class='fu'>fread</span>(<span class='no'>data</span>, <span class='kw'>drop</span><span class='kw'>=</span><span class='fl'>2</span>:<span class='fl'>3</span>)             <span class='co'># same using column numbers</span></div><div class='output co'>#&gt;    A D
#&gt; 1: 1 7
#&gt; 2: 2 8</div><div class='input'>
<span class='co'># select</span>
<span class='co'># (in read.csv you need to work out which to drop)</span>
<span class='fu'>fread</span>(<span class='no'>data</span>, <span class='kw'>select</span><span class='kw'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"A"</span>,<span class='st'>"D"</span>))    <span class='co'># less typing, easier to read</span></div><div class='output co'>#&gt;    A D
#&gt; 1: 1 7
#&gt; 2: 2 8</div><div class='input'><span class='fu'>fread</span>(<span class='no'>data</span>, <span class='kw'>select</span><span class='kw'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>1</span>,<span class='fl'>4</span>))        <span class='co'># same using column numbers</span></div><div class='output co'>#&gt;    A D
#&gt; 1: 1 7
#&gt; 2: 2 8</div><div class='input'>
<span class='co'># select and types combined</span>
<span class='fu'>fread</span>(<span class='no'>data</span>, <span class='kw'>select</span><span class='kw'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='kw'>A</span><span class='kw'>=</span><span class='st'>"numeric"</span>, <span class='kw'>D</span><span class='kw'>=</span><span class='st'>"character"</span>))</div><div class='output co'>#&gt;    A D
#&gt; 1: 1 7
#&gt; 2: 2 8</div><div class='input'><span class='fu'>fread</span>(<span class='no'>data</span>, <span class='kw'>select</span><span class='kw'>=</span><span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(<span class='kw'>numeric</span><span class='kw'>=</span><span class='st'>"A"</span>, <span class='kw'>character</span><span class='kw'>=</span><span class='st'>"D"</span>))</div><div class='output co'>#&gt;    A D
#&gt; 1: 1 7
#&gt; 2: 2 8</div><div class='input'>
<span class='co'># skip blank lines</span>
<span class='fu'>fread</span>(<span class='st'>"a,b\n1,a\n2,b\n\n\n3,c\n"</span>, <span class='kw'>blank.lines.skip</span><span class='kw'>=</span><span class='fl'>TRUE</span>)</div><div class='output co'>#&gt;    a b
#&gt; 1: 1 a
#&gt; 2: 2 b
#&gt; 3: 3 c</div><div class='input'><span class='co'># fill</span>
<span class='fu'>fread</span>(<span class='st'>"a,b\n1,a\n2\n3,c\n"</span>, <span class='kw'>fill</span><span class='kw'>=</span><span class='fl'>TRUE</span>)</div><div class='output co'>#&gt;    a b
#&gt; 1: 1 a
#&gt; 2: 2  
#&gt; 3: 3 c</div><div class='input'><span class='fu'>fread</span>(<span class='st'>"a,b\n\n1,a\n2\n\n3,c\n\n"</span>, <span class='kw'>fill</span><span class='kw'>=</span><span class='fl'>TRUE</span>)</div><div class='output co'>#&gt;     a b
#&gt; 1: NA  
#&gt; 2:  1 a
#&gt; 3:  2  
#&gt; 4: NA  
#&gt; 5:  3 c
#&gt; 6: NA  </div><div class='input'>
<span class='co'># fill with skip blank lines</span>
<span class='fu'>fread</span>(<span class='st'>"a,b\n\n1,a\n2\n\n3,c\n\n"</span>, <span class='kw'>fill</span><span class='kw'>=</span><span class='fl'>TRUE</span>, <span class='kw'>blank.lines.skip</span><span class='kw'>=</span><span class='fl'>TRUE</span>)</div><div class='output co'>#&gt;    a b
#&gt; 1: 1 a
#&gt; 2: 2  
#&gt; 3: 3 c</div><div class='input'>
<span class='co'># check.names usage</span>
<span class='fu'>fread</span>(<span class='st'>"a b,a b\n1,2\n"</span>)</div><div class='output co'>#&gt;    a b a b
#&gt; 1:   1   2</div><div class='input'><span class='fu'>fread</span>(<span class='st'>"a b,a b\n1,2\n"</span>, <span class='kw'>check.names</span><span class='kw'>=</span><span class='fl'>TRUE</span>) <span class='co'># no duplicates + syntactically valid names</span></div><div class='output co'>#&gt;    a.b a.b.1
#&gt; 1:   1     2</div><div class='input'>
<span class='kw'>if</span> (<span class='fl'>FALSE</span>) {
<span class='co'># Demo speed-up</span>
<span class='no'>n</span> <span class='kw'>=</span> <span class='fl'>1e6</span>
<span class='no'>DT</span> <span class='kw'>=</span> <span class='fu'><a href='data.table.html'>data.table</a></span>( <span class='kw'>a</span><span class='kw'>=</span><span class='fu'><a href='https://rdrr.io/r/base/sample.html'>sample</a></span>(<span class='fl'>1</span>:<span class='fl'>1000</span>,<span class='no'>n</span>,<span class='kw'>replace</span><span class='kw'>=</span><span class='fl'>TRUE</span>),
                 <span class='kw'>b</span><span class='kw'>=</span><span class='fu'><a href='https://rdrr.io/r/base/sample.html'>sample</a></span>(<span class='fl'>1</span>:<span class='fl'>1000</span>,<span class='no'>n</span>,<span class='kw'>replace</span><span class='kw'>=</span><span class='fl'>TRUE</span>),
                 <span class='kw'>c</span><span class='kw'>=</span><span class='fu'><a href='https://rdrr.io/r/stats/Normal.html'>rnorm</a></span>(<span class='no'>n</span>),
                 <span class='kw'>d</span><span class='kw'>=</span><span class='fu'><a href='https://rdrr.io/r/base/sample.html'>sample</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"foo"</span>,<span class='st'>"bar"</span>,<span class='st'>"baz"</span>,<span class='st'>"qux"</span>,<span class='st'>"quux"</span>),<span class='no'>n</span>,<span class='kw'>replace</span><span class='kw'>=</span><span class='fl'>TRUE</span>),
                 <span class='kw'>e</span><span class='kw'>=</span><span class='fu'><a href='https://rdrr.io/r/stats/Normal.html'>rnorm</a></span>(<span class='no'>n</span>),
                 <span class='kw'>f</span><span class='kw'>=</span><span class='fu'><a href='https://rdrr.io/r/base/sample.html'>sample</a></span>(<span class='fl'>1</span>:<span class='fl'>1000</span>,<span class='no'>n</span>,<span class='kw'>replace</span><span class='kw'>=</span><span class='fl'>TRUE</span>) )
<span class='no'>DT</span>[<span class='fl'>2</span>,<span class='no'>b</span><span class='kw'>:=</span><span class='fl'>NA_integer_</span>]
<span class='no'>DT</span>[<span class='fl'>4</span>,<span class='no'>c</span><span class='kw'>:=</span><span class='fl'>NA_real_</span>]
<span class='no'>DT</span>[<span class='fl'>3</span>,<span class='no'>d</span><span class='kw'>:=</span><span class='fl'>NA_character_</span>]
<span class='no'>DT</span>[<span class='fl'>5</span>,<span class='no'>d</span><span class='kw'>:=</span><span class='st'>""</span>]
<span class='no'>DT</span>[<span class='fl'>2</span>,<span class='no'>e</span><span class='kw'>:=</span>+<span class='fl'>Inf</span>]
<span class='no'>DT</span>[<span class='fl'>3</span>,<span class='no'>e</span><span class='kw'>:=</span>-<span class='fl'>Inf</span>]

<span class='fu'><a href='https://rdrr.io/r/utils/write.table.html'>write.table</a></span>(<span class='no'>DT</span>,<span class='st'>"test.csv"</span>,<span class='kw'>sep</span><span class='kw'>=</span><span class='st'>","</span>,<span class='kw'>row.names</span><span class='kw'>=</span><span class='fl'>FALSE</span>,<span class='kw'>quote</span><span class='kw'>=</span><span class='fl'>FALSE</span>)
<span class='fu'><a href='https://rdrr.io/r/base/cat.html'>cat</a></span>(<span class='st'>"File size (MB):"</span>, <span class='fu'><a href='https://rdrr.io/r/base/Round.html'>round</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/file.info.html'>file.info</a></span>(<span class='st'>"test.csv"</span>)$<span class='no'>size</span>/<span class='fl'>1024</span>^<span class='fl'>2</span>),<span class='st'>"\n"</span>)
<span class='co'># 50 MB (1e6 rows x 6 columns)</span>

<span class='fu'><a href='https://rdrr.io/r/base/system.time.html'>system.time</a></span>(<span class='no'>DF1</span> <span class='kw'>&lt;-</span><span class='fu'><a href='https://rdrr.io/r/utils/read.table.html'>read.csv</a></span>(<span class='st'>"test.csv"</span>,<span class='kw'>stringsAsFactors</span><span class='kw'>=</span><span class='fl'>FALSE</span>))
<span class='co'># 5.4 sec (first time in fresh R session)</span>

<span class='fu'><a href='https://rdrr.io/r/base/system.time.html'>system.time</a></span>(<span class='no'>DF1</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/utils/read.table.html'>read.csv</a></span>(<span class='st'>"test.csv"</span>,<span class='kw'>stringsAsFactors</span><span class='kw'>=</span><span class='fl'>FALSE</span>))
<span class='co'># 3.9 sec (immediate repeat is faster, varies)</span>

<span class='fu'><a href='https://rdrr.io/r/base/system.time.html'>system.time</a></span>(<span class='no'>DF2</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/utils/read.table.html'>read.table</a></span>(<span class='st'>"test.csv"</span>,<span class='kw'>header</span><span class='kw'>=</span><span class='fl'>TRUE</span>,<span class='kw'>sep</span><span class='kw'>=</span><span class='st'>","</span>,<span class='kw'>quote</span><span class='kw'>=</span><span class='st'>""</span>,
    <span class='kw'>stringsAsFactors</span><span class='kw'>=</span><span class='fl'>FALSE</span>,<span class='kw'>comment.char</span><span class='kw'>=</span><span class='st'>""</span>,<span class='kw'>nrows</span><span class='kw'>=</span><span class='no'>n</span>,
    <span class='kw'>colClasses</span><span class='kw'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"integer"</span>,<span class='st'>"integer"</span>,<span class='st'>"numeric"</span>,
                 <span class='st'>"character"</span>,<span class='st'>"numeric"</span>,<span class='st'>"integer"</span>)))
<span class='co'># 1.2 sec (consistently). All known tricks and known nrows, see references.</span>

<span class='fu'><a href='https://rdrr.io/r/base/system.time.html'>system.time</a></span>(<span class='no'>DT</span> <span class='kw'>&lt;-</span> <span class='fu'>fread</span>(<span class='st'>"test.csv"</span>))
<span class='co'># 0.1 sec (faster and friendlier)</span>

<span class='fu'><a href='https://rdrr.io/r/base/identical.html'>identical</a></span>(<span class='no'>DF1</span>, <span class='no'>DF2</span>)
<span class='fu'><a href='all.equal.data.table.html'>all.equal</a></span>(<span class='fu'><a href='as.data.table.html'>as.data.table</a></span>(<span class='no'>DF1</span>), <span class='no'>DT</span>)

<span class='co'># Scaling up ...</span>
<span class='no'>l</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/vector.html'>vector</a></span>(<span class='st'>"list"</span>,<span class='fl'>10</span>)
<span class='kw'>for</span> (<span class='no'>i</span> <span class='kw'>in</span> <span class='fl'>1</span>:<span class='fl'>10</span>) <span class='no'>l</span><span class='kw'>[[</span><span class='no'>i</span>]] <span class='kw'>=</span> <span class='no'>DT</span>
<span class='no'>DTbig</span> <span class='kw'>=</span> <span class='fu'><a href='rbindlist.html'>rbindlist</a></span>(<span class='no'>l</span>)
<span class='fu'><a href='tables.html'>tables</a></span>()
<span class='fu'><a href='https://rdrr.io/r/utils/write.table.html'>write.table</a></span>(<span class='no'>DTbig</span>,<span class='st'>"testbig.csv"</span>,<span class='kw'>sep</span><span class='kw'>=</span><span class='st'>","</span>,<span class='kw'>row.names</span><span class='kw'>=</span><span class='fl'>FALSE</span>,<span class='kw'>quote</span><span class='kw'>=</span><span class='fl'>FALSE</span>)
<span class='co'># 500MB csv (10 million rows x 6 columns)</span>

<span class='fu'><a href='https://rdrr.io/r/base/system.time.html'>system.time</a></span>(<span class='no'>DF</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/utils/read.table.html'>read.table</a></span>(<span class='st'>"testbig.csv"</span>,<span class='kw'>header</span><span class='kw'>=</span><span class='fl'>TRUE</span>,<span class='kw'>sep</span><span class='kw'>=</span><span class='st'>","</span>,
    <span class='kw'>quote</span><span class='kw'>=</span><span class='st'>""</span>,<span class='kw'>stringsAsFactors</span><span class='kw'>=</span><span class='fl'>FALSE</span>,<span class='kw'>comment.char</span><span class='kw'>=</span><span class='st'>""</span>,<span class='kw'>nrows</span><span class='kw'>=</span><span class='fl'>1e7</span>,
    <span class='kw'>colClasses</span><span class='kw'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"integer"</span>,<span class='st'>"integer"</span>,<span class='st'>"numeric"</span>,
                 <span class='st'>"character"</span>,<span class='st'>"numeric"</span>,<span class='st'>"integer"</span>)))
<span class='co'># 17.0 sec (varies)</span>

<span class='fu'><a href='https://rdrr.io/r/base/system.time.html'>system.time</a></span>(<span class='no'>DT</span> <span class='kw'>&lt;-</span> <span class='fu'>fread</span>(<span class='st'>"testbig.csv"</span>))
<span class='co'>#  0.8 sec</span>

<span class='fu'><a href='https://rdrr.io/r/base/all.html'>all</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/mapply.html'>mapply</a></span>(<span class='no'>all.equal</span>, <span class='no'>DF</span>, <span class='no'>DT</span>))


<span class='co'># Real data example (Airline data)</span>
<span class='co'># http://stat-computing.org/dataexpo/2009/the-data.html</span>

<span class='fu'><a href='https://rdrr.io/r/utils/download.file.html'>download.file</a></span>(<span class='st'>"http://stat-computing.org/dataexpo/2009/2008.csv.bz2"</span>,
              <span class='kw'>destfile</span><span class='kw'>=</span><span class='st'>"2008.csv.bz2"</span>)
<span class='co'># 109MB (compressed)</span>

<span class='fu'><a href='https://rdrr.io/r/base/system.html'>system</a></span>(<span class='st'>"bunzip2 2008.csv.bz2"</span>)
<span class='co'># 658MB (7,009,728 rows x 29 columns)</span>

<span class='no'>colClasses</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/lapply.html'>sapply</a></span>(<span class='fu'><a href='https://rdrr.io/r/utils/read.table.html'>read.csv</a></span>(<span class='st'>"2008.csv"</span>,<span class='kw'>nrows</span><span class='kw'>=</span><span class='fl'>100</span>,<span class='kw'>stringsAsFactors</span><span class='kw'>=</span><span class='fl'>FALSE</span>),<span class='no'>class</span>)
<span class='co'># 4 character, 24 integer, 1 logical. Incorrect.</span>

<span class='no'>colClasses</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/lapply.html'>sapply</a></span>(<span class='fu'><a href='https://rdrr.io/r/utils/read.table.html'>read.csv</a></span>(<span class='st'>"2008.csv"</span>,<span class='kw'>nrows</span><span class='kw'>=</span><span class='fl'>200</span>,<span class='kw'>stringsAsFactors</span><span class='kw'>=</span><span class='fl'>FALSE</span>),<span class='no'>class</span>)
<span class='co'># 5 character, 24 integer. Correct. Might have missed data only using 100 rows</span>
<span class='co'># since read.table assumes colClasses is correct.</span>

<span class='fu'><a href='https://rdrr.io/r/base/system.time.html'>system.time</a></span>(<span class='no'>DF</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/utils/read.table.html'>read.table</a></span>(<span class='st'>"2008.csv"</span>, <span class='kw'>header</span><span class='kw'>=</span><span class='fl'>TRUE</span>, <span class='kw'>sep</span><span class='kw'>=</span><span class='st'>","</span>,
    <span class='kw'>quote</span><span class='kw'>=</span><span class='st'>""</span>,<span class='kw'>stringsAsFactors</span><span class='kw'>=</span><span class='fl'>FALSE</span>,<span class='kw'>comment.char</span><span class='kw'>=</span><span class='st'>""</span>,<span class='kw'>nrows</span><span class='kw'>=</span><span class='fl'>7009730</span>,
    <span class='kw'>colClasses</span><span class='kw'>=</span><span class='no'>colClasses</span>))
<span class='co'># 24.4 secs</span>

<span class='fu'><a href='https://rdrr.io/r/base/system.time.html'>system.time</a></span>(<span class='no'>DT</span> <span class='kw'>&lt;-</span> <span class='fu'>fread</span>(<span class='st'>"2008.csv"</span>))
<span class='co'>#  1.9 secs</span>

<span class='fu'><a href='https://rdrr.io/r/base/table.html'>table</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/lapply.html'>sapply</a></span>(<span class='no'>DT</span>,<span class='no'>class</span>))
<span class='co'># 5 character and 24 integer columns. Correct without needing to worry about colClasses</span>
<span class='co'># issue above.</span>


<span class='co'># Reads URLs directly :</span>
<span class='fu'>fread</span>(<span class='st'>"http://www.stats.ox.ac.uk/pub/datasets/csb/ch11b.dat"</span>)

<span class='co'># Decompresses .gz and .bz2 automatically :</span>
<span class='fu'>fread</span>(<span class='st'>"http://stat-computing.org/dataexpo/2009/1987.csv.bz2"</span>)

}</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      <li><a href="#details">Details</a></li>
      <li><a href="#value">Value</a></li>
      <li><a href="#references">References</a></li>
      <li><a href="#see-also">See also</a></li>
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Matt Dowle, Arun Srinivasan.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


