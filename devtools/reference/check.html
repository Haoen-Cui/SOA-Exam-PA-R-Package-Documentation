<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Build and check a package, cleaning up automatically on success. — check • devtools</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Build and check a package, cleaning up automatically on success. — check" />
<meta property="og:description" content="check automatically builds and checks a source package, using all
known best practices. check_built checks an already built package." />
<meta property="og:image" content="/logo.png" />
<meta name="twitter:card" content="summary" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">devtools</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">2.2.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fas fa fas fa-archive fa-lg"></span>
     
    R Packages
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../../boot/index.html">boot</a>
    </li>
    <li>
      <a href="../../broom/index.html">broom</a>
    </li>
    <li>
      <a href="../../caret/index.html">caret</a>
    </li>
    <li>
      <a href="../../cluster/index.html">cluster</a>
    </li>
    <li>
      <a href="../../coefplot/index.html">coefplot</a>
    </li>
    <li>
      <a href="../../data.table/index.html">data.table</a>
    </li>
    <li>
      <a href="../../devtools/index.html">devtools</a>
    </li>
    <li>
      <a href="../../dplyr/index.html">dplyr</a>
    </li>
    <li>
      <a href="../../e1071/index.html">e1071</a>
    </li>
    <li>
      <a href="../../forcats/index.html">forcats</a>
    </li>
    <li>
      <a href="../../gbm/index.html">gbm</a>
    </li>
    <li>
      <a href="../../ggplot2/index.html">ggplot2</a>
    </li>
    <li>
      <a href="../../glmnet/index.html">glmnet</a>
    </li>
    <li>
      <a href="../../gridExtra/index.html">gridExtra</a>
    </li>
    <li>
      <a href="../../ISLR/index.html">ISLR</a>
    </li>
    <li>
      <a href="../../MASS/index.html">MASS</a>
    </li>
    <li>
      <a href="../../pdp/index.html">pdp</a>
    </li>
    <li>
      <a href="../../pls/index.html">pls</a>
    </li>
    <li>
      <a href="../../plyr/index.html">plyr</a>
    </li>
    <li>
      <a href="../../pROC/index.html">pROC</a>
    </li>
    <li>
      <a href="../../purrr/index.html">purrr</a>
    </li>
    <li>
      <a href="../../randomForest/index.html">randomForest</a>
    </li>
    <li>
      <a href="../../readr/index.html">readr</a>
    </li>
    <li>
      <a href="../../rpart/index.html">rpart</a>
    </li>
    <li>
      <a href="../../rpart.plot/index.html">rpart.plot</a>
    </li>
    <li>
      <a href="../../stringr/index.html">stringr</a>
    </li>
    <li>
      <a href="../../tibble/index.html">tibble</a>
    </li>
    <li>
      <a href="../../tidyr/index.html">tidyr</a>
    </li>
    <li>
      <a href="../../xgboost/index.html">xgboost</a>
    </li>
  </ul>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/dependencies.html">Devtools dependencies</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/r-lib/devtools">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Build and check a package, cleaning up automatically on success.</h1>
    <small class="dont-index">Source: <a href='https://github.com/r-lib/devtools/blob/master/R/check.R'><code>R/check.R</code></a></small>
    <div class="hidden name"><code>check.Rd</code></div>
    </div>

    <div class="ref-description">
    <p><code>check</code> automatically builds and checks a source package, using all
known best practices. <code>check_built</code> checks an already built package.</p>
    </div>

    <pre class="usage"><span class='fu'>check</span>(<span class='kw'>pkg</span> <span class='kw'>=</span> <span class='st'>"."</span>, <span class='kw'>document</span> <span class='kw'>=</span> <span class='fl'>NA</span>, <span class='kw'>build_args</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='no'>...</span>,
  <span class='kw'>manual</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>cran</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>remote</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>incoming</span> <span class='kw'>=</span> <span class='no'>remote</span>,
  <span class='kw'>force_suggests</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>run_dont_test</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>args</span> <span class='kw'>=</span> <span class='st'>"--timings"</span>,
  <span class='kw'>env_vars</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>quiet</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>check_dir</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/tempfile.html'>tempdir</a></span>(),
  <span class='kw'>cleanup</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>error_on</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"never"</span>, <span class='st'>"error"</span>, <span class='st'>"warning"</span>, <span class='st'>"note"</span>))

<span class='fu'>check_built</span>(<span class='kw'>path</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>cran</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>remote</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>incoming</span> <span class='kw'>=</span> <span class='no'>remote</span>, <span class='kw'>force_suggests</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>run_dont_test</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>manual</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>args</span> <span class='kw'>=</span> <span class='st'>"--timings"</span>, <span class='kw'>env_vars</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>check_dir</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/tempfile.html'>tempdir</a></span>(), <span class='kw'>quiet</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>error_on</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"never"</span>,
  <span class='st'>"error"</span>, <span class='st'>"warning"</span>, <span class='st'>"note"</span>))</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>pkg</th>
      <td><p>The package to use, can be a file path to the package or a
package object.  See <code><a href='as.package.html'>as.package()</a></code> for more information.</p></td>
    </tr>
    <tr>
      <th>document</th>
      <td><p>If <code>NA</code> and the package uses roxygen2, will
rerun <code><a href='document.html'>document()</a></code> prior to checking. Use <code>TRUE</code>
and <code>FALSE</code> to override this default.</p></td>
    </tr>
    <tr>
      <th>build_args</th>
      <td><p>Additional arguments passed to <code>R CMD build</code></p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Additional arguments passed on to <code><a href='https://rdrr.io/pkg/pkgbuild/man/build.html'>pkgbuild::build()</a></code>.</p></td>
    </tr>
    <tr>
      <th>manual</th>
      <td><p>If <code>FALSE</code>, don't build and check manual
(<code>--no-manual</code>).</p></td>
    </tr>
    <tr>
      <th>cran</th>
      <td><p>if <code>TRUE</code> (the default), check using the same settings as
CRAN uses.</p></td>
    </tr>
    <tr>
      <th>remote</th>
      <td><p>Sets <code>_R_CHECK_CRAN_INCOMING_REMOTE_</code> env var.
If <code>TRUE</code>, performs a number of CRAN incoming checks that require
remote access.</p></td>
    </tr>
    <tr>
      <th>incoming</th>
      <td><p>Sets <code>_R_CHECK_CRAN_INCOMING_</code> env var.
If <code>TRUE</code>, performs a number of CRAN incoming checks.</p></td>
    </tr>
    <tr>
      <th>force_suggests</th>
      <td><p>Sets <code>_R_CHECK_FORCE_SUGGESTS_</code>. If
<code>FALSE</code> (the default), check will proceed even if all suggested
packages aren't found.</p></td>
    </tr>
    <tr>
      <th>run_dont_test</th>
      <td><p>Sets <code>--run-donttest</code> so that tests surrounded in
<code>\dontest{}</code> are also tested. This is important for CRAN
submission.</p></td>
    </tr>
    <tr>
      <th>args</th>
      <td><p>Additional arguments passed to <code>R CMD check</code></p></td>
    </tr>
    <tr>
      <th>env_vars</th>
      <td><p>Environment variables set during <code>R CMD check</code></p></td>
    </tr>
    <tr>
      <th>quiet</th>
      <td><p>if <code>TRUE</code> suppresses output from this function.</p></td>
    </tr>
    <tr>
      <th>check_dir</th>
      <td><p>the directory in which the package is checked
compatibility. <code>args = "--output=/foo/bar"</code> can be used to change the
check directory.</p></td>
    </tr>
    <tr>
      <th>cleanup</th>
      <td><p>Deprecated.</p></td>
    </tr>
    <tr>
      <th>error_on</th>
      <td><p>Whether to throw an error on <code>R CMD check</code> failures.
Note that the check is always completed (unless a timeout happens),
and the error is only thrown after completion. If <code>"never"</code>, then
no errors are thrown. If <code>"error"</code>, then only <code>ERROR</code> failures
generate errors. If <code>"warning"</code>, then <code>WARNING</code> failures generate
errors as well. If <code>"note"</code>, then any check failure generated an
error.</p></td>
    </tr>
    <tr>
      <th>path</th>
      <td><p>Path to built package.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>An object containing errors, warnings, and notes.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>Passing <code>R CMD check</code> is essential if you want to submit your package
to CRAN: you must not have any ERRORs or WARNINGs, and you want to ensure
that there are as few NOTEs as possible.  If you are not submitting to CRAN,
at least ensure that there are no ERRORs or WARNINGs: these typically
represent serious problems.</p>
<p><code>check</code> automatically builds a package before calling <code>check_built</code>
as this is the recommended way to check packages.  Note that this process
runs in an independent realisation of R, so nothing in your current
workspace will affect the process.</p>
    <h2 class="hasAnchor" id="environment-variables"><a class="anchor" href="#environment-variables"></a>Environment variables</h2>

    


<p>Devtools does its best to set up an environment that combines best practices
with how check works on CRAN. This includes:</p>
<ul>
<li><p>The standard environment variables set by devtools:
<code><a href='r_env_vars.html'>r_env_vars()</a></code>. Of particular note for package tests is the
<code>NOT_CRAN</code> env var which lets you know that your tests are not
running on CRAN, and hence can take a reasonable amount of time.</p></li>
<li><p>Debugging flags for the compiler, set by
<code>compiler_flags(FALSE)</code>.</p></li>
<li><p>If <code>aspell</code> is found <code>_R_CHECK_CRAN_INCOMING_USE_ASPELL_</code>
is set to <code>TRUE</code>. If no spell checker is installed, a warning is
issued.)</p></li>
<li><p>env vars set by arguments <code>incoming</code>, <code>remote</code> and
<code>force_suggests</code></p></li>
</ul>

    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='release.html'>release()</a></code> if you want to send the checked package to
CRAN.</p></div>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      <li><a href="#value">Value</a></li>
      <li><a href="#details">Details</a></li>
      <li><a href="#environment-variables">Environment variables</a></li>
      <li><a href="#see-also">See also</a></li>
    </ul>

  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by <a href='http://hadley.nz'>Hadley Wickham</a>, Jim Hester, Winston Chang.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


