<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Parameter Tuning of Functions Using Grid Search — tune • e1071</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Parameter Tuning of Functions Using Grid Search — tune" />
<meta property="og:description" content="This generic function tunes hyperparameters of statistical methods
  using a grid search over supplied parameter ranges." />
<meta name="twitter:card" content="summary" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">e1071</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.7.3</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fas fa fas fa-archive fa-lg"></span>
     
    R Packages
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../../boot/index.html">boot</a>
    </li>
    <li>
      <a href="../../broom/index.html">broom</a>
    </li>
    <li>
      <a href="../../caret/index.html">caret</a>
    </li>
    <li>
      <a href="../../cluster/index.html">cluster</a>
    </li>
    <li>
      <a href="../../coefplot/index.html">coefplot</a>
    </li>
    <li>
      <a href="../../data.table/index.html">data.table</a>
    </li>
    <li>
      <a href="../../devtools/index.html">devtools</a>
    </li>
    <li>
      <a href="../../dplyr/index.html">dplyr</a>
    </li>
    <li>
      <a href="../../e1071/index.html">e1071</a>
    </li>
    <li>
      <a href="../../forcats/index.html">forcats</a>
    </li>
    <li>
      <a href="../../gbm/index.html">gbm</a>
    </li>
    <li>
      <a href="../../ggplot2/index.html">ggplot2</a>
    </li>
    <li>
      <a href="../../glmnet/index.html">glmnet</a>
    </li>
    <li>
      <a href="../../gridExtra/index.html">gridExtra</a>
    </li>
    <li>
      <a href="../../ISLR/index.html">ISLR</a>
    </li>
    <li>
      <a href="../../MASS/index.html">MASS</a>
    </li>
    <li>
      <a href="../../pdp/index.html">pdp</a>
    </li>
    <li>
      <a href="../../pls/index.html">pls</a>
    </li>
    <li>
      <a href="../../plyr/index.html">plyr</a>
    </li>
    <li>
      <a href="../../pROC/index.html">pROC</a>
    </li>
    <li>
      <a href="../../purrr/index.html">purrr</a>
    </li>
    <li>
      <a href="../../randomForest/index.html">randomForest</a>
    </li>
    <li>
      <a href="../../readr/index.html">readr</a>
    </li>
    <li>
      <a href="../../rpart/index.html">rpart</a>
    </li>
    <li>
      <a href="../../rpart.plot/index.html">rpart.plot</a>
    </li>
    <li>
      <a href="../../stringr/index.html">stringr</a>
    </li>
    <li>
      <a href="../../tibble/index.html">tibble</a>
    </li>
    <li>
      <a href="../../tidyr/index.html">tidyr</a>
    </li>
    <li>
      <a href="../../xgboost/index.html">xgboost</a>
    </li>
  </ul>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Parameter Tuning of Functions Using Grid Search</h1>
    
    <div class="hidden name"><code>tune.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This generic function tunes hyperparameters of statistical methods
  using a grid search over supplied parameter ranges.</p>
    </div>

    <pre class="usage"><span class='fu'>tune</span>(<span class='no'>method</span>, <span class='no'>train.x</span>, <span class='kw'>train.y</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>data</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(), <span class='kw'>validation.x</span> <span class='kw'>=</span>
     <span class='kw'>NULL</span>, <span class='kw'>validation.y</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>ranges</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>predict.func</span> <span class='kw'>=</span> <span class='no'>predict</span>,
     <span class='kw'>tunecontrol</span> <span class='kw'>=</span> <span class='fu'><a href='tune.control.html'>tune.control</a></span>(), <span class='no'>...</span>)
<span class='fu'>best.tune</span>(<span class='no'>...</span>)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>method</th>
      <td><p>either the function to be tuned, or a character string
    naming such a function.</p></td>
    </tr>
    <tr>
      <th>train.x</th>
      <td><p>either a formula or a matrix of predictors.</p></td>
    </tr>
    <tr>
      <th>train.y</th>
      <td><p>the response variable if <code>train.x</code> is a predictor
    matrix. Ignored if <code>train.x</code> is a formula.</p></td>
    </tr>
    <tr>
      <th>data</th>
      <td><p>data, if a formula interface is used. Ignored, if
    predictor matrix and response are supplied directly.</p></td>
    </tr>
    <tr>
      <th>validation.x</th>
      <td><p>an optional validation set. Depending on whether a
    formula interface is used or not, the response can be
    included in <code>validation.x</code> or separately specified using
    <code>validation.y</code>. Only used for bootstrap and fixed validation
    set (see <code><a href='tune.control.html'>tune.control</a></code>)</p></td>
    </tr>
    <tr>
      <th>validation.y</th>
      <td><p>if no formula interface is used, the response of
    the (optional) validation set. Only used for bootstrap and fixed validation
    set (see <code><a href='tune.control.html'>tune.control</a></code>)</p></td>
    </tr>
    <tr>
      <th>ranges</th>
      <td><p>a named list of parameter vectors spanning the sampling
    space. The vectors will usually be created by <code>seq</code>.</p></td>
    </tr>
    <tr>
      <th>predict.func</th>
      <td><p>optional predict function, if the standard <code>predict</code>
    behavior is inadequate.</p></td>
    </tr>
    <tr>
      <th>tunecontrol</th>
      <td><p>object of class <code>"tune.control"</code>, as created by the
    function <code><a href='tune.control.html'>tune.control()</a></code>. If omitted, <code><a href='tune.control.html'>tune.control()</a></code>
    gives the defaults.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Further parameters passed to the training functions.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>For <code>tune</code>, an object of class <code>tune</code>, including the components:</p>
<dt>best.parameters</dt><dd><p>a 1 x k data frame, k number of parameters.</p></dd>
  <dt>best.performance</dt><dd><p>best achieved performance.</p></dd>
  <dt>performances</dt><dd><p>if requested, a data frame of all parameter
    combinations along with the corresponding performance results.</p></dd>
  <dt>train.ind</dt><dd><p>list of index vectors used for splits into
    training and validation sets.</p></dd>
  <dt>best.model</dt><dd><p>if requested, the model trained on the complete training data
    using the best parameter combination.</p></dd>
  
  best.tune() returns the best model detected by tune.

    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>As performance measure, the classification error is used
  for classification, and the mean squared error for regression. It is
  possible to specify only one parameter combination (i.e., vectors of
  length 1) to obtain an error estimation of the specified type
  (bootstrap, cross-classification, etc.) on the given data set. For
  convenience, there
  are several <code>tune.foo()</code> wrappers defined, e.g., for
  <code>nnet()</code>, <code>randomForest()</code>,
  <code>rpart()</code>, <code><a href='svm.html'>svm()</a></code>, and <code>knn()</code>.</p>
<p>Cross-validation randomizes the data set before building the splits
  which---once created---remain constant during the training
  process. The splits can be recovered through the <code>train.ind</code>
  component of the returned object.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='tune.control.html'>tune.control</a></code>, <code><a href='plot.tune.html'>plot.tune</a></code>,
  <code><a href='tune.wrapper.html'>tune.svm</a></code>, <a href='tune.wrapper.html'>tune.wrapper</a></p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'>  <span class='fu'><a href='https://rdrr.io/r/utils/data.html'>data</a></span>(<span class='no'>iris</span>)
  <span class='co'>## tune `svm' for classification with RBF-kernel (default in svm),</span>
  <span class='co'>## using one split for training/validation set</span>

  <span class='no'>obj</span> <span class='kw'>&lt;-</span> <span class='fu'>tune</span>(<span class='no'>svm</span>, <span class='no'>Species</span>~<span class='no'>.</span>, <span class='kw'>data</span> <span class='kw'>=</span> <span class='no'>iris</span>,
              <span class='kw'>ranges</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(<span class='kw'>gamma</span> <span class='kw'>=</span> <span class='fl'>2</span>^(-<span class='fl'>1</span>:<span class='fl'>1</span>), <span class='kw'>cost</span> <span class='kw'>=</span> <span class='fl'>2</span>^(<span class='fl'>2</span>:<span class='fl'>4</span>)),
              <span class='kw'>tunecontrol</span> <span class='kw'>=</span> <span class='fu'><a href='tune.control.html'>tune.control</a></span>(<span class='kw'>sampling</span> <span class='kw'>=</span> <span class='st'>"fix"</span>)
             )

  <span class='co'>## alternatively:</span>
  <span class='co'>## obj &lt;- tune.svm(Species~., data = iris, gamma = 2^(-1:1), cost = 2^(2:4))</span>

  <span class='fu'><a href='https://rdrr.io/r/base/summary.html'>summary</a></span>(<span class='no'>obj</span>)</div><div class='output co'>#&gt; 
#&gt; Parameter tuning of ‘svm’:
#&gt; 
#&gt; - sampling method: fixed training/validation set 
#&gt; 
#&gt; - best parameters:
#&gt;  gamma cost
#&gt;    0.5    4
#&gt; 
#&gt; - best performance: 0.06 
#&gt; 
#&gt; - Detailed performance results:
#&gt;   gamma cost error dispersion
#&gt; 1   0.5    4  0.06         NA
#&gt; 2   1.0    4  0.06         NA
#&gt; 3   2.0    4  0.08         NA
#&gt; 4   0.5    8  0.06         NA
#&gt; 5   1.0    8  0.06         NA
#&gt; 6   2.0    8  0.08         NA
#&gt; 7   0.5   16  0.06         NA
#&gt; 8   1.0   16  0.06         NA
#&gt; 9   2.0   16  0.08         NA
#&gt; </div><div class='input'>  <span class='fu'><a href='https://rdrr.io/r/graphics/plot.html'>plot</a></span>(<span class='no'>obj</span>)</div><div class='img'><img src='tune-1.png' alt='' width='700' height='433' /></div><div class='input'>
  <span class='co'>## tune `knn' using a convenience function; this time with the</span>
  <span class='co'>## conventional interface and bootstrap sampling:</span>
  <span class='no'>x</span> <span class='kw'>&lt;-</span> <span class='no'>iris</span>[,-<span class='fl'>5</span>]
  <span class='no'>y</span> <span class='kw'>&lt;-</span> <span class='no'>iris</span>[,<span class='fl'>5</span>]
  <span class='no'>obj2</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='tune.wrapper.html'>tune.knn</a></span>(<span class='no'>x</span>, <span class='no'>y</span>, <span class='kw'>k</span> <span class='kw'>=</span> <span class='fl'>1</span>:<span class='fl'>5</span>, <span class='kw'>tunecontrol</span> <span class='kw'>=</span> <span class='fu'><a href='tune.control.html'>tune.control</a></span>(<span class='kw'>sampling</span> <span class='kw'>=</span> <span class='st'>"boot"</span>))
  <span class='fu'><a href='https://rdrr.io/r/base/summary.html'>summary</a></span>(<span class='no'>obj2</span>)</div><div class='output co'>#&gt; 
#&gt; Parameter tuning of ‘knn.wrapper’:
#&gt; 
#&gt; - sampling method: bootstrapping 
#&gt; 
#&gt; - best parameters:
#&gt;  k
#&gt;  5
#&gt; 
#&gt; - best performance: 0.04579185 
#&gt; 
#&gt; - Detailed performance results:
#&gt;   k      error dispersion
#&gt; 1 1 0.04719515 0.02235784
#&gt; 2 2 0.05587686 0.02508103
#&gt; 3 3 0.04914426 0.02546761
#&gt; 4 4 0.05697707 0.02697038
#&gt; 5 5 0.04579185 0.02672776
#&gt; </div><div class='input'>  <span class='fu'><a href='https://rdrr.io/r/graphics/plot.html'>plot</a></span>(<span class='no'>obj2</span>)</div><div class='img'><img src='tune-2.png' alt='' width='700' height='433' /></div><div class='input'>
  <span class='co'>## tune `rpart' for regression, using 10-fold cross validation (default)</span>
  <span class='fu'><a href='https://rdrr.io/r/utils/data.html'>data</a></span>(<span class='no'>mtcars</span>)
  <span class='no'>obj3</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='tune.wrapper.html'>tune.rpart</a></span>(<span class='no'>mpg</span>~<span class='no'>.</span>, <span class='kw'>data</span> <span class='kw'>=</span> <span class='no'>mtcars</span>, <span class='kw'>minsplit</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>5</span>,<span class='fl'>10</span>,<span class='fl'>15</span>))
  <span class='fu'><a href='https://rdrr.io/r/base/summary.html'>summary</a></span>(<span class='no'>obj3</span>)</div><div class='output co'>#&gt; 
#&gt; Parameter tuning of ‘rpart.wrapper’:
#&gt; 
#&gt; - sampling method: 10-fold cross validation 
#&gt; 
#&gt; - best parameters:
#&gt;  minsplit
#&gt;         5
#&gt; 
#&gt; - best performance: 9.726497 
#&gt; 
#&gt; - Detailed performance results:
#&gt;   minsplit     error dispersion
#&gt; 1        5  9.726497   8.039225
#&gt; 2       10 12.292900   9.404842
#&gt; 3       15 16.752786  10.311727
#&gt; </div><div class='input'>  <span class='fu'><a href='https://rdrr.io/r/graphics/plot.html'>plot</a></span>(<span class='no'>obj3</span>)</div><div class='img'><img src='tune-3.png' alt='' width='700' height='433' /></div><div class='input'>
  <span class='co'>## simple error estimation for lm using 10-fold cross validation</span>
  <span class='fu'>tune</span>(<span class='no'>lm</span>, <span class='no'>mpg</span>~<span class='no'>.</span>, <span class='kw'>data</span> <span class='kw'>=</span> <span class='no'>mtcars</span>)</div><div class='output co'>#&gt; 
#&gt; Error estimation of ‘lm’ using 10-fold cross validation: 9.966238
#&gt; </div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      <li><a href="#value">Value</a></li>
      <li><a href="#details">Details</a></li>
      <li><a href="#see-also">See also</a></li>
      <li><a href="#examples">Examples</a></li>
    </ul>

    <h2>Author</h2>
    <p>David Meyer<br />
  <a href='mailto:David.Meyer@R-project.org'>David.Meyer@R-project.org</a></p>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by David Meyer, Evgenia Dimitriadou, Kurt Hornik, Andreas Weingessel, Friedrich Leisch.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


